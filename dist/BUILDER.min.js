var XAPI;(()=>{"use strict";var t={900:(t,e)=>{e.__esModule=!0;e.default={endpoint:"http://wickedstorm.iptime.org/data/xAPI/",username:"5b7a6060d79cff00aaa9ee67b9169bbe238473b2",password:"9580718c71e462f0a8ce63445b3415465cdff7c2",version:"1.0.3"}},850:(t,e,i)=>{e.__esModule=!0,e.mediaProfile=void 0;var s=i(453),n=function(){function t(){this.segments="",this.played_segments="",this.mediaSessionId=s.v4(),this.started=!1,this.VerbDic={initialized:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/initialized",display:{"en-US":"initialized"}},played:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/played",display:{"en-US":"played"}},paused:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/paused",display:{"en-US":"paused"}},seeked:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/seeked",display:{"en-US":"seeked"}},completed:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/completed",display:{"en-US":"completed"}},terminated:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/terminated",display:{"en-US":"terminated"}},interacted:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/interacted",display:{"en-US":"interacted"}}},this.ActivityNames={video:{type:"https://ubion.co.kr/xapi/activity-type/video",moreInfo:"https://ubion.co.kr/xapi/activity-type/video/info"},audio:{type:"https://ubion.co.kr/xapi/activity-type/audio",moreInfo:"https://ubion.co.kr/xapi/activity-type/audio/info"}},this.ResultExtensions={time:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/time","time-from":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/time-from","time-to":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/time-to",progress:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/progress","played-segments":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/played-segments"},this.ContextExtensions={"media-session-id":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/media-session-id","cc-subtitle-enabled":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/cc-subtitle-enabled","cc-subtitle-lang":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/cc-subbtitle-lang","frame-rate":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/frame-rate","full-screen":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/full-screen",quality:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/quality","screen-size":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/screen-size","video-playback-size":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/video-playback-size",speed:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/speed",track:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/track","user-agent":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/user-agent",volume:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/volume",length:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/length","completion-threshold":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/completion-threshold",tag:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/tag"}}return t.prototype.validateVerbName=function(t){return this.VerbDic.hasOwnProperty(t)},t.prototype.getVerb=function(t){return this.validateVerbName(t.toLowerCase())?(this.setVerb(t),this._verb):(console.log({error:"setVerb is fail."}),{error:"getVerb is fail."})},t.prototype.setVerb=function(t){return""!==this.VerbDic[t].id?(this._verb={id:this.VerbDic[t].id,display:this.VerbDic[t].display},!0):(console.log({error:"setVerb is fail."}),!1)},t.prototype.validateActivityName=function(t){return this.ActivityNames.hasOwnProperty(t.toLocaleLowerCase())},t.prototype.getActivity=function(t,e,i,s){return this.validateActivityName(t)?(this.setActivity(t,e,i,s),this._activity):(console.log({error:"getActivity is fail."}),{error:"getActivity is fail"})},t.prototype.setActivity=function(t,e,i,s){t=t.toLowerCase(),e=e;var n="Activity";if(this.validateActivityName(t)){if(i!={}||null!=i||""!=i){if(s=={})return!1;this._activity={id:e,objectType:n,definition:{name:i,type:this.ActivityNames[t].type}}}else this._activity={id:e,objectType:n,definition:{name:i,type:this.ActivityNames[t].type,description:s}};return!0}return console.log({error:"setActivity is fail."}),!1},t.prototype.validateResult=function(t){var e=!0;return t.hasOwnProperty("score")&&(t.score.hasOwnProperty("scaled")&&(e=-1<=t.score.scaled&&t.score.scaled<=1),t.score.hasOwnProperty("raw")&&(e=-1<=t.score.raw&&t.score.raw<=1),t.score.hasOwnProperty("min")&&(e=-1<=t.score.min&&t.score.min<=1),t.score.hasOwnProperty("max")&&(e=-1<=t.score.max&&t.score.max<=1)),t.hasOwnProperty("completion")&&(e="boolean"==typeof t.completion),t.hasOwnProperty("duration")&&(e="number"==typeof t.duration),t.hasOwnProperty("success")&&(e="boolean"==typeof t.success),t.hasOwnProperty("response")&&(e="string"==typeof t.response),e},t.prototype.getResult=function(t,e,i){return null!=e?this.validateResult(e)?(this.setResult(t.toLocaleLowerCase(),e,i),this._result):(console.log({error:"getResult is fail."}),{error:" setResult is fails"}):(this.setResult(t,e,i),this._result)},t.prototype.setResult=function(t,e,i){var s=!1,n={};if(!this.validateExtensionName(i))return s;for(var r in i)this.ResultExtensions.hasOwnProperty(r)&&(n[this.ResultExtensions[r]]=i[r]);return null==e&&(e={}),"terminated"==t?(e.extensions=n,1==this.started&&(this.endPlayedSegment(i.time),null==e.duration?e.duration=this.setDuration():e.duration="PT"+e.duration.toFixed(3)+"S"),e.extensions[this.ResultExtensions["played-segments"]]=this.segments,this._result=e,s=!0):"paused"==t||"completed"==t?(this.started=!1,this.endPlayedSegment(i.time),null==e.duration?e.duration=this.setDuration():e.duration="PT"+e.duration.toFixed(3)+"S",e.extensions=n,e.extensions[this.ResultExtensions["played-segments"]]=this.segments,this._result=e,s=!0):"played"==t?(this.started=!0,this.startPlayedSegment(i.time),e.extensions=n,this._result=e,s=!0):"seeked"==t?this.started?(e.extensions=n,this._result=e,this.endPlayedSegment(i["time-from"]),this.startPlayedSegment(i["time-to"]),s=!0):(e.extensions=n,this._result=e,s=!0):(this._result=e,e.extensions=n,s=!0),s},t.prototype.validateContextName=function(t){return!!this.validateExtensionName(t)},t.prototype.getContext=function(t){return this.validateContextName(t)?(this.setContext(t),this._context):(console.log({error:"getContext is fail."}),{error:"getContext fail"})},t.prototype.setContext=function(t){var e={};if(!this.validateExtensionName(t))return!1;for(var i in t["media-session-id"]=this.mediaSessionId,t)this.ContextExtensions.hasOwnProperty(i)&&(e[this.ContextExtensions[i]]=t[i]);return this._context={extensions:e},!0},t.prototype.validateExtensionName=function(t){var e=!0;return t.hasOwnProperty("time")&&("number"!=typeof t.time&&(e=!1),t.time=parseFloat(t.time.toFixed(3))),t.hasOwnProperty("time-from")&&("number"!=typeof t["time-from"]&&(e=!1),t["time-from"]=parseFloat(t["time-from"].toFixed(3))),t.hasOwnProperty("time-to")&&("number"!=typeof t["time-to"]&&(e=!1),t["time-to"]=parseFloat(t["time-to"].toFixed(3))),t.hasOwnProperty("progress")&&("number"!=typeof t.progress&&(e=!1),t.progress=parseFloat(t.progress.toFixed(3))),t.hasOwnProperty("cc-subtitle-enabled")&&"boolean"!=typeof t["cc-subtitle-enabled"]&&(e=!1),t.hasOwnProperty("cc-subtitle-lang")&&"string"!=typeof t["cc-subtitle-lang"]&&(e=!1),t.hasOwnProperty("frame-rate")&&("number"!=typeof t["frame-rate"]&&(e=!1),t["frame-rate"]=parseFloat(t["frame-rate"].toFixed(3))),t.hasOwnProperty("full-screen")&&"boolean"!=typeof t["full-screen"]&&(e=!1),t.hasOwnProperty("quality")&&"string"!=typeof t.quality&&(e=!1),t.hasOwnProperty("screen-size")&&"string"!=typeof t["screen-size"]&&(e=!1),t.hasOwnProperty("video-playback-size")&&"string"!=typeof t["video-playback-size"]&&(e=!1),t.hasOwnProperty("speed")&&"string"!=typeof t.speed&&(e=!1),t.hasOwnProperty("track")&&"string"!=typeof t.track&&(e=!1),t.hasOwnProperty("user-agent")&&"string"!=typeof t["user-agent"]&&(e=!1),t.hasOwnProperty("volume")&&("number"!=typeof t.volume?e=!1:0<=t.volume&&t.volume<=1&&(t.volume=parseFloat(t.volume.toFixed(3)))),t.hasOwnProperty("length")&&("number"!=typeof t.length&&(e=!1),t.length=parseFloat(t.length.toFixed(3))),t.hasOwnProperty("completion-threshold")&&("number"!=typeof t["completion-threshold"]&&(e=!1),t["completion-threshold"]=parseFloat(t["completion-threshold"].toFixed(3))),t.hasOwnProperty("tag")&&"string"!=typeof t.tag&&(e=!1),e},t.prototype.getCurrentVerb=function(){return this._verb},t.prototype.getCurrentActivity=function(){return this._activity},t.prototype.getCurrentResult=function(){return this._result},t.prototype.getCurrentContext=function(){return this._context},t.prototype.getCurrentResultExtension=function(){return this._result.extensions},t.prototype.getCurrentContextExtension=function(){return this._context.extensions},t.prototype.setContextExtension=function(t){return!0},t.prototype.validateProfile=function(t){var e=t.verb.id,i=t.result,s=t.context,n=!1;switch(e){case this.VerbDic.initialized.id:return s.extensions.hasOwnProperty(this.ContextExtensions.length)&&s.extensions.hasOwnProperty(this.ContextExtensions["media-session-id"])&&(n=!0),n;case this.VerbDic.played.id:return i.extensions.hasOwnProperty(this.ResultExtensions.time)&&s.extensions.hasOwnProperty(this.ContextExtensions["media-session-id"])&&(n=!0),n;case this.VerbDic.paused.id:return i.extensions.hasOwnProperty(this.ResultExtensions.time)&&i.extensions.hasOwnProperty(this.ResultExtensions.progress)&&i.extensions.hasOwnProperty(this.ResultExtensions["played-segments"])&&s.extensions.hasOwnProperty(this.ContextExtensions.length)&&s.extensions.hasOwnProperty(this.ContextExtensions["media-session-id"])&&(n=!0),n;case this.VerbDic.seeked.id:return i.extensions.hasOwnProperty(this.ResultExtensions["time-from"])&&i.extensions.hasOwnProperty(this.ResultExtensions["time-to"])&&s.extensions.hasOwnProperty(this.ContextExtensions["media-session-id"])&&(n=!0),n;case this.VerbDic.completed.id:return i.hasOwnProperty("completion")&&i.hasOwnProperty("duration")&&i.extensions.hasOwnProperty(this.ResultExtensions.time)&&i.extensions.hasOwnProperty(this.ResultExtensions.progress)&&i.extensions.hasOwnProperty(this.ResultExtensions["played-segments"])&&s.extensions.hasOwnProperty(this.ContextExtensions.length)&&s.extensions.hasOwnProperty(this.ContextExtensions["media-session-id"])&&(n=!0),n;case this.VerbDic.terminated.id:return i.hasOwnProperty("duration")&&i.extensions.hasOwnProperty(this.ResultExtensions.time)&&i.extensions.hasOwnProperty(this.ResultExtensions.progress)&&i.extensions.hasOwnProperty(this.ResultExtensions["played-segments"])&&s.extensions.hasOwnProperty(this.ContextExtensions.length)&&s.extensions.hasOwnProperty(this.ContextExtensions["media-session-id"])&&(n=!0),n;case this.VerbDic.interacted.id:return i.extensions.hasOwnProperty(this.ResultExtensions.time)&&s.extensions.hasOwnProperty(this.ContextExtensions["media-session-id"])&&(n=!0),n}},t.prototype.startPlayedSegment=function(t){this.startSegments=t},t.prototype.endPlayedSegment=function(t){var e;(e=""==this.segments?[]:this.segments.split("[,]")).push(this.startSegments.toFixed(3)+"[.]"+t.toFixed(3)),this.segments=e.join("[,]"),this.endSegments=t,this.startSegments=null},t.prototype.calculateDuration=function(){var t,e;t=""==this.segments?[]:this.segments.split("[,]"),null!=this.startSegments&&t.push(this.startSegments.toFixed(3)+"[.]"+this.endSegments.toFixed(3)),e=[];var i=0;return t.forEach((function(t,s){e[s]=t.split("[.]"),e[s][0]*=1,e[s][1]*=1,e[s][1]>e[s][0]&&(i+=e[s][1]-e[s][0])})),i},t.prototype.setDuration=function(){return"PT"+this.calculateDuration().toFixed(3)+"S"},t}();e.mediaProfile=n},402:(t,e)=>{e.__esModule=!0,e.navigationProfile=void 0;var i=function(){function t(){this.iso8601RegExp=/^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$/,this.VerbDic={"moved-to":{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/moved-to",display:{"en-US":"moved-to"}},next:{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/next",display:{"en-US":"next"}},previous:{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/previous",display:{"en-US":"previous"}},clicked:{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/clicked",display:{"en-US":"clicked"}},viewed:{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/viewed",display:{"en-US":"viewed"}},"popped-up":{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/popped-up",display:{"en-US":"popped-up"}},opened:{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/opened",display:{"en-US":"opened"}},closed:{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/closed",display:{"en-US":"closed"}}},this.ActivityNames={document:{type:"https://ubion.co.kr/xapi/activity-type/document",moreInfo:"https://ubion.co.kr/xapi/activity-type/document/info"},webpage:{type:"https://ubion.co.kr/xapi/activity-type/webpage",moreInfo:"https://ubion.co.kr/xapi/activity-type/webpage/info"},menu:{type:"https://ubion.co.kr/xapi/activity-type/menu",moreInfo:"https://ubion.co.kr/xapi/activity-type/menu/info"},toc:{type:"https://ubion.co.kr/xapi/activity-type/toc",moreInfo:"https://ubion.co.kr/xapi/activity-type/toc/info"}},this.ResultExtensions={"current-index":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/result/current-index","total-index":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/result/total-index","view-started-time":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/result/view-started-time","view-ended-time":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/result/view-ended-time"},this.ContextExtensions={"target-id":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/target-id","target-type":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/target-type","target-name":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/target-name","referrer-id":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/referrer-id","referrer-type":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/referrer-type","referrer-name":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/referrer-name"}}return t.prototype.validateVerbName=function(t){return this.VerbDic.hasOwnProperty(t)},t.prototype.getVerb=function(t){return this.validateVerbName(t.toLowerCase())?(this.setVerb(t),this._verb):(console.log({error:"setVerb is fail."}),{error:"getVerb is fail."})},t.prototype.setVerb=function(t){return""!==this.VerbDic[t].id?(this._verb={id:this.VerbDic[t].id,display:this.VerbDic[t].display},!0):(console.log({error:"setVerb is fail."}),!1)},t.prototype.validateActivityName=function(t){return this.ActivityNames.hasOwnProperty(t.toLocaleLowerCase())},t.prototype.getActivity=function(t,e,i,s){return this.validateActivityName(t)?(this.setActivity(t,e,i,s),this._activity):(console.log({error:"getActivity is fail."}),{error:"getActivity is fail"})},t.prototype.setActivity=function(t,e,i,s){t=t.toLowerCase(),e=e;var n="Activity";if(this.validateActivityName(t)){if(i!={}||null!=i||""!=i){if(s=={})return!1;this._activity={id:e,objectType:n,definition:{name:i,type:this.ActivityNames[t].type}}}else this._activity={id:e,objectType:n,definition:{name:i,type:this.ActivityNames[t].type,description:s}};return!0}return console.log({error:"setActivity is fail."}),!1},t.prototype.validateResult=function(t){var e=!0;return t.hasOwnProperty("score")&&(t.score.hasOwnProperty("scaled")&&(e=-1<=t.score.scaled&&t.score.scaled<=1),t.score.hasOwnProperty("raw")&&(e=-1<=t.score.raw&&t.score.raw<=1),t.score.hasOwnProperty("min")&&(e=-1<=t.score.min&&t.score.min<=1),t.score.hasOwnProperty("max")&&(e=-1<=t.score.max&&t.score.max<=1)),t.hasOwnProperty("completion")&&(e="boolean"==typeof t.completion),t.hasOwnProperty("success")&&(e="boolean"==typeof t.success),t.hasOwnProperty("response")&&(e="string"==typeof t.response),e},t.prototype.getResult=function(t,e,i){return null!=e?this.validateResult(e)?(this.setResult(t.toLocaleLowerCase(),e,i),this._result):(console.log({error:"getResult is fail."}),{error:" setResult is fails"}):(this.setResult(t,e,i),this._result)},t.prototype.setResult=function(t,e,i){var s=!1,n={};if(!this.validateExtensionName(i))return s;for(var r in i)this.ResultExtensions.hasOwnProperty(r)&&(n[this.ResultExtensions[r]]=i[r]);return null==e&&(e={}),"viewed"==t&&(e.hasOwnProperty("duration")||(e.duration=this.setDuration(i["view-started-time"],i["view-ended-time"])),e.extensions=n,this._result=e,s=!0),this._result=e,e.extensions=n,s=!0},t.prototype.validateContextName=function(t){return!!this.validateExtensionName(t)},t.prototype.getContext=function(t){return this.validateContextName(t)?(this.setContext(t),this._context):(console.log({error:"getContext is fail."}),{error:"getContext fail"})},t.prototype.setContext=function(t){var e={};if(!this.validateExtensionName(t))return!1;for(var i in t)this.ContextExtensions.hasOwnProperty(i)&&(e[this.ContextExtensions[i]]=t[i]);return this._context={extensions:e},!0},t.prototype.validateExtensionName=function(t){var e=!0;return t.hasOwnProperty("current-index")&&"string"!=typeof t["current-index"]&&(e=!1),t.hasOwnProperty("total-index")&&"string"!=typeof t["total-index"]&&(e=!1),t.hasOwnProperty("view-started-time")&&(t["view-started-time"]=t["view-started-time"].toISOString()),t.hasOwnProperty("view-ended-time")&&(t["view-ended-time"]=t["view-ended-time"].toISOString()),t.hasOwnProperty("target-id")&&"string"!=typeof t["target-id"]&&(e=!1),t.hasOwnProperty("target-type")&&"string"!=typeof t["target-type"]&&(e=!1),t.hasOwnProperty("target-name")&&"string"!=typeof t["target-name"]&&(e=!1),t.hasOwnProperty("referrer-id")&&"string"!=typeof t["referrer-id"]&&(e=!1),t.hasOwnProperty("referrer-type")&&"string"!=typeof t["referrer-type"]&&(e=!1),t.hasOwnProperty("referrer-name")&&"string"!=typeof t["referrer-name"]&&(e=!1),e},t.prototype.getCurrentVerb=function(){return this._verb},t.prototype.getCurrentActivity=function(){return this._activity},t.prototype.getCurrentResult=function(){return this._result},t.prototype.getCurrentContext=function(){return this._context},t.prototype.getCurrentResultExtension=function(){return this._result.extensions},t.prototype.getCurrentContextExtension=function(){return this._context.extensions},t.prototype.setContextExtension=function(t){return!0},t.prototype.validateProfile=function(t){var e=t.verb.id,i=(t.result,t.context),s=!1;switch(e){case this.VerbDic["moved-to"].id:return i.extensions.hasOwnProperty(this.ContextExtensions["target-id"])&&i.extensions.hasOwnProperty(this.ContextExtensions["target-type"])&&(s=!0),s;case this.VerbDic.next.id:case this.VerbDic.previous.id:return i.extensions.hasOwnProperty(this.ContextExtensions["target-id"])&&i.extensions.hasOwnProperty(this.ContextExtensions["target-type"])&&i.extensions.hasOwnProperty(this.ContextExtensions["referrer-id"])&&i.extensions.hasOwnProperty(this.ContextExtensions["referrer-type"])&&(s=!0),s;case this.VerbDic.clicked.id:case this.VerbDic.viewed.id:return i.extensions.hasOwnProperty(this.ContextExtensions["target-id"])&&i.extensions.hasOwnProperty(this.ContextExtensions["target-type"])&&(s=!0),s;case this.VerbDic["popped-up"].id:return i.extensions.hasOwnProperty(this.ContextExtensions["target-id"])&&i.extensions.hasOwnProperty(this.ContextExtensions["target-type"])&&i.extensions.hasOwnProperty(this.ContextExtensions["referrer-id"])&&i.extensions.hasOwnProperty(this.ContextExtensions["referrer-type"])&&(s=!0),s;case this.VerbDic.opened.id:case this.VerbDic.closed.id:return i.extensions.hasOwnProperty(this.ContextExtensions["target-id"])&&i.extensions.hasOwnProperty(this.ContextExtensions["target-type"])&&(s=!0),s}},t.prototype.setDuration=function(t,e){var i=new Date(t).getTime(),s=new Date(e).getTime();return"PT"+Math.abs((i-s)/1e3).toFixed(3)+"S"},t}();e.navigationProfile=i},815:(t,e)=>{e.__esModule=!0,e.sessionProfile=void 0;var i=function(){function t(){this.VerbDic={"logged-in":{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/logged-in",display:{"en-US":"logged-in"}},"logged-out":{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/logged-out",display:{"en-US":"logged-out"}},"timed-out":{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/timed-out",display:{"en-US":"timed-out"}},paused:{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/paused",display:{"en-US":"paused"}},resumed:{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/resumed",display:{"en-US":"resumed"}},attempted:{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/attempted",display:{"en-US":"attempted"}},entered:{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/entered",display:{"en-US":"entered"}},leaved:{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/leaved",display:{"en-US":"leaved"}},attended:{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/attended",display:{"en-US":"attended"}}},this.ActivityNames={"software-application":{type:"https://ubion.co.kr/xapi/activity-type/software-application",moreInfo:"https://ubion.co.kr/xapi/activity-type/software-application/info"},"group-activity":{type:"https://ubion.co.kr/xapi/activity-type/group-activity",moreInfo:"https://ubion.co.kr/xapi/activity-type/group-activity/info"}},this.ResultExtensions={"attempt-count":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/result/attempt-count","attended-time":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/result/attended-time","attended-reason":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/result/attended-reason","leaved-reason":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/result/leaved-reason"},this.ContextExtensions={"session-id":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/session-id","started-time":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/started-time","ended-time":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/ended-time","user-agent":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/user-agent","ip-address":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/ip-address",host:"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/host"}}return t.prototype.validateVerbName=function(t){return this.VerbDic.hasOwnProperty(t)},t.prototype.getVerb=function(t){return this.validateVerbName(t.toLowerCase())?(this.setVerb(t),this._verb):(console.log({error:"setVerb is fail."}),{error:"getVerb is fail."})},t.prototype.setVerb=function(t){return""!==this.VerbDic[t].id?(this._verb={id:this.VerbDic[t].id,display:this.VerbDic[t].display},!0):(console.log({error:"setVerb is fail."}),!1)},t.prototype.validateActivityName=function(t){return this.ActivityNames.hasOwnProperty(t.toLocaleLowerCase())},t.prototype.getActivity=function(t,e,i,s){return this.validateActivityName(t)?(this.setActivity(t,e,i,s),this._activity):(console.log({error:"getActivity is fail."}),{error:"getActivity is fail"})},t.prototype.setActivity=function(t,e,i,s){t=t.toLowerCase(),e=e;var n="Activity";if(this.validateActivityName(t)){if(i!={}||null!=i||""!=i){if(s=={})return!1;this._activity={id:e,objectType:n,definition:{name:i,type:this.ActivityNames[t].type}}}else this._activity={id:e,objectType:n,definition:{name:i,type:this.ActivityNames[t].type,description:s}};return!0}return console.log({error:"setActivity is fail."}),!1},t.prototype.validateResult=function(t){return!0},t.prototype.getResult=function(t,e,i){return null!=e?this.validateResult(e)?(this.setResult(t.toLocaleLowerCase(),e,i),this._result):(console.log({error:"getResult is fail."}),{error:" setResult is fails"}):(this.setResult(t,e,i),this._result)},t.prototype.setResult=function(t,e,i){var s=!1,n={};if(!this.validateExtensionName(i))return s;for(var r in i)this.ResultExtensions.hasOwnProperty(r)&&(n[this.ResultExtensions[r]]=i[r]);return null==e&&(e={}),this._result=e,e.extensions=n,s=!0},t.prototype.validateContextName=function(t){return!!this.validateExtensionName(t)},t.prototype.getContext=function(t){return this.validateContextName(t)?(this.setContext(t),this._context):(console.log({error:"getContext is fail."}),{error:"getContext fail"})},t.prototype.setContext=function(t){var e={};if(!this.validateExtensionName(t))return!1;for(var i in t)this.ContextExtensions.hasOwnProperty(i)&&(e[this.ContextExtensions[i]]=t[i]);return this._context={extensions:e},!0},t.prototype.validateExtensionName=function(t){var e=!0;return t.hasOwnProperty("attempt-count")&&"number"!=typeof t["attempt-count"]&&(e=!1),t.hasOwnProperty("attended-time")&&"string"!=typeof t["attended-time"]&&(e=!1),t.hasOwnProperty("leaved-reason")&&"string"!=typeof t["leaved-reason"]&&(e=!1),t.hasOwnProperty("attended-reason")&&"string"!=typeof t["attended-reason"]&&(e=!1),t.hasOwnProperty("session-id")&&"string"!=typeof t["session-id"]&&(e=!1),t.hasOwnProperty("started-time")&&"string"!=typeof t["started-time"]&&(e=!1),t.hasOwnProperty("ended-time")&&"string"!=typeof t["ended-time"]&&(e=!1),t.hasOwnProperty("user-agent")&&"string"!=typeof t["user-agent"]&&(e=!1),t.hasOwnProperty("ip-address")&&"string"!=typeof t["ip-address"]&&(e=!1),t.hasOwnProperty("host")&&"string"!=typeof t.host&&(e=!1),e},t.prototype.getCurrentVerb=function(){return this._verb},t.prototype.getCurrentActivity=function(){return this._activity},t.prototype.getCurrentResult=function(){return this._result},t.prototype.getCurrentContext=function(){return this._context},t.prototype.getCurrentResultExtension=function(){return this._result.extension},t.prototype.getCurrentContextExtension=function(){return this._context.extension},t.prototype.setContextExtension=function(t){return!0},t.prototype.validateProfile=function(t){var e=t.verb.id,i=t.result,s=t.context,n=!1;switch(e){case this.VerbDic["logged-in"].id:return s.extensions.hasOwnProperty(this.ContextExtensions["session-id"])&&s.extensions.hasOwnProperty(this.ContextExtensions["started-time"])&&(n=!0),n;case this.VerbDic["logged-out"].id:return s.extensions.hasOwnProperty(this.ContextExtensions["session-id"])&&s.extensions.hasOwnProperty(this.ContextExtensions["ended-time"])&&(n=!0),n;case this.VerbDic["timed-out"].id:return s.extensions.hasOwnProperty(this.ContextExtensions["session-id"])&&(n=!0),n;case this.VerbDic.paused.id:return s.extensions.hasOwnProperty(this.ContextExtensions["session-id"])&&s.extensions.hasOwnProperty(this.ContextExtensions["ended-time"])&&(n=!0),n;case this.VerbDic.resumed.id:return s.extensions.hasOwnProperty(this.ContextExtensions["session-id"])&&s.extensions.hasOwnProperty(this.ContextExtensions["started-time"])&&(n=!0),n;case this.VerbDic.attempted.id:return i.extensions.hasOwnProperty(this.ResultExtensions["attempt-count"])&&(n=!0),n;case this.VerbDic.entered.id:return s.extensions.hasOwnProperty(this.ContextExtensions["started-time"])&&(n=!0),n;case this.VerbDic.leaved.id:return s.extensions.hasOwnProperty(this.ContextExtensions["ended-time"])&&(n=!0),n;case this.VerbDic.attended.id:return i.extensions.hasOwnProperty(this.ResultExtensions["attended-time"])&&(n=!0),n}},t}();e.sessionProfile=i},453:(t,e,i)=>{var s;i.r(e),i.d(e,{NIL:()=>D,parse:()=>f,stringify:()=>u,v1:()=>y,v3:()=>C,v4:()=>_,v5:()=>A,validate:()=>a,version:()=>j});var n=new Uint8Array(16);function r(){if(!s&&!(s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(n)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(t){return"string"==typeof t&&o.test(t)};for(var p=[],c=0;c<256;++c)p.push((c+256).toString(16).substr(1));const u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(p[t[e+0]]+p[t[e+1]]+p[t[e+2]]+p[t[e+3]]+"-"+p[t[e+4]]+p[t[e+5]]+"-"+p[t[e+6]]+p[t[e+7]]+"-"+p[t[e+8]]+p[t[e+9]]+"-"+p[t[e+10]]+p[t[e+11]]+p[t[e+12]]+p[t[e+13]]+p[t[e+14]]+p[t[e+15]]).toLowerCase();if(!a(i))throw TypeError("Stringified UUID is invalid");return i};var h,l,d=0,m=0;const y=function(t,e,i){var s=e&&i||0,n=e||new Array(16),o=(t=t||{}).node||h,a=void 0!==t.clockseq?t.clockseq:l;if(null==o||null==a){var p=t.random||(t.rng||r)();null==o&&(o=h=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==a&&(a=l=16383&(p[6]<<8|p[7]))}var c=void 0!==t.msecs?t.msecs:Date.now(),y=void 0!==t.nsecs?t.nsecs:m+1,f=c-d+(y-m)/1e4;if(f<0&&void 0===t.clockseq&&(a=a+1&16383),(f<0||c>d)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=c,m=y,l=a;var x=(1e4*(268435455&(c+=122192928e5))+y)%4294967296;n[s++]=x>>>24&255,n[s++]=x>>>16&255,n[s++]=x>>>8&255,n[s++]=255&x;var v=c/4294967296*1e4&268435455;n[s++]=v>>>8&255,n[s++]=255&v,n[s++]=v>>>24&15|16,n[s++]=v>>>16&255,n[s++]=a>>>8|128,n[s++]=255&a;for(var g=0;g<6;++g)n[s+g]=o[g];return e||u(n)};const f=function(t){if(!a(t))throw TypeError("Invalid UUID");var e,i=new Uint8Array(16);return i[0]=(e=parseInt(t.slice(0,8),16))>>>24,i[1]=e>>>16&255,i[2]=e>>>8&255,i[3]=255&e,i[4]=(e=parseInt(t.slice(9,13),16))>>>8,i[5]=255&e,i[6]=(e=parseInt(t.slice(14,18),16))>>>8,i[7]=255&e,i[8]=(e=parseInt(t.slice(19,23),16))>>>8,i[9]=255&e,i[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,i[11]=e/4294967296&255,i[12]=e>>>24&255,i[13]=e>>>16&255,i[14]=e>>>8&255,i[15]=255&e,i};function x(t,e,i){function s(t,s,n,r){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],i=0;i<t.length;++i)e.push(t.charCodeAt(i));return e}(t)),"string"==typeof s&&(s=f(s)),16!==s.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+t.length);if(o.set(s),o.set(t,s.length),(o=i(o))[6]=15&o[6]|e,o[8]=63&o[8]|128,n){r=r||0;for(var a=0;a<16;++a)n[r+a]=o[a];return n}return u(o)}try{s.name=t}catch(t){}return s.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",s.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",s}function v(t){return 14+(t+64>>>9<<4)+1}function g(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function b(t,e,i,s,n,r){return g((o=g(g(e,t),g(s,r)))<<(a=n)|o>>>32-a,i);var o,a}function O(t,e,i,s,n,r,o){return b(e&i|~e&s,t,e,n,r,o)}function w(t,e,i,s,n,r,o){return b(e&s|i&~s,t,e,n,r,o)}function P(t,e,i,s,n,r,o){return b(e^i^s,t,e,n,r,o)}function E(t,e,i,s,n,r,o){return b(i^(e|~s),t,e,n,r,o)}const C=x("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var i=0;i<e.length;++i)t[i]=e.charCodeAt(i)}return function(t){for(var e=[],i=32*t.length,s="0123456789abcdef",n=0;n<i;n+=8){var r=t[n>>5]>>>n%32&255,o=parseInt(s.charAt(r>>>4&15)+s.charAt(15&r),16);e.push(o)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[v(e)-1]=e;for(var i=1732584193,s=-271733879,n=-1732584194,r=271733878,o=0;o<t.length;o+=16){var a=i,p=s,c=n,u=r;i=O(i,s,n,r,t[o],7,-680876936),r=O(r,i,s,n,t[o+1],12,-389564586),n=O(n,r,i,s,t[o+2],17,606105819),s=O(s,n,r,i,t[o+3],22,-1044525330),i=O(i,s,n,r,t[o+4],7,-176418897),r=O(r,i,s,n,t[o+5],12,1200080426),n=O(n,r,i,s,t[o+6],17,-1473231341),s=O(s,n,r,i,t[o+7],22,-45705983),i=O(i,s,n,r,t[o+8],7,1770035416),r=O(r,i,s,n,t[o+9],12,-1958414417),n=O(n,r,i,s,t[o+10],17,-42063),s=O(s,n,r,i,t[o+11],22,-1990404162),i=O(i,s,n,r,t[o+12],7,1804603682),r=O(r,i,s,n,t[o+13],12,-40341101),n=O(n,r,i,s,t[o+14],17,-1502002290),i=w(i,s=O(s,n,r,i,t[o+15],22,1236535329),n,r,t[o+1],5,-165796510),r=w(r,i,s,n,t[o+6],9,-1069501632),n=w(n,r,i,s,t[o+11],14,643717713),s=w(s,n,r,i,t[o],20,-373897302),i=w(i,s,n,r,t[o+5],5,-701558691),r=w(r,i,s,n,t[o+10],9,38016083),n=w(n,r,i,s,t[o+15],14,-660478335),s=w(s,n,r,i,t[o+4],20,-405537848),i=w(i,s,n,r,t[o+9],5,568446438),r=w(r,i,s,n,t[o+14],9,-1019803690),n=w(n,r,i,s,t[o+3],14,-187363961),s=w(s,n,r,i,t[o+8],20,1163531501),i=w(i,s,n,r,t[o+13],5,-1444681467),r=w(r,i,s,n,t[o+2],9,-51403784),n=w(n,r,i,s,t[o+7],14,1735328473),i=P(i,s=w(s,n,r,i,t[o+12],20,-1926607734),n,r,t[o+5],4,-378558),r=P(r,i,s,n,t[o+8],11,-2022574463),n=P(n,r,i,s,t[o+11],16,1839030562),s=P(s,n,r,i,t[o+14],23,-35309556),i=P(i,s,n,r,t[o+1],4,-1530992060),r=P(r,i,s,n,t[o+4],11,1272893353),n=P(n,r,i,s,t[o+7],16,-155497632),s=P(s,n,r,i,t[o+10],23,-1094730640),i=P(i,s,n,r,t[o+13],4,681279174),r=P(r,i,s,n,t[o],11,-358537222),n=P(n,r,i,s,t[o+3],16,-722521979),s=P(s,n,r,i,t[o+6],23,76029189),i=P(i,s,n,r,t[o+9],4,-640364487),r=P(r,i,s,n,t[o+12],11,-421815835),n=P(n,r,i,s,t[o+15],16,530742520),i=E(i,s=P(s,n,r,i,t[o+2],23,-995338651),n,r,t[o],6,-198630844),r=E(r,i,s,n,t[o+7],10,1126891415),n=E(n,r,i,s,t[o+14],15,-1416354905),s=E(s,n,r,i,t[o+5],21,-57434055),i=E(i,s,n,r,t[o+12],6,1700485571),r=E(r,i,s,n,t[o+3],10,-1894986606),n=E(n,r,i,s,t[o+10],15,-1051523),s=E(s,n,r,i,t[o+1],21,-2054922799),i=E(i,s,n,r,t[o+8],6,1873313359),r=E(r,i,s,n,t[o+15],10,-30611744),n=E(n,r,i,s,t[o+6],15,-1560198380),s=E(s,n,r,i,t[o+13],21,1309151649),i=E(i,s,n,r,t[o+4],6,-145523070),r=E(r,i,s,n,t[o+11],10,-1120210379),n=E(n,r,i,s,t[o+2],15,718787259),s=E(s,n,r,i,t[o+9],21,-343485551),i=g(i,a),s=g(s,p),n=g(n,c),r=g(r,u)}return[i,s,n,r]}(function(t){if(0===t.length)return[];for(var e=8*t.length,i=new Uint32Array(v(e)),s=0;s<e;s+=8)i[s>>5]|=(255&t[s/8])<<s%32;return i}(t),8*t.length))}));const _=function(t,e,i){var s=(t=t||{}).random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e){i=i||0;for(var n=0;n<16;++n)e[i+n]=s[n];return e}return u(s)};function R(t,e,i,s){switch(t){case 0:return e&i^~e&s;case 1:return e^i^s;case 2:return e&i^e&s^i&s;case 3:return e^i^s}}function k(t,e){return t<<e|t>>>32-e}const A=x("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var s=unescape(encodeURIComponent(t));t=[];for(var n=0;n<s.length;++n)t.push(s.charCodeAt(n))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var r=t.length/4+2,o=Math.ceil(r/16),a=new Array(o),p=0;p<o;++p){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=t[64*p+4*u]<<24|t[64*p+4*u+1]<<16|t[64*p+4*u+2]<<8|t[64*p+4*u+3];a[p]=c}a[o-1][14]=8*(t.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(t.length-1)&4294967295;for(var h=0;h<o;++h){for(var l=new Uint32Array(80),d=0;d<16;++d)l[d]=a[h][d];for(var m=16;m<80;++m)l[m]=k(l[m-3]^l[m-8]^l[m-14]^l[m-16],1);for(var y=i[0],f=i[1],x=i[2],v=i[3],g=i[4],b=0;b<80;++b){var O=Math.floor(b/20),w=k(y,5)+R(O,f,x,v)+g+e[O]+l[b]>>>0;g=v,v=x,x=k(f,30)>>>0,f=y,y=w}i[0]=i[0]+y>>>0,i[1]=i[1]+f>>>0,i[2]=i[2]+x>>>0,i[3]=i[3]+v>>>0,i[4]=i[4]+g>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]})),D="00000000-0000-0000-0000-000000000000";const j=function(t){if(!a(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,i),r.exports}i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var s={};(()=>{var t=s;t.__esModule=!0,t.XAPIBuilder=void 0;var e=i(850),n=i(815),r=i(402),o=i(453),a=i(900),p=function(){function t(){this.registrationVal=o.v4(),this.emailRegExp=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.RET_CODE=[{code:200,status:"SUCCESS"},{code:300,status:"MISSING_PARAMETER_REQUIRED",data:""},{code:310,status:"MISMATCH_PARAMETER_FORMAT",data:""},{code:404,status:"NOT_FOUND"},{code:500,status:"INTERNAL_ERROR"}],this._profiles=[]}return t.prototype.initializeXAPI=function(t){try{null!=t&&t!={}&&(this.resultCode=this.RET_CODE[0],this.resultCode=this.validateActivityData(t),200==this.resultCode.code&&(this.setActor(t),this.setContext(t)))}catch(t){this.resultCode=this.RET_CODE[4],console.log("Error:",t)}return this.resultCode},t.prototype.validateActivityData=function(t){var e=this,i=this.RET_CODE[0];if(t.hasOwnProperty("actor")?t.actor.hasOwnProperty("id")||t.actor.hasOwnProperty("account")?t.actor.hasOwnProperty("account")?t.actor.account.hasOwnProperty("homePage")&&t.actor.account.hasOwnProperty("name")?/^http[s]?:/.test(t.actor.account.homePage)||((i=this.RET_CODE[2]).data="parameter actor.account.homePage format is mismatch"):(i=this.RET_CODE[1]).data="parameter actor.account.homePage or parameter actor.account.name is missing":t.actor.hasOwnProperty("id")&&(this.emailRegExp.test(t.actor.id)||/^[0-9a-f]{40}$/i.test(t.actor.id)||/^http[s]?:/.test(t.actor.id)||((i=this.RET_CODE[2]).data="parameter actor.id format is mismatch")):(i=this.RET_CODE[1]).data="parameter actor.id or actor.account is missing":(i=this.RET_CODE[1]).data="parameter actor is missing",t.hasOwnProperty("instructor")&&(this.emailRegExp.test(t.instructor.id)||/^[0-9a-f]{40}$/i.test(t.instructor.id)||/^http[s]?:/.test(t.instructor.id)?t.instructor.hasOwnProperty("id")||t.instructor.hasOwnProperty("account")?t.instructor.hasOwnProperty("account")&&(t.instructor.account.hasOwnProperty("homePage")&&t.instructor.account.hasOwnProperty("name")?/^http[s]?:/.test(t.instructor.account.homePage)||((i=this.RET_CODE[2]).data="parameter instructor.account.homePage format is mismatch"):(i=this.RET_CODE[1]).data="parameter instructor.account.homePage or parameter instructor.account.name is missing"):(i=this.RET_CODE[1]).data="parameter instructor.id or instructor.account is missing":(i=this.RET_CODE[2]).data="parameter instructor.id format is mismatch"),t.hasOwnProperty("team")&&(t.team.hasOwnProperty("member")?t.team.member.filter((function(t){return!t.hasOwnProperty("id")})).length>0&&t.team.member.filter((function(t){return!t.hasOwnProperty("account")})).length>0?(i=this.RET_CODE[1]).data="parameter team.member.id or account is missing":t.team.member.filter((function(t){return t.hasOwnProperty("account")})).length>0?t.team.member.account.hasOwnProperty("homePage")&&t.team.member.account.hasOwnProperty("name")?t.team.member.account.homePage.filter((function(t){return!/^http[s]?:/.test(t)}))>0&&((i=this.RET_CODE[2]).data="parameter actor.account.homePage format is mismatch"):(i=this.RET_CODE[1]).data="parameter team.member.account.homePage or name is missing":t.team.member.filter((function(t){return t.hasOwnProperty("id")})).length>0&&!t.team.member.filter((function(t){return!e.emailRegExp.test(t.id)}))&&t.team.member.filter((function(t){return!/^[0-9a-f]{40}$/i.test(t.id)}))&&t.team.member.filter((function(t){return!/^http[s]?:/.test(t.id)}))&&((i=this.RET_CODE[2]).data="parameter team.member format is mismatch"):(i=this.RET_CODE[1]).data="parameter team.member is missing"),t.hasOwnProperty("parent")){var s=t.parent.length;t.parent.filter((function(t){return t.hasOwnProperty("id")})).length===s&&t.parent.filter((function(t){return t.hasOwnProperty("name")})).length===s||((i=this.RET_CODE[1]).data="parameter parent.id or parent.name is missing")}else if(t.hasOwnProperty("grouping")){var n=t.grouping.length;t.grouping.filter((function(t){return t.hasOwnProperty("id")})).length===n&&t.grouping.filter((function(t){return t.hasOwnProperty("name")})).length===n||((i=this.RET_CODE[1]).data="parameter grouping.id or grouping.name is missing")}else if(t.hasOwnProperty("category")){var r=t.category.length;t.category.filter((function(t){return t.hasOwnProperty("id")})).length===r&&t.category.filter((function(t){return t.hasOwnProperty("name")})).length===r||((i=this.RET_CODE[1]).data="parameter category.id or category.name is missing")}else if(t.hasOwnProperty("other")){var o=t.other.length;t.other.filter((function(t){return t.hasOwnProperty("id")})).length===o&&t.other.filter((function(t){return t.hasOwnProperty("name")})).length===o||((i=this.RET_CODE[1]).data="parameter other.id or other.name is missing")}return this._activityData=t,i},t.prototype.setActor=function(t){var e=this,i="",s="",n={},r=[],o={};this._actor={objectType:"Agent",name:""};var a=t.actor.name;this._actor.name=a,t.actor.hasOwnProperty("id")?this.emailRegExp.test(t.actor.id)?(s="mailto:"+t.actor.id,this._actor.mbox=s):/^[0-9a-f]{40}$/i.test(t.actor.id)?(s=t.actor.id,this._actor.mbox_sha1sum=s):/^http[s]?:/.test("id")&&(s=t.actor.id,this._actor.openid=s):t.actor.hasOwnProperty("account")&&(i="account",n=t.actor.account,this._actor[i]=n),t.actor.hasOwnProperty("team")&&(this._actor.objectType="Group",t.actor.team.member.forEach((function(t){if((o={name:{}}).objectType="Agent",t.hasOwnProperty("id")){var a=t.name;e.emailRegExp.test(t.id)?(s="mailto:"+t.id,o.mbox=s,o.name=a):/^[0-9a-f]{40}$/i.test(t.id)?(s=t.id,o.mbox_sha1sum=s,o.name=a):/^http[s]?:/.test("id")&&(s=t.id,o.openid=s,o.name=a)}else if(t.hasOwnProperty("account")){var p=t.account.name;i="account",n=t.account,o[i]=n,o.name=p}r.push(o)})),i="member",this._actor[i]=r)},t.prototype.setContext=function(t){var e=this,i="",s="",n={},r={},o={},a=[],p={},c={};if(this._context={},t.hasOwnProperty("sessionId")?this._context.registration=t.sessionId:this._context.registration=this.registrationVal,t.hasOwnProperty("instructor")){if(r={objectType:"Agent",name:""},t.instructor.hasOwnProperty("name")){var u=t.instructor.name;r.name=u}t.instructor.hasOwnProperty("id")?this.emailRegExp.test(t.instructor.id)?(s="mailto:"+t.instructor.id,r.mbox=s):/^[0-9a-f]{40}$/i.test(t.instructor.id)?(s=t.instructor.id,r.mbox_sha1sum=s):(s=t.instructor.id,r.openid=s):t.instructor.hasOwnProperty("account")&&(i="account",n=t.instructor.account,r[i]=n),i="instructor",this._context[i]=r}if(t.hasOwnProperty("team")){o={objectType:"Group",name:{}};var h=t.team.name;o.name=h,t.team.member.forEach((function(t){p={name:{}};var r=t.name;if(t.hasOwnProperty("id"))e.emailRegExp.test(t.id)?(s="mailto:"+t.id,p.mbox=s,p.name=r):/^[0-9a-f]{40}$/i.test(t.id)?(s=t.id,p.mbox_sha1sum=s,p.name=r):(s=t.id,p.openid=s,p.name=r);else if(t.hasOwnProperty("account")){var o=t.name.language,c=t.name.value;i="account",n=t.account,p[i]=n,p.name[o]=c}a.push(p)})),o.member=a,i="team",this._context[i]=o}if(t.hasOwnProperty("parent")){var l=[];t.parent.forEach((function(t){var e=t.name.language,i=t.name.value,s=t.description.language,n=t.description.value,r={id:t.id,objectType:"Activity",definition:{name:{},description:{}}};r.definition.name[e]=i,r.definition.description[s]=n,l.push(r)})),c[i="parent"]=l}if(t.hasOwnProperty("grouping")){var d=[];t.grouping.forEach((function(t){var e=t.name.language,i=t.name.value,s=t.description.language,n=t.description.value,r={id:t.id,objectType:"Activity",definition:{name:{},description:{}}};r.definition.name[e]=i,r.definition.description[s]=n,d.push(r)})),c[i="grouping"]=d}if(t.hasOwnProperty("other")){var m=[];t.other.forEach((function(t){var e=t.name.language,i=t.name.value,s=t.description.language,n=t.description.value,r={id:t.id,objectType:"Activity",definition:{name:{},description:{}}};r.definition.name[e]=i,r.definition.description[s]=n,m.push(r)})),c[i="other"]=m}0!==Object.keys(c).length&&(this._context.contextActivities=c)},t.prototype.setXAPIData=function(t){if(this.resultCode=this.validateActionData(t),200==this.resultCode.code){if(this.getProfile(t),this.getStatement(this._actor,this._verb,this._activity),this._statement.context=this._context,this._statement.context.extensions=this._extensions.extensions,this.setAttachments(t),null!=this._result){this._statement.result=this._result}this._statement.timestamp=(new Date).toISOString(),this._statement.version=a.default.version,void 0!==this.mediaProfileObjInMember&&"media"==Object.keys(this.mediaProfileObjInMember[0])[0]?this.mediaProfileObjInMember[0].media.validateProfile(this._statement)?this.resultCode=this.RET_CODE[0]:(this.resultCode=this.RET_CODE[1],this.resultCode.data="validation statement Fail"):void 0!==this.sessionProfileObjInMember&&"session"==Object.keys(this.sessionProfileObjInMember[0])[0]?this.sessionProfileObjInMember[0].session.validateProfile(this._statement)?this.resultCode=this.RET_CODE[0]:(this.resultCode=this.RET_CODE[1],this.resultCode.data="validation statement Fail"):void 0!==this.navigationProfileObjInMember&&"navigation"==Object.keys(this.navigationProfileObjInMember[0])[0]&&(this.navigationProfileObjInMember[0].navigation.validateProfile(this._statement)?this.resultCode=this.RET_CODE[0]:(this.resultCode=this.RET_CODE[1],this.resultCode.data="validation statement Fail"))}return this.resultCode},t.prototype.getConfigData=function(){return{endpoint:a.default.endpoint,username:a.default.username,password:a.default.password}},t.prototype.getStatementObj=function(){return this._statement},t.prototype.validateActionData=function(t){var e=this.RET_CODE[0];return t.hasOwnProperty("object")||t.hasOwnProperty.object("activityName")||t.hasOwnProperty.object("ObjectId")?t.hasOwnProperty("verb")||((e=this.RET_CODE[1]).data="parameter verb is missing"):(e=this.RET_CODE[1]).data="parameter object.activityName or object.ObjectId is missing",e},t.prototype.getProfile=function(t){var i={};try{switch(t.object.activityName.toLowerCase()){case"video":case"audio":if(0==this._profiles.filter((function(t){return t.hasOwnProperty("media")})).length){var s=new e.mediaProfile;i.media=s,this._profiles.push(i)}this.mediaProfileObjInMember=this._profiles.filter((function(t){return t.hasOwnProperty("media")}));var o=this.mediaProfileObjInMember[0].media.getVerb(t.verb);this._verb=o;var a=this.mediaProfileObjInMember[0].media.getActivity(t.object.activityName,t.object.ObjectId,t.object.name,t.object.description);this._activity=a;var p=this.mediaProfileObjInMember[0].media.getContext(t.extension);if(this._extensions=p,null!=t.result)null!=(c=this.mediaProfileObjInMember[0].media.getResult(t.verb,t.result,t.extension))&&(this._result=c);else if("initialized"!=t.verb){var c;null!=(c=this.mediaProfileObjInMember[0].media.getResult(t.verb,t.result,t.extension))&&(this._result=c)}break;case"software-application":case"group-activity":if(0==this._profiles.filter((function(t){return t.hasOwnProperty("session")})).length){var u=new n.sessionProfile;i.session=u,this._profiles.push(i)}this.sessionProfileObjInMember=this._profiles.filter((function(t){return t.hasOwnProperty("session")}));var h=this.sessionProfileObjInMember[0].session.getVerb(t.verb);this._verb=h;var l=this.sessionProfileObjInMember[0].session.getActivity(t.object.activityName,t.object.ObjectId,t.object.name,t.object.description);this._activity=l;var d,m=this.sessionProfileObjInMember[0].session.getContext(t.extension);if(this._extensions=m,null!=t.result)null!=(d=this.sessionProfileObjInMember[0].session.getResult(t.verb,t.result,t.extension))&&(this._result=d);else null!=(d=this.sessionProfileObjInMember[0].session.getResult(t.verb,t.result,t.extension))&&(this._result=d);break;case"document":case"webpage":case"menu":case"toc":if(0==this._profiles.filter((function(t){return t.hasOwnProperty("navigation")})).length){var y=new r.navigationProfile;i.navigation=y,this._profiles.push(i)}this.navigationProfileObjInMember=this._profiles.filter((function(t){return t.hasOwnProperty("navigation")}));var f=this.navigationProfileObjInMember[0].navigation.getVerb(t.verb);this._verb=f;var x=this.navigationProfileObjInMember[0].navigation.getActivity(t.object.activityName,t.object.ObjectId,t.object.name,t.object.description);this._activity=x;var v,g=this.navigationProfileObjInMember[0].navigation.getContext(t.extension);if(this._extensions=g,null!=t.result)null!=(v=this.navigationProfileObjInMember[0].navigation.getResult(t.verb,t.result,t.extension))&&(this._result=v);else null!=(v=this.navigationProfileObjInMember[0].navigation.getResult(t.verb,t.result,t.extension))&&(this._result=v)}}catch(t){this.resultCode=this.RET_CODE[4],console.log("Error:",t)}return this._profiles},t.prototype.getStatement=function(t,e,i){var s={id:"",actor:{objectType:"Agent",name:"",mbox:""},verb:{id:"",display:{}},object:{id:"",objectType:"Activity"}};return s.actor=t,s.verb=e,s.object=i,this._statement=s,this._statement},t.prototype.setAttachments=function(t){return t.hasOwnProperty("attachments")&&(this._statement=t.attachments),this._statement},t.prototype.getUuid=function(){return o.v4()},t}();t.XAPIBuilder=p})(),XAPI=s})();