var XAPI;(()=>{"use strict";var t={905:(t,e)=>{e.__esModule=!0;e.default={endpoint:"http://wickedstorm.iptime.org/data/xAPI/",key:"5b7a6060d79cff00aaa9ee67b9169bbe238473b2",secret:"9580718c71e462f0a8ce63445b3415465cdff7c2",version:"1.0.3"}},788:function(t,e,i){var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});e.__esModule=!0,e.MediaProfile=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mediaSessionId={},e.started=!1,e.verbDict=e.dict.verb.filter((function(t){return t.hasOwnProperty("media")})),e.activityDict=e.dict.activityNames.filter((function(t){return t.hasOwnProperty("media")})),e.resultExtensionsDict=e.dict.extensions.result.filter((function(t){return t.hasOwnProperty("media")})),e.contextExtensionsDict=e.dict.extensions.context.filter((function(t){return t.hasOwnProperty("media")})),e}return s(e,t),e.prototype.validateVerbName=function(t){return this.verbDict[0].media.hasOwnProperty(t)},e.prototype.setVerb=function(t){return""!==this.verbDict[0].media[t].id?(this._verb={id:this.verbDict[0].media[t].id,display:this.verbDict[0].media[t].display},!0):(console.log({error:"setVerb is fail."}),!1)},e.prototype.validateActivityName=function(t){return this.activityDict[0].media.hasOwnProperty(t.toLocaleLowerCase())},e.prototype.setActivity=function(t,e,i,n){t=t.toLowerCase(),e=e;var s="Activity";return this.validateActivityName(t)?(i=={}&&null==i&&""==i||(0===Object.keys(n).length?this._activity={id:e,objectType:s,definition:{name:i,type:this.activityDict[0].media[t].type}}:this._activity={id:e,objectType:s,definition:{name:i,type:this.activityDict[0].media[t].type,description:n}}),!0):(console.log({error:"setActivity is fail."}),!1)},e.prototype.validateResult=function(t){var e=!0;return t.hasOwnProperty("score")&&(t.score.hasOwnProperty("scaled")&&(e=-1<=t.score.scaled&&t.score.scaled<=1),t.score.hasOwnProperty("raw")&&(e=-1<=t.score.raw&&t.score.raw<=1),t.score.hasOwnProperty("min")&&(e=-1<=t.score.min&&t.score.min<=1),t.score.hasOwnProperty("max")&&(e=-1<=t.score.max&&t.score.max<=1)),t.hasOwnProperty("completion")&&(e="boolean"==typeof t.completion),t.hasOwnProperty("duration")&&(e="number"==typeof t.duration),t.hasOwnProperty("success")&&(e="boolean"==typeof t.success),t.hasOwnProperty("response")&&(e="string"==typeof t.response),e},e.prototype.setResult=function(t,e,i){var n=!1,s={};if(this.mediaSessionId.hasOwnProperty(i["media-session-id"])||(this.mediaSessionId[i["media-session-id"]]={}),!this.validateExtensionName(i))return n;for(var r in i)this.resultExtensionsDict[0].media.hasOwnProperty(r)&&(s[this.resultExtensionsDict[0].media[r]]=i[r]);return null==e&&(e={}),"terminated"==t?(e.extensions=s,1==this.started&&this.endPlayedSegment(i.time,i["media-session-id"]),null==e.duration?e.duration=this.setDuration(i["media-session-id"]):e.duration="PT"+e.duration.toFixed(3)+"S",e.extensions[this.resultExtensionsDict[0].media["played-segments"]]=this.mediaSessionId[i["media-session-id"]].segments,this._result=e,n=!0):"paused"==t||"completed"==t?(this.started=!1,this.endPlayedSegment(i.time,i["media-session-id"]),null==e.duration?e.duration=this.setDuration(i["media-session-id"]):e.duration="PT"+e.duration.toFixed(3)+"S",e.extensions=s,e.extensions[this.resultExtensionsDict[0].media["played-segments"]]=this.mediaSessionId[i["media-session-id"]].segments,this._result=e,n=!0):"played"==t?(this.started=!0,this.startPlayedSegment(i.time,i["media-session-id"]),e.extensions=s,this._result=e,n=!0):"seeked"==t?this.started?(e.extensions=s,this._result=e,this.endPlayedSegment(i["time-from"],i["media-session-id"]),this.startPlayedSegment(i["time-to"],i["media-session-id"]),n=!0):(e.extensions=s,this._result=e,n=!0):(this._result=e,e.extensions=s,n=!0),n},e.prototype.validateContextName=function(t){return!!this.validateExtensionName(t)},e.prototype.setContext=function(t){var e={};if(!this.validateExtensionName(t))return!1;for(var i in t)this.contextExtensionsDict[0].media.hasOwnProperty(i)&&(e[this.contextExtensionsDict[0].media[i]]=t[i]);return this._context={extensions:e},!0},e.prototype.validateExtensionName=function(t){var e=!0;return t.hasOwnProperty("time")&&("number"!=typeof t.time&&(e=!1),t.time=parseFloat(t.time.toFixed(3))),t.hasOwnProperty("time-from")&&("number"!=typeof t["time-from"]&&(e=!1),t["time-from"]=parseFloat(t["time-from"].toFixed(3))),t.hasOwnProperty("time-to")&&("number"!=typeof t["time-to"]&&(e=!1),t["time-to"]=parseFloat(t["time-to"].toFixed(3))),t.hasOwnProperty("progress")&&("number"!=typeof t.progress&&(e=!1),t.progress=parseFloat(t.progress.toFixed(3))),t.hasOwnProperty("cc-subtitle-enabled")&&"boolean"!=typeof t["cc-subtitle-enabled"]&&(e=!1),t.hasOwnProperty("cc-subtitle-lang")&&"string"!=typeof t["cc-subtitle-lang"]&&(e=!1),t.hasOwnProperty("frame-rate")&&("number"!=typeof t["frame-rate"]&&(e=!1),t["frame-rate"]=parseFloat(t["frame-rate"].toFixed(3))),t.hasOwnProperty("full-screen")&&"boolean"!=typeof t["full-screen"]&&(e=!1),t.hasOwnProperty("quality")&&"string"!=typeof t.quality&&(e=!1),t.hasOwnProperty("screen-size")&&"string"!=typeof t["screen-size"]&&(e=!1),t.hasOwnProperty("video-playback-size")&&"string"!=typeof t["video-playback-size"]&&(e=!1),t.hasOwnProperty("speed")&&"string"!=typeof t.speed&&(e=!1),t.hasOwnProperty("track")&&"string"!=typeof t.track&&(e=!1),t.hasOwnProperty("user-agent")&&"string"!=typeof t["user-agent"]&&(e=!1),t.hasOwnProperty("volume")&&("number"!=typeof t.volume?e=!1:0<=t.volume&&t.volume<=1&&(t.volume=parseFloat(t.volume.toFixed(3)))),t.hasOwnProperty("length")&&("number"!=typeof t.length&&(e=!1),t.length=parseFloat(t.length.toFixed(3))),t.hasOwnProperty("completion-threshold")&&("number"!=typeof t["completion-threshold"]&&(e=!1),t["completion-threshold"]=parseFloat(t["completion-threshold"].toFixed(3))),t.hasOwnProperty("tag")&&"string"!=typeof t.tag&&(e=!1),t.hasOwnProperty("media-session-id")?"string"!=typeof t["media-session-id"]&&(e=!1):e=!1,e},e.prototype.getCurrentVerb=function(){return this._verb},e.prototype.getCurrentActivity=function(){return this._activity},e.prototype.getCurrentResult=function(){return this._result},e.prototype.getCurrentContext=function(){return this._context},e.prototype.getCurrentResultExtension=function(){return this._result.extensions},e.prototype.getCurrentContextExtension=function(){return this._context.extensions},e.prototype.validateProfile=function(t){var e=t.verb.id,i=t.result,n=t.context,s=!1;switch(e){case this.verbDict[0].media.initialized.id:return n.extensions.hasOwnProperty(this.contextExtensionsDict[0].media.length)&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].media["media-session-id"])&&(s=!0),s;case this.verbDict[0].media.played.id:return i.extensions.hasOwnProperty(this.resultExtensionsDict[0].media.time)&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].media["media-session-id"])&&(s=!0),s;case this.verbDict[0].media.paused.id:return i.extensions.hasOwnProperty(this.resultExtensionsDict[0].media.time)&&i.extensions.hasOwnProperty(this.resultExtensionsDict[0].media.progress)&&i.extensions.hasOwnProperty(this.resultExtensionsDict[0].media["played-segments"])&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].media.length)&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].media["media-session-id"])&&(s=!0),s;case this.verbDict[0].media.seeked.id:return i.extensions.hasOwnProperty(this.resultExtensionsDict[0].media["time-from"])&&i.extensions.hasOwnProperty(this.resultExtensionsDict[0].media["time-to"])&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].media["media-session-id"])&&(s=!0),s;case this.verbDict[0].media.completed.id:return i.hasOwnProperty("completion")&&i.hasOwnProperty("duration")&&i.extensions.hasOwnProperty(this.resultExtensionsDict[0].media.time)&&i.extensions.hasOwnProperty(this.resultExtensionsDict[0].media.progress)&&i.extensions.hasOwnProperty(this.resultExtensionsDict[0].media["played-segments"])&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].media.length)&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].media["media-session-id"])&&(s=!0),s;case this.verbDict[0].media.terminated.id:return i.hasOwnProperty("duration")&&i.extensions.hasOwnProperty(this.resultExtensionsDict[0].media.time)&&i.extensions.hasOwnProperty(this.resultExtensionsDict[0].media.progress)&&i.extensions.hasOwnProperty(this.resultExtensionsDict[0].media["played-segments"])&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].media.length)&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].media["media-session-id"])&&(s=!0),s;case this.verbDict[0].media.interacted.id:return i.extensions.hasOwnProperty(this.resultExtensionsDict[0].media.time)&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].media["media-session-id"])&&(s=!0),s}},e.prototype.startPlayedSegment=function(t,e){this.mediaSessionId[e].startSegments=t},e.prototype.endPlayedSegment=function(t,e){var i;(i=null==this.mediaSessionId[e].segments?[]:this.mediaSessionId[e].segments.split("[,]")).push(this.mediaSessionId[e].startSegments.toFixed(3)+"[.]"+t.toFixed(3)),this.mediaSessionId[e].segments=i.join("[,]"),this.mediaSessionId[e].endSegments=t,this.mediaSessionId[e].startSegments=null},e.prototype.calculateDuration=function(t){var e,i;e=null==this.mediaSessionId[t].segments?[]:this.mediaSessionId[t].segments.split("[,]"),null!=this.mediaSessionId[t].startSegments&&e.push(this.mediaSessionId[t].startSegments.toFixed(3)+"[.]"+this.mediaSessionId[t].endSegments.toFixed(3)),i=[];var n=0;return e.forEach((function(t,e){i[e]=t.split("[.]"),i[e][0]*=1,i[e][1]*=1,i[e][1]>i[e][0]&&(n+=i[e][1]-i[e][0])})),n},e.prototype.setDuration=function(t){return"PT"+this.calculateDuration(t).toFixed(3)+"S"},e}(i(248).xAPIProfile);e.MediaProfile=r},896:function(t,e,i){var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});e.__esModule=!0,e.NavigationProfile=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iso8601RegExp=/^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$/,e.verbDict=e.dict.verb.filter((function(t){return t.hasOwnProperty("navigation")})),e.activityDict=e.dict.activityNames.filter((function(t){return t.hasOwnProperty("navigation")})),e.resultExtensionsDict=e.dict.extensions.result.filter((function(t){return t.hasOwnProperty("navigation")})),e.contextExtensionsDict=e.dict.extensions.context.filter((function(t){return t.hasOwnProperty("navigation")})),e}return s(e,t),e.prototype.validateVerbName=function(t){return this.verbDict[0].navigation.hasOwnProperty(t)},e.prototype.setVerb=function(t){return""!==this.verbDict[0].navigation[t].id?(this._verb={id:this.verbDict[0].navigation[t].id,display:this.verbDict[0].navigation[t].display},!0):(console.log({error:"setVerb is fail."}),!1)},e.prototype.validateActivityName=function(t){return this.activityDict[0].navigation.hasOwnProperty(t.toLocaleLowerCase())},e.prototype.setActivity=function(t,e,i,n){t=t.toLowerCase(),e=e;var s="Activity";return this.validateActivityName(t)?(i=={}&&null==i&&""==i||(0===Object.keys(n).length?this._activity={id:e,objectType:s,definition:{name:i,type:this.activityDict[0].navigation[t].type}}:this._activity={id:e,objectType:s,definition:{name:i,type:this.activityDict[0].navigation[t].type,description:n}}),!0):(console.log({error:"setActivity is fail."}),!1)},e.prototype.validateResult=function(t){var e=!0;return t.hasOwnProperty("score")&&(t.score.hasOwnProperty("scaled")&&(e=-1<=t.score.scaled&&t.score.scaled<=1),t.score.hasOwnProperty("raw")&&(e=-1<=t.score.raw&&t.score.raw<=1),t.score.hasOwnProperty("min")&&(e=-1<=t.score.min&&t.score.min<=1),t.score.hasOwnProperty("max")&&(e=-1<=t.score.max&&t.score.max<=1)),t.hasOwnProperty("completion")&&(e="boolean"==typeof t.completion),t.hasOwnProperty("success")&&(e="boolean"==typeof t.success),t.hasOwnProperty("response")&&(e="string"==typeof t.response),e},e.prototype.setResult=function(t,e,i){var n=!1,s={};if(!this.validateExtensionName(i))return n;for(var r in i)this.resultExtensionsDict[0].navigation.hasOwnProperty(r)&&(s[this.resultExtensionsDict[0].navigation[r]]=i[r]);return null==e&&(e={}),"viewed"==t&&(e.hasOwnProperty("duration")||(e.duration=this.setDuration(i["view-started-time"],i["view-ended-time"])),e.extensions=s,this._result=e,n=!0),this._result=e,e.extensions=s,n=!0},e.prototype.validateContextName=function(t){return!!this.validateExtensionName(t)},e.prototype.setContext=function(t){var e={};if(!this.validateExtensionName(t))return!1;for(var i in t)this.contextExtensionsDict[0].navigation.hasOwnProperty(i)&&(e[this.contextExtensionsDict[0].navigation[i]]=t[i]);return this._context={extensions:e},!0},e.prototype.validateExtensionName=function(t){var e=!0;return t.hasOwnProperty("current-index")&&"string"!=typeof t["current-index"]&&(e=!1),t.hasOwnProperty("total-index")&&"string"!=typeof t["total-index"]&&(e=!1),t.hasOwnProperty("view-started-time")&&(t["view-started-time"]=new Date(t["view-started-time"]).toISOString()),t.hasOwnProperty("view-ended-time")&&(t["view-ended-time"]=new Date(t["view-ended-time"]).toISOString()),t.hasOwnProperty("target-id")&&"string"!=typeof t["target-id"]&&(e=!1),t.hasOwnProperty("target-type")&&"string"!=typeof t["target-type"]&&(e=!1),t.hasOwnProperty("target-name")&&"string"!=typeof t["target-name"]&&(e=!1),t.hasOwnProperty("referrer-id")&&"string"!=typeof t["referrer-id"]&&(e=!1),t.hasOwnProperty("referrer-type")&&"string"!=typeof t["referrer-type"]&&(e=!1),t.hasOwnProperty("referrer-name")&&"string"!=typeof t["referrer-name"]&&(e=!1),e},e.prototype.getCurrentVerb=function(){return this._verb},e.prototype.getCurrentActivity=function(){return this._activity},e.prototype.getCurrentResult=function(){return this._result},e.prototype.getCurrentContext=function(){return this._context},e.prototype.getCurrentResultExtension=function(){return this._result.extensions},e.prototype.getCurrentContextExtension=function(){return this._context.extensions},e.prototype.validateProfile=function(t){var e=t.verb.id,i=(t.result,t.context),n=!1;switch(e){case this.verbDict[0].navigation["moved-to"].id:return i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["target-id"])&&i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["target-type"])&&(n=!0),n;case this.verbDict[0].navigation.next.id:case this.verbDict[0].navigation.previous.id:return i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["target-id"])&&i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["target-type"])&&i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["referrer-id"])&&i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["referrer-type"])&&(n=!0),n;case this.verbDict[0].navigation.clicked.id:case this.verbDict[0].navigation.viewed.id:return i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["target-id"])&&i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["target-type"])&&(n=!0),n;case this.verbDict[0].navigation["popped-up"].id:return i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["target-id"])&&i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["target-type"])&&i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["referrer-id"])&&i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["referrer-type"])&&(n=!0),n;case this.verbDict[0].navigation.opened.id:case this.verbDict[0].navigation.closed.id:return i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["target-id"])&&i.extensions.hasOwnProperty(this.contextExtensionsDict[0].navigation["target-type"])&&(n=!0),n}},e.prototype.setDuration=function(t,e){var i=new Date(t).getTime(),n=new Date(e).getTime();return"PT"+Math.abs((i-n)/1e3).toFixed(3)+"S"},e}(i(248).xAPIProfile);e.NavigationProfile=r},645:function(t,e,i){var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});e.__esModule=!0,e.SessionProfile=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.verbDict=e.dict.verb.filter((function(t){return t.hasOwnProperty("session")})),e.activityDict=e.dict.activityNames.filter((function(t){return t.hasOwnProperty("session")})),e.resultExtensionsDict=e.dict.extensions.result.filter((function(t){return t.hasOwnProperty("session")})),e.contextExtensionsDict=e.dict.extensions.context.filter((function(t){return t.hasOwnProperty("session")})),e}return s(e,t),e.prototype.validateVerbName=function(t){return this.verbDict[0].session.hasOwnProperty(t)},e.prototype.setVerb=function(t){return""!==this.verbDict[0].session[t].id?(this._verb={id:this.verbDict[0].session[t].id,display:this.verbDict[0].session[t].display},!0):(console.log({error:"setVerb is fail."}),!1)},e.prototype.validateActivityName=function(t){return this.activityDict[0].session.hasOwnProperty(t.toLocaleLowerCase())},e.prototype.setActivity=function(t,e,i,n){t=t.toLowerCase(),e=e;var s="Activity";return this.validateActivityName(t)?(i=={}&&null==i&&""==i||(0===Object.keys(n).length?this._activity={id:e,objectType:s,definition:{name:i,type:this.activityDict[0].session[t].type}}:this._activity={id:e,objectType:s,definition:{name:i,type:this.activityDict[0].session[t].type,description:n}}),!0):(console.log({error:"setActivity is fail."}),!1)},e.prototype.validateResult=function(t){return!0},e.prototype.setResult=function(t,e,i){var n=!1,s={};if(!this.validateExtensionName(i))return n;for(var r in i)this.resultExtensionsDict[0].session.hasOwnProperty(r)&&(s[this.resultExtensionsDict[0].session[r]]=i[r]);return null==e&&(e={}),this._result=e,e.extensions=s,n=!0},e.prototype.validateContextName=function(t){return!!this.validateExtensionName(t)},e.prototype.setContext=function(t){var e={};if(!this.validateExtensionName(t))return!1;for(var i in t)this.contextExtensionsDict[0].session.hasOwnProperty(i)&&(e[this.contextExtensionsDict[0].session[i]]=t[i]);return this._context={extensions:e},!0},e.prototype.validateExtensionName=function(t){var e=!0;return t.hasOwnProperty("attempt-count")&&"number"!=typeof t["attempt-count"]&&(e=!1),t.hasOwnProperty("attended-time")&&"string"!=typeof t["attended-time"]&&(e=!1),t.hasOwnProperty("leaved-reason")&&"string"!=typeof t["leaved-reason"]&&(e=!1),t.hasOwnProperty("attended-reason")&&"string"!=typeof t["attended-reason"]&&(e=!1),t.hasOwnProperty("session-id")&&"string"!=typeof t["session-id"]&&(e=!1),t.hasOwnProperty("started-time")&&"string"!=typeof t["started-time"]&&(e=!1),t.hasOwnProperty("ended-time")&&"string"!=typeof t["ended-time"]&&(e=!1),t.hasOwnProperty("user-agent")&&"string"!=typeof t["user-agent"]&&(e=!1),t.hasOwnProperty("ip-address")&&"string"!=typeof t["ip-address"]&&(e=!1),t.hasOwnProperty("host")&&"string"!=typeof t.host&&(e=!1),e},e.prototype.getCurrentVerb=function(){return this._verb},e.prototype.getCurrentActivity=function(){return this._activity},e.prototype.getCurrentResult=function(){return this._result},e.prototype.getCurrentContext=function(){return this._context},e.prototype.getCurrentResultExtension=function(){return this._result.extension},e.prototype.getCurrentContextExtension=function(){return this._context.extension},e.prototype.validateProfile=function(t){var e=t.verb.id,i=t.result,n=t.context,s=!1;switch(e){case this.verbDict[0].session["logged-in"].id:return n.extensions.hasOwnProperty(this.contextExtensionsDict[0].session["session-id"])&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].session["started-time"])&&(s=!0),s;case this.verbDict[0].session["logged-out"].id:return n.extensions.hasOwnProperty(this.contextExtensionsDict[0].session["session-id"])&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].session["ended-time"])&&(s=!0),s;case this.verbDict[0].session["timed-out"].id:return n.extensions.hasOwnProperty(this.contextExtensionsDict[0].session["session-id"])&&(s=!0),s;case this.verbDict[0].session.paused.id:return n.extensions.hasOwnProperty(this.contextExtensionsDict[0].session["session-id"])&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].session["ended-time"])&&(s=!0),s;case this.verbDict[0].session.resumed.id:return n.extensions.hasOwnProperty(this.contextExtensionsDict[0].session["session-id"])&&n.extensions.hasOwnProperty(this.contextExtensionsDict[0].session["started-time"])&&(s=!0),s;case this.verbDict[0].session.attempted.id:return i.extensions.hasOwnProperty(this.resultExtensionsDict[0].session["attempt-count"])&&(s=!0),s;case this.verbDict[0].session.entered.id:return n.extensions.hasOwnProperty(this.contextExtensionsDict[0].session["started-time"])&&(s=!0),s;case this.verbDict[0].session.leaved.id:return n.extensions.hasOwnProperty(this.contextExtensionsDict[0].session["ended-time"])&&(s=!0),s;case this.verbDict[0].session.attended.id:return i.extensions.hasOwnProperty(this.resultExtensionsDict[0].session["attended-time"])&&(s=!0),s}},e}(i(248).xAPIProfile);e.SessionProfile=r},428:(t,e)=>{e.__esModule=!0,e.xAPIDictionary=void 0;var i=function(){this.verb=[{media:{initialized:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/initialized",display:{"en-US":"initialized"}},played:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/played",display:{"en-US":"played"}},paused:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/paused",display:{"en-US":"paused"}},seeked:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/seeked",display:{"en-US":"seeked"}},completed:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/completed",display:{"en-US":"completed"}},terminated:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/terminated",display:{"en-US":"terminated"}},interacted:{id:"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/interacted",display:{"en-US":"interacted"}}}},{session:{"logged-in":{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/logged-in",display:{"en-US":"logged-in"}},"logged-out":{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/logged-out",display:{"en-US":"logged-out"}},"timed-out":{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/timed-out",display:{"en-US":"timed-out"}},paused:{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/paused",display:{"en-US":"paused"}},resumed:{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/resumed",display:{"en-US":"resumed"}},attempted:{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/attempted",display:{"en-US":"attempted"}},entered:{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/entered",display:{"en-US":"entered"}},leaved:{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/leaved",display:{"en-US":"leaved"}},attended:{id:"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/attended",display:{"en-US":"attended"}}}},{navigation:{"moved-to":{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/moved-to",display:{"en-US":"moved-to"}},next:{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/next",display:{"en-US":"next"}},previous:{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/previous",display:{"en-US":"previous"}},clicked:{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/clicked",display:{"en-US":"clicked"}},viewed:{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/viewed",display:{"en-US":"viewed"}},"popped-up":{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/popped-up",display:{"en-US":"popped-up"}},opened:{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/opened",display:{"en-US":"opened"}},closed:{id:"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/closed",display:{"en-US":"closed"}}}}],this.activityNames=[{media:{video:{type:"https://ubion.co.kr/xapi/activity-type/video",moreInfo:"https://ubion.co.kr/xapi/activity-type/video/info"},audio:{type:"https://ubion.co.kr/xapi/activity-type/audio",moreInfo:"https://ubion.co.kr/xapi/activity-type/audio/info"}}},{session:{"software-application":{type:"https://ubion.co.kr/xapi/activity-type/software-application",moreInfo:"https://ubion.co.kr/xapi/activity-type/software-application/info"},"group-activity":{type:"https://ubion.co.kr/xapi/activity-type/group-activity",moreInfo:"https://ubion.co.kr/xapi/activity-type/group-activity/info"}}},{navigation:{document:{type:"https://ubion.co.kr/xapi/activity-type/document",moreInfo:"https://ubion.co.kr/xapi/activity-type/document/info"},webpage:{type:"https://ubion.co.kr/xapi/activity-type/webpage",moreInfo:"https://ubion.co.kr/xapi/activity-type/webpage/info"},menu:{type:"https://ubion.co.kr/xapi/activity-type/menu",moreInfo:"https://ubion.co.kr/xapi/activity-type/menu/info"},toc:{type:"https://ubion.co.kr/xapi/activity-type/toc",moreInfo:"https://ubion.co.kr/xapi/activity-type/toc/info"}}}],this.extensions={result:[{media:{time:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/time","time-from":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/time-from","time-to":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/time-to",progress:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/progress","played-segments":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/played-segments"}},{session:{"attempt-count":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/result/attempt-count","attended-time":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/result/attended-time","attended-reason":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/result/attended-reason","leaved-reason":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/result/leaved-reason"}},{navigation:{"current-index":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/result/current-index","total-index":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/result/total-index","view-started-time":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/result/view-started-time","view-ended-time":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/result/view-ended-time"}}],context:[{media:{"media-session-id":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/media-session-id","cc-subtitle-enabled":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/cc-subtitle-enabled","cc-subtitle-lang":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/cc-subbtitle-lang","frame-rate":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/frame-rate","full-screen":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/full-screen",quality:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/quality","screen-size":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/screen-size","video-playback-size":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/video-playback-size",speed:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/speed",track:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/track","user-agent":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/user-agent",volume:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/volume",length:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/length","completion-threshold":"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/completion-threshold",tag:"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/tag"}},{session:{"session-id":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/session-id","started-time":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/started-time","ended-time":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/ended-time","user-agent":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/user-agent","ip-address":"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/ip-address",host:"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/host"}},{navigation:{"target-id":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/target-id","target-type":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/target-type","target-name":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/target-name","referrer-id":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/referrer-id","referrer-type":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/referrer-type","referrer-name":"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/referrer-name"}}]}};e.xAPIDictionary=i},248:(t,e,i)=>{e.__esModule=!0,e.xAPIProfile=void 0;var n=i(428),s=function(){function t(){this.dict=new n.xAPIDictionary}return t.prototype.getVerb=function(t){return this.validateVerbName(t.toLowerCase())?(this.setVerb(t.toLowerCase()),this._verb):(console.log({error:"setVerb is fail."}),{error:"getVerb is fail."})},t.prototype.getActivity=function(t,e,i,n){return this.validateActivityName(t)?(this.setActivity(t,e,i,n),this._activity):(console.log({error:"getActivity is fail."}),{error:"getActivity is fail"})},t.prototype.getResult=function(t,e,i){return null!=e?this.validateResult(e)?(this.setResult(t.toLocaleLowerCase(),e,i),this._result):(console.log({error:"getResult is fail."}),{error:" setResult is fails"}):(this.setResult(t.toLocaleLowerCase(),e,i),this._result)},t.prototype.getContext=function(t){return this.validateContextName(t)?(this.setContext(t),this._context):(console.log({error:"getContext is fail."}),{error:"getContext fail"})},t}();e.xAPIProfile=s},453:(t,e,i)=>{var n;i.r(e),i.d(e,{NIL:()=>S,parse:()=>f,stringify:()=>d,v1:()=>y,v3:()=>D,v4:()=>E,v5:()=>I,validate:()=>a,version:()=>A});var s=new Uint8Array(16);function r(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(s)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(t){return"string"==typeof t&&o.test(t)};for(var c=[],p=0;p<256;++p)c.push((p+256).toString(16).substr(1));const d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!a(i))throw TypeError("Stringified UUID is invalid");return i};var u,h,l=0,m=0;const y=function(t,e,i){var n=e&&i||0,s=e||new Array(16),o=(t=t||{}).node||u,a=void 0!==t.clockseq?t.clockseq:h;if(null==o||null==a){var c=t.random||(t.rng||r)();null==o&&(o=u=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=h=16383&(c[6]<<8|c[7]))}var p=void 0!==t.msecs?t.msecs:Date.now(),y=void 0!==t.nsecs?t.nsecs:m+1,f=p-l+(y-m)/1e4;if(f<0&&void 0===t.clockseq&&(a=a+1&16383),(f<0||p>l)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=p,m=y,h=a;var v=(1e4*(268435455&(p+=122192928e5))+y)%4294967296;s[n++]=v>>>24&255,s[n++]=v>>>16&255,s[n++]=v>>>8&255,s[n++]=255&v;var x=p/4294967296*1e4&268435455;s[n++]=x>>>8&255,s[n++]=255&x,s[n++]=x>>>24&15|16,s[n++]=x>>>16&255,s[n++]=a>>>8|128,s[n++]=255&a;for(var g=0;g<6;++g)s[n+g]=o[g];return e||d(s)};const f=function(t){if(!a(t))throw TypeError("Invalid UUID");var e,i=new Uint8Array(16);return i[0]=(e=parseInt(t.slice(0,8),16))>>>24,i[1]=e>>>16&255,i[2]=e>>>8&255,i[3]=255&e,i[4]=(e=parseInt(t.slice(9,13),16))>>>8,i[5]=255&e,i[6]=(e=parseInt(t.slice(14,18),16))>>>8,i[7]=255&e,i[8]=(e=parseInt(t.slice(19,23),16))>>>8,i[9]=255&e,i[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,i[11]=e/4294967296&255,i[12]=e>>>24&255,i[13]=e>>>16&255,i[14]=e>>>8&255,i[15]=255&e,i};function v(t,e,i){function n(t,n,s,r){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],i=0;i<t.length;++i)e.push(t.charCodeAt(i));return e}(t)),"string"==typeof n&&(n=f(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+t.length);if(o.set(n),o.set(t,n.length),(o=i(o))[6]=15&o[6]|e,o[8]=63&o[8]|128,s){r=r||0;for(var a=0;a<16;++a)s[r+a]=o[a];return s}return d(o)}try{n.name=t}catch(t){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function x(t){return 14+(t+64>>>9<<4)+1}function g(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function b(t,e,i,n,s,r){return g((o=g(g(e,t),g(n,r)))<<(a=s)|o>>>32-a,i);var o,a}function P(t,e,i,n,s,r,o){return b(e&i|~e&n,t,e,s,r,o)}function w(t,e,i,n,s,r,o){return b(e&n|i&~n,t,e,s,r,o)}function O(t,e,i,n,s,r,o){return b(e^i^n,t,e,s,r,o)}function _(t,e,i,n,s,r,o){return b(i^(e|~n),t,e,s,r,o)}const D=v("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var i=0;i<e.length;++i)t[i]=e.charCodeAt(i)}return function(t){for(var e=[],i=32*t.length,n="0123456789abcdef",s=0;s<i;s+=8){var r=t[s>>5]>>>s%32&255,o=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);e.push(o)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[x(e)-1]=e;for(var i=1732584193,n=-271733879,s=-1732584194,r=271733878,o=0;o<t.length;o+=16){var a=i,c=n,p=s,d=r;i=P(i,n,s,r,t[o],7,-680876936),r=P(r,i,n,s,t[o+1],12,-389564586),s=P(s,r,i,n,t[o+2],17,606105819),n=P(n,s,r,i,t[o+3],22,-1044525330),i=P(i,n,s,r,t[o+4],7,-176418897),r=P(r,i,n,s,t[o+5],12,1200080426),s=P(s,r,i,n,t[o+6],17,-1473231341),n=P(n,s,r,i,t[o+7],22,-45705983),i=P(i,n,s,r,t[o+8],7,1770035416),r=P(r,i,n,s,t[o+9],12,-1958414417),s=P(s,r,i,n,t[o+10],17,-42063),n=P(n,s,r,i,t[o+11],22,-1990404162),i=P(i,n,s,r,t[o+12],7,1804603682),r=P(r,i,n,s,t[o+13],12,-40341101),s=P(s,r,i,n,t[o+14],17,-1502002290),i=w(i,n=P(n,s,r,i,t[o+15],22,1236535329),s,r,t[o+1],5,-165796510),r=w(r,i,n,s,t[o+6],9,-1069501632),s=w(s,r,i,n,t[o+11],14,643717713),n=w(n,s,r,i,t[o],20,-373897302),i=w(i,n,s,r,t[o+5],5,-701558691),r=w(r,i,n,s,t[o+10],9,38016083),s=w(s,r,i,n,t[o+15],14,-660478335),n=w(n,s,r,i,t[o+4],20,-405537848),i=w(i,n,s,r,t[o+9],5,568446438),r=w(r,i,n,s,t[o+14],9,-1019803690),s=w(s,r,i,n,t[o+3],14,-187363961),n=w(n,s,r,i,t[o+8],20,1163531501),i=w(i,n,s,r,t[o+13],5,-1444681467),r=w(r,i,n,s,t[o+2],9,-51403784),s=w(s,r,i,n,t[o+7],14,1735328473),i=O(i,n=w(n,s,r,i,t[o+12],20,-1926607734),s,r,t[o+5],4,-378558),r=O(r,i,n,s,t[o+8],11,-2022574463),s=O(s,r,i,n,t[o+11],16,1839030562),n=O(n,s,r,i,t[o+14],23,-35309556),i=O(i,n,s,r,t[o+1],4,-1530992060),r=O(r,i,n,s,t[o+4],11,1272893353),s=O(s,r,i,n,t[o+7],16,-155497632),n=O(n,s,r,i,t[o+10],23,-1094730640),i=O(i,n,s,r,t[o+13],4,681279174),r=O(r,i,n,s,t[o],11,-358537222),s=O(s,r,i,n,t[o+3],16,-722521979),n=O(n,s,r,i,t[o+6],23,76029189),i=O(i,n,s,r,t[o+9],4,-640364487),r=O(r,i,n,s,t[o+12],11,-421815835),s=O(s,r,i,n,t[o+15],16,530742520),i=_(i,n=O(n,s,r,i,t[o+2],23,-995338651),s,r,t[o],6,-198630844),r=_(r,i,n,s,t[o+7],10,1126891415),s=_(s,r,i,n,t[o+14],15,-1416354905),n=_(n,s,r,i,t[o+5],21,-57434055),i=_(i,n,s,r,t[o+12],6,1700485571),r=_(r,i,n,s,t[o+3],10,-1894986606),s=_(s,r,i,n,t[o+10],15,-1051523),n=_(n,s,r,i,t[o+1],21,-2054922799),i=_(i,n,s,r,t[o+8],6,1873313359),r=_(r,i,n,s,t[o+15],10,-30611744),s=_(s,r,i,n,t[o+6],15,-1560198380),n=_(n,s,r,i,t[o+13],21,1309151649),i=_(i,n,s,r,t[o+4],6,-145523070),r=_(r,i,n,s,t[o+11],10,-1120210379),s=_(s,r,i,n,t[o+2],15,718787259),n=_(n,s,r,i,t[o+9],21,-343485551),i=g(i,a),n=g(n,c),s=g(s,p),r=g(r,d)}return[i,n,s,r]}(function(t){if(0===t.length)return[];for(var e=8*t.length,i=new Uint32Array(x(e)),n=0;n<e;n+=8)i[n>>5]|=(255&t[n/8])<<n%32;return i}(t),8*t.length))}));const E=function(t,e,i){var n=(t=t||{}).random||(t.rng||r)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){i=i||0;for(var s=0;s<16;++s)e[i+s]=n[s];return e}return d(n)};function C(t,e,i,n){switch(t){case 0:return e&i^~e&n;case 1:return e^i^n;case 2:return e&i^e&n^i&n;case 3:return e^i^n}}function k(t,e){return t<<e|t>>>32-e}const I=v("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var s=0;s<n.length;++s)t.push(n.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var r=t.length/4+2,o=Math.ceil(r/16),a=new Array(o),c=0;c<o;++c){for(var p=new Uint32Array(16),d=0;d<16;++d)p[d]=t[64*c+4*d]<<24|t[64*c+4*d+1]<<16|t[64*c+4*d+2]<<8|t[64*c+4*d+3];a[c]=p}a[o-1][14]=8*(t.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(t.length-1)&4294967295;for(var u=0;u<o;++u){for(var h=new Uint32Array(80),l=0;l<16;++l)h[l]=a[u][l];for(var m=16;m<80;++m)h[m]=k(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);for(var y=i[0],f=i[1],v=i[2],x=i[3],g=i[4],b=0;b<80;++b){var P=Math.floor(b/20),w=k(y,5)+C(P,f,v,x)+g+e[P]+h[b]>>>0;g=x,x=v,v=k(f,30)>>>0,f=y,y=w}i[0]=i[0]+y>>>0,i[1]=i[1]+f>>>0,i[2]=i[2]+v>>>0,i[3]=i[3]+x>>>0,i[4]=i[4]+g>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]})),S="00000000-0000-0000-0000-000000000000";const A=function(t){if(!a(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,i),r.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{var t=n;t.__esModule=!0,t.xAPIBuilder=void 0;var e=i(428),s=i(788),r=i(645),o=i(896),a=i(453),c=i(905),p=function(){function t(){this.registrationVal=a.v4(),this.emailRegExp=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.RET_CODE=[{code:200,status:"SUCCESS"},{code:300,status:"MISSING_PARAMETER_REQUIRED",data:""},{code:310,status:"MISMATCH_PARAMETER_FORMAT",data:""},{code:404,status:"NOT_FOUND"},{code:500,status:"INTERNAL_ERROR"}],this._profiles=[]}return t.prototype.initializeXAPI=function(t){try{null!=t&&t!={}&&(this.resultCode=this.RET_CODE[0],this.resultCode=this.validateActivityData(t),200==this.resultCode.code&&(this.setActor(t),this.setContext(t)))}catch(t){this.resultCode=this.RET_CODE[4],console.log("Error:",t)}return this.resultCode},t.prototype.validateActivityData=function(t){var e=this.RET_CODE[0];if(t.hasOwnProperty("actor")?t.actor.hasOwnProperty("id")||t.actor.hasOwnProperty("account")?t.actor.hasOwnProperty("account")?t.actor.account.hasOwnProperty("homePage")&&t.actor.account.hasOwnProperty("name")?/^http[s]?:/.test(t.actor.account.homePage)||((e=this.RET_CODE[2]).data="parameter actor.account.homePage format is mismatch"):(e=this.RET_CODE[1]).data="parameter actor.account.homePage or parameter actor.account.name is missing":t.actor.hasOwnProperty("id")&&(this.emailRegExp.test(t.actor.id)||/^[0-9a-f]{40}$/i.test(t.actor.id)||/^http[s]?:/.test(t.actor.id)||((e=this.RET_CODE[2]).data="parameter actor.id format is mismatch")):(e=this.RET_CODE[1]).data="parameter actor.id or actor.account is missing":(e=this.RET_CODE[1]).data="parameter actor is missing",t.hasOwnProperty("instructor")&&(t.instructor.hasOwnProperty("id")?this.emailRegExp.test(t.instructor.id)||/^[0-9a-f]{40}$/i.test(t.instructor.id)||/^http[s]?:/.test(t.instructor.id)||((e=this.RET_CODE[2]).data="parameter instructor.id format is mismatch"):t.instructor.hasOwnProperty("account")?t.instructor.account.hasOwnProperty("homePage")&&t.instructor.account.hasOwnProperty("name")?/^http[s]?:/.test(t.instructor.account.homePage)||((e=this.RET_CODE[2]).data="parameter instructor.account.homePage format is mismatch"):(e=this.RET_CODE[1]).data="parameter instructor.account.homePage or parameter instructor.account.name is missing":(e=this.RET_CODE[1]).data="parameter instructor.id or instructor.account is missing"),t.hasOwnProperty("team")&&(t.team.hasOwnProperty("member")||((e=this.RET_CODE[1]).data="parameter team.member is missing"),t.team.hasOwnProperty("member"))){for(var i in t.team.member)t.team.member[i].hasOwnProperty("id")||t.team.member[i].hasOwnProperty("account")||((e=this.RET_CODE[1]).data="parameter team.member.id or team.member.account is missing");for(var i in t.team.member)!t.team.member[i].hasOwnProperty("id")&&t.team.member[i].hasOwnProperty("account")&&(t.team.member[i].account.hasOwnProperty("homePage")&&t.team.member[i].account.hasOwnProperty("name")||((e=this.RET_CODE[1]).data="parameter team.member.account.homePage or name is missing"));for(var i in t.team.member)t.team.member[i].hasOwnProperty("id")&&(this.emailRegExp.test(t.team.member[i].id)||/^[0-9a-f]{40}$/i.test(t.team.member[i].id)||/^http[s]?:/.test(t.team.member[i].id)||((e=this.RET_CODE[2]).data="parameter team.member format is mismatch"))}if(t.hasOwnProperty("parent"))for(var i in t.parent)t.parent[i].hasOwnProperty("id")&&t.parent[i].hasOwnProperty("name")||((e=this.RET_CODE[1]).data="parameter parent.id or parent.name is missing");if(t.hasOwnProperty("grouping"))for(var i in t.grouping)t.grouping[i].hasOwnProperty("id")&&t.grouping[i].hasOwnProperty("name")||((e=this.RET_CODE[1]).data="parameter grouping.id or grouping.name is missing");if(t.hasOwnProperty("category"))for(var i in t.category)t.category[i].hasOwnProperty("id")&&t.category[i].hasOwnProperty("name")||((e=this.RET_CODE[1]).data="parameter category.id or category.name is missing");if(t.hasOwnProperty("other"))for(var i in t.other)t.other[i].hasOwnProperty("id")&&t.other[i].hasOwnProperty("name")||((e=this.RET_CODE[1]).data="parameter other.id or other.name is missing");return this._activityData=t,e},t.prototype.setActor=function(t){var e="",i="",n={},s=[],r={};this._actor={objectType:"Agent",name:""};var o=t.actor.name;if(this._actor.name=o,t.actor.hasOwnProperty("id")?this.emailRegExp.test(t.actor.id)?(i="mailto:"+t.actor.id,this._actor.mbox=i):/^[0-9a-f]{40}$/i.test(t.actor.id)?(i=t.actor.id,this._actor.mbox_sha1sum=i):/^http[s]?:/.test("id")&&(i=t.actor.id,this._actor.openid=i):t.actor.hasOwnProperty("account")&&(e="account",n=t.actor.account,this._actor[e]=n),t.actor.hasOwnProperty("team")){for(var a in this._actor.objectType="Group",t.actor.team.member){if((r={name:{}}).objectType="Agent",t.actor.team.member[a].hasOwnProperty("id")){var c=a.name;this.emailRegExp.test(t.actor.team.member[a].id)?(i="mailto:"+t.actor.team.member[a].id,r.mbox=i,r.name=c):/^[0-9a-f]{40}$/i.test(t.actor.team.member[a].id)?(i=t.actor.team.member[a].id,r.mbox_sha1sum=i,r.name=c):/^http[s]?:/.test("id")&&(i=t.actor.team.member[a].id,r.openid=i,r.name=c)}else if(t.actor.team.member[a].hasOwnProperty("account")){var p=t.actor.team.member[a].account.name;e="account",n=t.actor.team.member[a].account,r[e]=n,r.name=p}s.push(r)}e="member",this._actor[e]=s}},t.prototype.setContext=function(t){var e="",i="",n={},s={},r={},o=[],a={},c={};if(this._context={},t.hasOwnProperty("sessionId")?this._context.registration=t.sessionId:this._context.registration=this.registrationVal,t.hasOwnProperty("instructor")){if(s={objectType:"Agent",name:""},t.instructor.hasOwnProperty("name")){var p=t.instructor.name;s.name=p}t.instructor.hasOwnProperty("id")?this.emailRegExp.test(t.instructor.id)?(i="mailto:"+t.instructor.id,s.mbox=i):/^[0-9a-f]{40}$/i.test(t.instructor.id)?(i=t.instructor.id,s.mbox_sha1sum=i):(i=t.instructor.id,s.openid=i):t.instructor.hasOwnProperty("account")&&(e="account",n=t.instructor.account,s[e]=n),e="instructor",this._context[e]=s}if(t.hasOwnProperty("team")){r={objectType:"Group",name:{}};var d=t.team.name;for(var u in r.name=d,t.team.member){a={name:{}};var h=t.team.member[u].name;if(t.team.member[u].hasOwnProperty("id"))this.emailRegExp.test(t.team.member[u].id)?(i="mailto:"+t.team.member[u].id,a.mbox=i,a.name=h):/^[0-9a-f]{40}$/i.test(t.team.member[u].id)?(i=t.team.member[u].id,a.mbox_sha1sum=i,a.name=h):(i=t.team.member[u].id,a.openid=i,a.name=h);else if(t.team.member[u].hasOwnProperty("account")){var l=t.team.member[u].name.language,m=t.team.member[u].name.value;e="account",n=t.team.member[u].account,a[e]=n,a.name[l]=m,a.name=h}o.push(a)}r.member=o,e="team",this._context[e]=r}if(t.hasOwnProperty("parent")){var y=[];for(var u in t.parent){var f=t.parent[u].name.language,v=t.parent[u].name.value,x=t.parent[u].description.language,g=t.parent[u].description.value,b={id:t.parent[u].id,objectType:"Activity",definition:{name:{},description:{}}};b.definition.name[f]=v,b.definition.description[x]=g,y.push(b)}c[e="parent"]=y}if(t.hasOwnProperty("grouping")){var P=[];for(var u in t.grouping){var w=t.grouping[u].name.language,O=t.grouping[u].name.value,_=t.grouping[u].description.language,D=t.grouping[u].description.value,E={id:t.grouping[u].id,objectType:"Activity",definition:{name:{},description:{}}};E.definition.name[w]=O,E.definition.description[_]=D,P.push(E)}c[e="grouping"]=P}if(t.hasOwnProperty("other")){var C=[];for(var u in t.other){var k=t.other[u].name.language,I=t.other[u].name.value,S=t.other[u].description.language,A=t.other[u].description.value,j={id:t.other[u].id,objectType:"Activity",definition:{name:{},description:{}}};j.definition.name[k]=I,j.definition.description[S]=A,C.push(j)}c[e="other"]=C}0!==Object.keys(c).length&&(this._context.contextActivities=c),t.hasOwnProperty("platform")&&(this._context.platform=t.platform)},t.prototype.setXAPIData=function(t){var i=new e.xAPIDictionary,n=i.verb.filter((function(t){return t.hasOwnProperty("session")})),s=i.verb.filter((function(t){return t.hasOwnProperty("navigation")})),r=i.verb.filter((function(t){return t.hasOwnProperty("media")}));if(this.resultCode=this.validateActionData(t),200==this.resultCode.code){if(this.getProfile(t),this.getStatement(this._actor,this._verb,this._activity),this._statement.context=this._context,this._statement.context.extensions=this._extensions.extensions,this.setAttachments(t),null!=this._result){this._statement.result=this._result}switch(this._statement.timestamp=(new Date).toISOString(),this._statement.version=c.default.version,this._statement.verb.id){case n[0].session["logged-in"].id:case n[0].session["logged-out"].id:case n[0].session["timed-out"].id:case n[0].session.paused.id:case n[0].session.resumed.id:case n[0].session.attempted.id:case n[0].session.entered.id:case n[0].session.leaved.id:case n[0].session.attended.id:void 0!==this.sessionProfileObjInMember&&"session"==Object.keys(this.sessionProfileObjInMember[0])[0]&&(this.sessionProfileObjInMember[0].session.validateProfile(this._statement)?this.resultCode=this.RET_CODE[0]:(this.resultCode=this.RET_CODE[1],this.resultCode.data="validation statement Fail"));break;case s[0].navigation["moved-to"].id:case s[0].navigation.next.id:case s[0].navigation.previous.id:case s[0].navigation.clicked.id:case s[0].navigation.viewed.id:case s[0].navigation["popped-up"].id:case s[0].navigation.opened.id:case s[0].navigation.closed.id:void 0!==this.navigationProfileObjInMember&&"navigation"==Object.keys(this.navigationProfileObjInMember[0])[0]&&(this.navigationProfileObjInMember[0].navigation.validateProfile(this._statement)?this.resultCode=this.RET_CODE[0]:(this.resultCode=this.RET_CODE[1],this.resultCode.data="validation statement Fail"));break;case r[0].media.initialized.id:case r[0].media.played.id:case r[0].media.paused.id:case r[0].media.seeked.id:case r[0].media.completed.id:case r[0].media.terminated.id:case r[0].media.interacted.id:void 0!==this.mediaProfileObjInMember&&"media"==Object.keys(this.mediaProfileObjInMember[0])[0]&&(this.mediaProfileObjInMember[0].media.validateProfile(this._statement)?this.resultCode=this.RET_CODE[0]:(this.resultCode=this.RET_CODE[1],this.resultCode.data="validation statement Fail"))}}return this.resultCode},t.prototype.getConfigData=function(){return{endpoint:c.default.endpoint,username:c.default.key,password:c.default.secret}},t.prototype.getStatementObj=function(){return this._statement},t.prototype.validateActionData=function(t){var e=this.RET_CODE[0];return t.hasOwnProperty("object")||t.hasOwnProperty.object("type")||t.hasOwnProperty.object("id")?t.hasOwnProperty("verb")||((e=this.RET_CODE[1]).data="parameter verb is missing"):(e=this.RET_CODE[1]).data="parameter object.type or object.id is missing",e},t.prototype.getProfile=function(t){var e={};try{switch(t.object.type.toLowerCase()){case"video":case"audio":if(0==this._profiles.filter((function(t){return t.hasOwnProperty("media")})).length){var i=new s.MediaProfile;e.media=i,this._profiles.push(e)}this.mediaProfileObjInMember=this._profiles.filter((function(t){return t.hasOwnProperty("media")}));var n=this.mediaProfileObjInMember[0].media.getVerb(t.verb);this._verb=n;var a=this.mediaProfileObjInMember[0].media.getActivity(t.object.type,t.object.id,t.object.name,t.object.description);this._activity=a;var c=this.mediaProfileObjInMember[0].media.getContext(t.extension);if(this._extensions=c,null!=t.result)null!=(p=this.mediaProfileObjInMember[0].media.getResult(t.verb,t.result,t.extension))&&(this._result=p);else if("initialized"!=t.verb){var p;null!=(p=this.mediaProfileObjInMember[0].media.getResult(t.verb,t.result,t.extension))&&(this._result=p)}break;case"software-application":case"group-activity":if(0==this._profiles.filter((function(t){return t.hasOwnProperty("session")})).length){var d=new r.SessionProfile;e.session=d,this._profiles.push(e)}this.sessionProfileObjInMember=this._profiles.filter((function(t){return t.hasOwnProperty("session")}));var u=this.sessionProfileObjInMember[0].session.getVerb(t.verb);this._verb=u;var h=this.sessionProfileObjInMember[0].session.getActivity(t.object.type,t.object.id,t.object.name,t.object.description);this._activity=h;var l,m=this.sessionProfileObjInMember[0].session.getContext(t.extension);if(this._extensions=m,null!=t.result)null!=(l=this.sessionProfileObjInMember[0].session.getResult(t.verb,t.result,t.extension))&&(this._result=l);else null!=(l=this.sessionProfileObjInMember[0].session.getResult(t.verb,t.result,t.extension))&&(this._result=l);break;case"document":case"webpage":case"menu":case"toc":if(0==this._profiles.filter((function(t){return t.hasOwnProperty("navigation")})).length){var y=new o.NavigationProfile;e.navigation=y,this._profiles.push(e)}this.navigationProfileObjInMember=this._profiles.filter((function(t){return t.hasOwnProperty("navigation")}));var f=this.navigationProfileObjInMember[0].navigation.getVerb(t.verb);this._verb=f;var v=this.navigationProfileObjInMember[0].navigation.getActivity(t.object.type,t.object.id,t.object.name,t.object.description);this._activity=v;var x,g=this.navigationProfileObjInMember[0].navigation.getContext(t.extension);if(this._extensions=g,null!=t.result)null!=(x=this.navigationProfileObjInMember[0].navigation.getResult(t.verb,t.result,t.extension))&&(this._result=x);else null!=(x=this.navigationProfileObjInMember[0].navigation.getResult(t.verb,t.result,t.extension))&&(this._result=x)}}catch(t){this.resultCode=this.RET_CODE[4],console.log("Error:",t)}return this._profiles},t.prototype.getStatement=function(t,e,i){var n={id:"",actor:{objectType:"Agent",name:"",mbox:""},verb:{id:"",display:{}},object:{id:"",objectType:"Activity"}};return n.actor=t,n.verb=e,n.object=i,this._statement=n,this._statement},t.prototype.setAttachments=function(t){return t.hasOwnProperty("attachments")&&(this._statement=t.attachments),this._statement},t.prototype.getUuid=function(){return a.v4()},t}();t.xAPIBuilder=p})(),XAPI=n})();