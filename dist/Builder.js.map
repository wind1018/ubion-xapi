{"version":3,"sources":["webpack://XAPI/./src/Config.ts","webpack://XAPI/./src/Profiles/MediaProfile.ts","webpack://XAPI/./src/Profiles/NavigationProfile.ts","webpack://XAPI/./src/Profiles/SessionProfile.ts","webpack://XAPI/./src/xAPIDictionary.ts","webpack://XAPI/./src/xAPIProfile.ts","webpack://XAPI/./src/xapiBuilder.ts","webpack://XAPI/./node_modules/uuid/dist/esm-browser/rng.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/regex.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/validate.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/v1.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/parse.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/v35.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/md5.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/v3.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/v4.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/sha1.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/v5.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/nil.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/version.js","webpack://XAPI/./node_modules/uuid/dist/esm-browser/index.js","webpack://XAPI/webpack/bootstrap","webpack://XAPI/webpack/runtime/define property getters","webpack://XAPI/webpack/runtime/hasOwnProperty shorthand","webpack://XAPI/webpack/runtime/make namespace object","webpack://XAPI/webpack/startup"],"names":[],"mappings":";;;;;;;;;;IAAA;;OAEG;IACH,IAAM,MAAM,GAAG;QACX,mBAAmB;QACnB,QAAQ,EAAE,gCAAgC;QAC1C,sBAAsB;QACtB,GAAG,EAAE,0CAA0C;QAC/C,yBAAyB;QACzB,MAAM,EAAE,0CAA0C;QAClD,kBAAkB;QAClB,OAAO,EAAE,OAAO;KACnB;IAED,kBAAe,MAAM,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICZtB;;;;OAIG;IACH;QAAkC,gCAAW;QAA7C;YAAA,qEAmoBC;YAloBG,wBAAwB;YACjB,oBAAc,GAAW,EAAE,CAAC;YACnC,uBAAuB;YACf,aAAO,GAAG,KAAK,CAAC;YAChB,cAAQ,GAAG,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAA5B,CAA4B,CAAC,CAAC;YACvE,kBAAY,GAAG,KAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAA5B,CAA4B,CAAC,CAAC;YACpF,0BAAoB,GAAG,KAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAA5B,CAA4B,CAAC,CAAC;YAChG,2BAAqB,GAAG,KAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAA5B,CAA4B,CAAC,CAAC;;QA2nB9G,CAAC;QAznBG;;;;;;WAMG;QACI,uCAAgB,GAAvB,UAAwB,QAAgB;YACpC,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAC9D,CAAC;QAED;;;;;WAKG;QACI,8BAAO,GAAd,UAAe,QAAgB;YAC3B,IAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,EAAE,IAAI,SAAS,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,KAAK,EAAE,IAAI,SAAS,EAAC;gBAC7H,IAAI,CAAC,KAAK,GAAG;oBACT,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE;oBAC1C,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO;iBACvD;gBACD,OAAO,IAAI,CAAC;aACf;iBAAM;gBACH,OAAO,CAAC,GAAG,CAAC,EAAC,OAAO,EAAC,kBAAkB,EAAC,CAAC,CAAC;gBAC1C,OAAO,KAAK,CAAC;aAChB;QACL,CAAC;QAED;;;;;;WAMG;QACI,2CAAoB,GAA3B,UAA4B,kBAA0B;YAClD,OAAO,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,kBAAkB,CAAC,iBAAiB,EAAE,CAAC;QAC/F,CAAC;QAED;;;;;;;;WAQG;QACI,kCAAW,GAAlB,UAAmB,kBAA0B,EAAE,QAAgB,EAAE,cAAmB,EAAE,WAAmB;YACrG,kBAAkB,GAAG,kBAAkB,CAAC,WAAW,EAAE,CAAC;YACtD,QAAQ,GAAG,QAAQ,CAAC;YACpB,IAAI,UAAU,GAAI,UAAU,CAAC;YAE7B,IAAG,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,EAAC;gBAC7C,IAAG,cAAc,IAAI,EAAE,IAAI,cAAc,IAAI,SAAS,IAAG,cAAc,IAAI,EAAE,EAAE;oBAC3E,IAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,KAAK,CAAC,EAAC;wBACrC,IAAI,CAAC,SAAS,GAAG;4BACb,EAAE,EAAE,QAAQ;4BACZ,UAAU,EAAE,UAAU;4BACtB,UAAU,EAAE;gCACR,IAAI,EAAE,cAAc;gCACpB,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,kBAAkB,CAAC,CAAC,IAAI;6BAC/D;yBACJ;qBACJ;yBAAM;wBACH,IAAI,CAAC,SAAS,GAAC;4BACX,EAAE,EAAE,QAAQ;4BACZ,UAAU,EAAE,UAAU;4BACtB,UAAU,EAAE;gCACR,IAAI,EAAE,cAAc;gCACpB,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,kBAAkB,CAAC,CAAC,IAAI;gCAC5D,WAAW,EAAE,WAAW;6BAC3B;yBACJ;qBACJ;iBACJ;gBAED,OAAO,IAAI,CAAC;aACf;iBAAM;gBACH,OAAO,CAAC,GAAG,CAAC,EAAC,OAAO,EAAC,sBAAsB,EAAC,CAAC,CAAC;gBAC9C,OAAO,KAAK,CAAC;aAChB;QACL,CAAC;QAED;;;;;WAKG;QACI,qCAAc,GAArB,UAAsB,MAAc;YAChC,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAG,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,EAAC;gBAC9B,IAAG,MAAM,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAC;oBACxC,IAAG,CAAC,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC;wBACjE,IAAI,GAAG,IAAI,CAAC;qBACf;yBAAM;wBACH,IAAI,GAAG,KAAK,CAAC;qBAChB;iBACJ;gBACD,IAAG,MAAM,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,EAAC;oBACrC,IAAG,CAAC,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC;wBAC3D,IAAI,GAAG,IAAI,CAAC;qBACf;yBAAM;wBACH,IAAI,GAAG,KAAK,CAAC;qBAChB;iBACJ;gBACD,IAAG,MAAM,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,EAAC;oBACrC,IAAG,CAAC,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC;wBAC3D,IAAI,GAAG,IAAI,CAAC;qBACf;yBAAM;wBACH,IAAI,GAAG,KAAK,CAAC;qBAChB;iBACJ;gBACD,IAAG,MAAM,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;oBACtC,IAAG,CAAC,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAG,CAAC,EAAC;wBAC1D,IAAI,GAAG,IAAI,CAAC;qBACf;yBAAM;wBACH,IAAI,GAAG,KAAK,CAAC;qBAChB;iBACJ;aACJ;YAED,IAAG,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,EAAC;gBACnC,IAAG,OAAO,MAAM,CAAC,YAAY,CAAC,KAAK,SAAS,EAAC;oBACzC,IAAI,GAAG,IAAI,CAAC;iBACf;qBAAM;oBACH,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,EAAC;gBACjC,IAAG,OAAO,MAAM,CAAC,UAAU,CAAC,KAAK,QAAQ,EAAC;oBACtC,IAAI,GAAG,IAAI,CAAC;iBACf;qBAAM;oBACH,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,EAAC;gBAChC,IAAG,OAAO,MAAM,CAAC,SAAS,CAAC,KAAK,SAAS,EAAC;oBACtC,IAAI,GAAG,IAAI,CAAC;iBACf;qBAAM;oBACH,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,EAAC;gBACjC,IAAG,OAAO,MAAM,CAAC,UAAU,CAAC,KAAK,QAAQ,EAAC;oBACtC,IAAI,GAAG,IAAI,CAAC;iBACf;qBAAM;oBACH,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YACD,OAAO,IAAI,CAAC;QAChB,CAAC;QAED;;;;;;;WAOG;QACI,gCAAS,GAAhB,UAAiB,QAAgB,EAAE,MAAe,EAAE,SAAiB;YACjE,IAAI,IAAI,GAAG,KAAK,CAAC;YACjB,IAAI,GAAG,GAAG,EAAE,CAAC;YAEb,IAAG,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,EAAC;gBAClE,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,GAAG,EAAE,CAAC;aAC3D;YAED,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,EAAC;gBACvC,OAAO,IAAI,CAAC;aACf;YAED,KAAK,IAAI,GAAG,IAAI,SAAS,EAAC;gBACtB,IAAG,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,EAAC;oBACzD,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;iBACpE;aACJ;YAED,IAAG,MAAM,IAAI,SAAS,EAAC;gBACnB,MAAM,GAAG,EAAE,CAAC;aACf;YAED,IAAG,QAAQ,IAAI,YAAY,EAAC;gBACxB,MAAM,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC;gBAE3B,IAAG,IAAI,CAAC,OAAO,IAAI,IAAI,EAAC;oBACpB,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAAC;iBAC3E;gBACD,IAAG,MAAM,CAAC,UAAU,CAAC,IAAI,SAAS,EAAC;oBAChC,MAAM,CAAC,UAAU,CAAC,GAAI,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAAC;iBACxE;qBAAM;oBACH,MAAM,CAAC,UAAU,CAAC,GAAG,IAAI,GAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAC,GAAG;iBAC9D;gBAED,MAAM,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;gBAChJ,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;gBAEtB,IAAI,GAAG,IAAI,CAAC;aACf;iBAAM,IAAG,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,WAAW,EAAC;gBACtD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,EAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAAC;gBAEvE,IAAG,MAAM,CAAC,UAAU,CAAC,IAAI,SAAS,EAAC;oBAC/B,MAAM,CAAC,UAAU,CAAC,GAAI,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAAC;iBACzE;qBAAM;oBACH,MAAM,CAAC,UAAU,CAAC,GAAG,IAAI,GAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAC,GAAG;iBAC9D;gBAED,MAAM,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC;gBAC3B,MAAM,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;gBAChJ,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;gBAEtB,IAAI,GAAG,IAAI,CAAC;aACf;iBAAM,IAAG,QAAQ,IAAI,QAAQ,EAAC;gBAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,MAAM,CAAC,EAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAAC;gBACzE,MAAM,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC;gBAC3B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;gBAEtB,IAAI,GAAG,IAAI,CAAC;aACf;iBAAM,IAAG,QAAQ,IAAI,QAAQ,EAAC;gBAC3B,IAAG,IAAI,CAAC,OAAO,EAAC,EAAC,mBAAmB;oBAChC,MAAM,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC;oBAC3B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;oBACtB,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,WAAW,CAAC,EAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAAC;oBAC5E,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,SAAS,CAAC,EAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAAC;oBAE5E,IAAI,GAAG,IAAI,CAAC;iBACf;qBAAM;oBACH,MAAM,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC;oBAC3B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;oBAEtB,IAAI,GAAG,IAAI,CAAC;iBACf;aACJ;iBAAM;gBACH,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;gBACtB,MAAM,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC;gBAE3B,IAAI,GAAG,IAAI,CAAC;aACf;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;QAED;;;;;WAKG;QACI,0CAAmB,GAA1B,UAA2B,SAAkB;YACzC,IAAG,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,EAAC;gBACrC,OAAO,IAAI;aACd;YAED,OAAO,KAAK,CAAC;QACjB,CAAC;QAED;;;;;WAKG;QACI,iCAAU,GAAjB,UAAkB,SAAiB;YAC/B,IAAI,GAAG,GAAG,EAAE,CAAC;YAEb,IAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,EAAC;gBACtC,OAAO,KAAK,CAAC;aAChB;YAED,KAAK,IAAI,GAAG,IAAI,SAAS,EAAC;gBACtB,IAAG,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,EAAC;oBAC1D,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;iBACrE;aACJ;YAED,IAAI,CAAC,QAAQ,GAAG;gBACZ,UAAU,EAAE,GAAG;aAClB;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;QAED;;;;;WAKG;QACI,4CAAqB,GAA5B,UAA6B,UAAmB;YAC5C,IAAI,IAAI,GAAG,IAAI,CAAC;YAEhB,kBAAkB;YAClB,IAAG,UAAU,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;gBACjC,IAAG,OAAO,UAAU,CAAC,MAAM,CAAC,KAAK,QAAQ,EAAC;oBACtC,IAAI,GAAG,KAAK,CAAC;iBAChB;gBAED,UAAU,CAAC,MAAM,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;aAClE;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,EAAC;gBACtC,IAAI,OAAO,UAAU,CAAC,WAAW,CAAC,KAAK,QAAQ,EAAE;oBAC7C,IAAI,GAAG,KAAK,CAAC;iBAChB;gBAED,UAAU,CAAC,WAAW,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;aAC5E;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,SAAS,CAAC,EAAC;gBACpC,IAAI,OAAO,UAAU,CAAC,SAAS,CAAC,KAAK,QAAQ,EAAE;oBAC3C,IAAI,GAAG,KAAK,CAAC;iBAChB;gBAED,UAAU,CAAC,SAAS,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;aACxE;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,UAAU,CAAC,EAAC;gBACrC,IAAI,OAAO,UAAU,CAAC,UAAU,CAAC,KAAK,QAAQ,EAAE;oBAC5C,IAAI,GAAG,KAAK,CAAC;iBAChB;gBAED,UAAU,CAAC,UAAU,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;aAC1E;YAED,mBAAmB;YACnB,IAAG,UAAU,CAAC,cAAc,CAAC,qBAAqB,CAAC,EAAC;gBAChD,IAAI,OAAO,UAAU,CAAC,qBAAqB,CAAC,KAAK,SAAS,EAAE;oBACxD,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,kBAAkB,CAAC,EAAC;gBAC7C,IAAI,OAAO,UAAU,CAAC,kBAAkB,CAAC,KAAK,QAAQ,EAAE;oBACpD,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,YAAY,CAAC,EAAC;gBACvC,IAAI,OAAO,UAAU,CAAC,YAAY,CAAC,KAAK,QAAQ,EAAE;oBAC9C,IAAI,GAAG,KAAK,CAAC;iBAChB;gBAED,UAAU,CAAC,YAAY,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;aAC9E;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,aAAa,CAAC,EAAC;gBACxC,IAAI,OAAO,UAAU,CAAC,aAAa,CAAC,KAAK,SAAS,EAAE;oBAChD,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,SAAS,CAAC,EAAC;gBACpC,IAAI,OAAO,UAAU,CAAC,SAAS,CAAC,KAAK,QAAQ,EAAE;oBAC3C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,aAAa,CAAC,EAAC;gBACxC,IAAI,OAAO,UAAU,CAAC,aAAa,CAAC,KAAK,QAAQ,EAAE;oBAC/C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,qBAAqB,CAAC,EAAC;gBAChD,IAAI,OAAO,UAAU,CAAC,qBAAqB,CAAC,KAAK,QAAQ,EAAE;oBACvD,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,OAAO,CAAC,EAAC;gBAClC,IAAI,OAAO,UAAU,CAAC,OAAO,CAAC,KAAK,QAAQ,EAAE;oBACzC,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,OAAO,CAAC,EAAC;gBAClC,IAAI,OAAO,UAAU,CAAC,OAAO,CAAC,KAAK,QAAQ,EAAE;oBACzC,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,YAAY,CAAC,EAAC;gBACvC,IAAI,OAAO,UAAU,CAAC,YAAY,CAAC,KAAK,QAAQ,EAAE;oBAC9C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAC;gBACnC,IAAI,OAAO,UAAU,CAAC,QAAQ,CAAC,KAAK,QAAQ,EAAE;oBAC1C,IAAI,GAAG,KAAK,CAAC;iBAChB;qBAAM,IAAI,CAAC,IAAI,UAAU,CAAC,QAAQ,CAAC,IAAI,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC;oBAC9D,UAAU,CAAC,QAAQ,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;iBACtE;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAC;gBACnC,IAAI,OAAO,UAAU,CAAC,QAAQ,CAAC,KAAK,QAAQ,EAAE;oBAC1C,IAAI,GAAG,KAAK,CAAC;iBAChB;gBAED,UAAU,CAAC,QAAQ,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;aACtE;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,sBAAsB,CAAC,EAAC;gBACjD,IAAI,OAAO,UAAU,CAAC,sBAAsB,CAAC,KAAK,QAAQ,EAAE;oBACxD,IAAI,GAAG,KAAK,CAAC;iBAChB;gBAED,UAAU,CAAC,sBAAsB,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,sBAAsB,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;aAClG;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,KAAK,CAAC,EAAC;gBAChC,IAAI,OAAO,UAAU,CAAC,KAAK,CAAC,KAAK,QAAQ,EAAE;oBACvC,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,kBAAkB,CAAC,EAAC;gBAC7C,IAAI,OAAO,UAAU,CAAC,kBAAkB,CAAC,KAAK,QAAQ,EAAE;oBACpD,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;iBAAM;gBACH,IAAI,GAAG,KAAK,CAAC;aAChB;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;QAED;;;;WAIG;QACI,qCAAc,GAArB;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;QAED;;;;WAIG;QACI,yCAAkB,GAAzB;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;QAED;;;;WAIG;QACI,uCAAgB,GAAvB;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;QAED;;;;WAIG;QACI,wCAAiB,GAAxB;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;QAED;;;;WAIG;QACI,gDAAyB,GAAhC;YACI,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QACtC,CAAC;QAED;;;;WAIG;QACI,iDAA0B,GAAjC;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACvC,CAAC;QAED;;;;;WAKG;QACI,sCAAe,GAAtB,UAAuB,OAAiB;YACpC,IAAI,IAAI,GAAI,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC;YAClC,IAAI,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;YAC/B,IAAI,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;YACjC,IAAI,IAAI,GAAG,KAAK,CAAC;YAEjB,QAAQ,IAAI,EAAE;gBACV,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,EAAE;oBACzC,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC;wBACtF,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,kBAAkB,CAAC,CAAC,EACnG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,EAAE;oBACpC,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC;wBAClF,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,kBAAkB,CAAC,CAAC,EACnG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,EAAE;oBACpC,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC;wBAClF,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,CAAC;wBACtF,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,iBAAiB,CAAC,CAAC;wBAC7F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC;wBACtF,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,kBAAkB,CAAC,CAAC,EACnG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,EAAE;oBACpC,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC;wBACvF,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC;wBACrF,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,kBAAkB,CAAC,CAAC,EACnG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,EAAE;oBACvC,IAAI,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC;wBACnC,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC;wBACjC,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC;wBAClF,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,CAAC;wBACtF,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,iBAAiB,CAAC,CAAC;wBAC7F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC;wBACtF,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,kBAAkB,CAAC,CAAC,EACnG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,EAAE;oBACxC,IAAI,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC;wBACjC,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC;wBAClF,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,CAAC;wBACtF,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,iBAAiB,CAAC,CAAC;wBAC7F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC;wBACtF,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,kBAAkB,CAAC,CAAC,EACnG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,EAAE;oBACxC,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC;wBAClF,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,kBAAkB,CAAC,CAAC,EACnG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;aACnB;QACL,CAAC;QAED;;;;WAIG;QACK,yCAAkB,GAA1B,UAA2B,KAAY,EAAG,cAAqB;YAC3D,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC;QACjE,CAAC;QAED;;;;WAIG;QACK,uCAAgB,GAAxB,UAAyB,GAAU,EAAE,cAAqB;YACtD,IAAI,GAAe,CAAC;YAEpB,GAAG,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACrI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YACnG,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAClE,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,aAAa,CAAC,GAAG,GAAG,CAAC;YACzD,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC;QACpE,CAAC;QACD;;;WAGG;QACK,wCAAiB,GAAzB,UAA0B,cAAqB;YAC3C,IAAI,GAAW,EAAG,IAAY,CAAE;YAEhC,2BAA2B;YAC3B,GAAG,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAExI,IAAI,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,eAAe,CAAC,IAAI,IAAI,EAAE;gBAC9D,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;aACrJ;YAED,IAAI,GAAG,EAAE,CAAC;YACV,IAAI,QAAQ,GAAG,CAAC,CAAC;YAEjB,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC;gBACtB,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACzB,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBAChB,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBAEhB,IAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACtB,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5C,CAAC,CAAC,CAAC;YAEH,OAAO,QAAQ,CAAC;QACpB,CAAC;QAED;;;;WAIG;QACK,kCAAW,GAAnB,UAAoB,cAAqB;YACrC,IAAI,QAAQ,GAAW,CAAC,CAAC;YAEzB,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC;YAEjD,OAAO,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QAC5C,CAAC;QACL,mBAAC;IAAD,CAAC,CAnoBiC,yBAAW,GAmoB5C;IAnoBY,oCAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICLzB;;;;OAIG;IACH;QAAuC,qCAAW;QAAlD;YAAA,qEA2cC;YA1cG,mBAAa,GAAG,oIAAoI,CAAC;YAE7I,cAAQ,GAAG,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,YAAY,CAAC,EAAjC,CAAiC,CAAC,CAAC;YAC5E,kBAAY,GAAG,KAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,YAAY,CAAC,EAAjC,CAAiC,CAAC,CAAC;YACzF,0BAAoB,GAAG,KAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,YAAY,CAAC,EAAjC,CAAiC,CAAC,CAAC;YACrG,2BAAqB,GAAG,KAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,YAAY,CAAC,EAAjC,CAAiC,CAAC,CAAC;;QAqcnH,CAAC;QAncG;;;;;;WAMG;QACI,4CAAgB,GAAvB,UAAwB,QAAgB;YACpC,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QACnE,CAAC;QAED;;;;;WAKG;QACI,mCAAO,GAAd,UAAe,QAAgB;YAC3B,IAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,EAAE,IAAI,SAAS,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,KAAK,EAAE,IAAI,SAAS,EAAC;gBACvI,IAAI,CAAC,KAAK,GAAE;oBACR,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE;oBAC/C,OAAO,EAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO;iBAC7D;gBAED,OAAO,IAAI,CAAC;aACf;iBAAI;gBACD,OAAO,CAAC,GAAG,CAAC,EAAC,OAAO,EAAC,kBAAkB,EAAC,CAAC,CAAC;gBAC1C,OAAO,KAAK,CAAC;aAChB;QACL,CAAC;QAED;;;;;;WAMG;QACI,gDAAoB,GAA3B,UAA4B,kBAA0B;YAClD,OAAO,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,kBAAkB,CAAC,iBAAiB,EAAE,CAAC;QACpG,CAAC;QAED;;;;;;;;WAQG;QACI,uCAAW,GAAlB,UAAmB,kBAA0B,EAAE,QAAgB,EAAE,cAAoB,EAAE,WAAmB;YACtG,kBAAkB,GAAG,kBAAkB,CAAC,WAAW,EAAE,CAAC;YACtD,QAAQ,GAAG,QAAQ,CAAC;YACpB,IAAI,UAAU,GAAI,UAAU,CAAC;YAE7B,IAAG,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,EAAC;gBAC7C,IAAG,cAAc,IAAI,EAAE,IAAI,cAAc,IAAI,SAAS,IAAG,cAAc,IAAI,EAAE,EAAE;oBAC3E,IAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,KAAK,CAAC,EAAC;wBACrC,IAAI,CAAC,SAAS,GAAC;4BACX,EAAE,EAAG,QAAQ;4BACb,UAAU,EAAG,UAAU;4BACvB,UAAU,EAAE;gCACR,IAAI,EAAG,cAAc;gCACrB,IAAI,EAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,kBAAkB,CAAC,CAAC,IAAI;6BACrE;yBACJ;qBACJ;yBAAM;wBACH,IAAI,CAAC,SAAS,GAAC;4BACX,EAAE,EAAG,QAAQ;4BACb,UAAU,EAAG,UAAU;4BACvB,UAAU,EAAE;gCACR,IAAI,EAAG,cAAc;gCACrB,IAAI,EAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,kBAAkB,CAAC,CAAC,IAAI;gCAClE,WAAW,EAAG,WAAW;6BAC5B;yBACJ;qBACJ;iBACJ;gBAED,OAAO,IAAI,CAAC;aACf;iBAAM;gBACH,OAAO,CAAC,GAAG,CAAC,EAAC,OAAO,EAAC,sBAAsB,EAAC,CAAC,CAAC;gBAC9C,OAAO,KAAK,CAAC;aAChB;QACL,CAAC;QAED;;;;;WAKG;QACI,0CAAc,GAArB,UAAsB,MAAc;YAChC,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;gBAChC,IAAG,MAAM,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAC;oBACxC,IAAG,CAAC,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC;wBACjE,IAAI,GAAG,IAAI,CAAC;qBACf;yBAAM;wBACH,IAAI,GAAG,KAAK,CAAC;qBAChB;iBACJ;gBAED,IAAG,MAAM,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,EAAC;oBACrC,IAAG,CAAC,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC;wBAC3D,IAAI,GAAG,IAAI,CAAC;qBACf;yBAAM;wBACH,IAAI,GAAG,KAAK,CAAC;qBAChB;iBACJ;gBAED,IAAG,MAAM,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,EAAC;oBACrC,IAAG,CAAC,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC;wBAC3D,IAAI,GAAG,IAAI,CAAC;qBACf;yBAAM;wBACH,IAAI,GAAG,KAAK,CAAC;qBAChB;iBACJ;gBAED,IAAG,MAAM,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,EAAC;oBACrC,IAAG,CAAC,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAG,CAAC,EAAC;wBAC1D,IAAI,GAAG,IAAI,CAAC;qBACf;yBAAM;wBACH,IAAI,GAAG,KAAK,CAAC;qBAChB;iBACJ;aACJ;YAED,IAAG,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,EAAC;gBACnC,IAAG,OAAO,MAAM,CAAC,YAAY,CAAC,KAAK,SAAS,EAAC;oBACzC,IAAI,GAAG,IAAI,CAAC;iBACf;qBAAM;oBACH,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,EAAC;gBAChC,IAAG,OAAO,MAAM,CAAC,SAAS,CAAC,KAAK,SAAS,EAAC;oBACtC,IAAI,GAAG,IAAI,CAAC;iBACf;qBAAM;oBACH,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,EAAC;gBACjC,IAAG,OAAO,MAAM,CAAC,UAAU,CAAC,KAAK,QAAQ,EAAC;oBACtC,IAAI,GAAG,IAAI,CAAC;iBACf;qBAAM;oBACH,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;QAED;;;;;;;WAOG;QACI,qCAAS,GAAhB,UAAiB,QAAgB,EAAE,MAAe,EAAE,SAAiB;YACjE,IAAI,IAAI,GAAG,KAAK,CAAC;YACjB,IAAI,GAAG,GAAG,EAAE,CAAC;YAEb,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,EAAC;gBACvC,OAAO,IAAI,CAAC;aACf;YAED,KAAK,IAAI,GAAG,IAAI,SAAS,EAAC;gBACtB,IAAG,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,EAAC;oBAC9D,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;iBACzE;aACJ;YAED,IAAG,MAAM,IAAI,SAAS,EAAC;gBACnB,MAAM,GAAG,EAAE,CAAC;aACf;YAED,IAAG,QAAQ,IAAI,QAAQ,EAAC;gBACpB,IAAG,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,EAAC;oBAClC,MAAM,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,mBAAmB,CAAC,EAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,CAAC;iBACtG;gBAED,MAAM,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC;gBAC3B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;gBACtB,IAAI,GAAG,IAAI,CAAC;aACf;YAED,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,MAAM,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC;YAC3B,IAAI,GAAG,IAAI,CAAC;YAEZ,OAAO,IAAI,CAAC;QAChB,CAAC;QAED;;;;;WAKG;QACI,+CAAmB,GAA1B,UAA2B,SAAkB;YACzC,IAAG,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,EAAC;gBACrC,OAAO,IAAI;aACd;YAED,OAAO,KAAK,CAAC;QACjB,CAAC;QAED;;;;;WAKG;QACI,sCAAU,GAAjB,UAAkB,SAAiB;YAC/B,IAAI,GAAG,GAAG,EAAE,CAAC;YAEb,IAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,EAAC;gBACtC,OAAO,KAAK,CAAC;aAChB;YAED,KAAK,IAAI,GAAG,IAAI,SAAS,EAAC;gBACtB,IAAG,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,EAAC;oBAC/D,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;iBAC1E;aACJ;YAED,IAAI,CAAC,QAAQ,GAAG;gBACZ,UAAU,EAAG,GAAG;aACnB;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;QAED;;;;;WAKG;QACI,iDAAqB,GAA5B,UAA6B,UAAmB;YAC5C,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,kBAAkB;YAClB,IAAG,UAAU,CAAC,cAAc,CAAC,eAAe,CAAC,EAAC;gBAC1C,IAAG,OAAO,UAAU,CAAC,eAAe,CAAC,KAAK,QAAQ,EAAC;oBAC/C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,aAAa,CAAC,EAAC;gBACxC,IAAI,OAAO,UAAU,CAAC,aAAa,CAAC,KAAK,QAAQ,EAAE;oBAC/C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,mBAAmB,CAAC,EAAC;gBAC9C,UAAU,CAAC,mBAAmB,CAAC,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;aAC7F;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,iBAAiB,CAAC,EAAC;gBAC5C,UAAU,CAAC,iBAAiB,CAAC,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;aACzF;YAED,mBAAmB;YACnB,IAAG,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,EAAC;gBACtC,IAAI,OAAO,UAAU,CAAC,WAAW,CAAC,KAAK,QAAQ,EAAE;oBAC7C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,aAAa,CAAC,EAAC;gBACxC,IAAI,OAAO,UAAU,CAAC,aAAa,CAAC,KAAK,QAAQ,EAAE;oBAC/C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,aAAa,CAAC,EAAC;gBACxC,IAAI,OAAO,UAAU,CAAC,aAAa,CAAC,KAAK,QAAQ,EAAE;oBAC/C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,aAAa,CAAC,EAAC;gBACxC,IAAI,OAAO,UAAU,CAAC,aAAa,CAAC,KAAK,QAAQ,EAAE;oBAC/C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,eAAe,CAAC,EAAC;gBAC1C,IAAI,OAAO,UAAU,CAAC,eAAe,CAAC,KAAK,QAAQ,EAAE;oBACjD,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,eAAe,CAAC,EAAC;gBAC1C,IAAI,OAAO,UAAU,CAAC,eAAe,CAAC,KAAK,QAAQ,EAAE;oBACjD,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;QAED;;;;WAIG;QACI,0CAAc,GAArB;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;QAED;;;;WAIG;QACI,8CAAkB,GAAzB;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;QAED;;;;WAIG;QACI,4CAAgB,GAAvB;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;QAED;;;;WAIG;QACI,6CAAiB,GAAxB;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;QAED;;;;WAIG;QACI,qDAAyB,GAAhC;YACI,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QACtC,CAAC;QAED;;;;WAIG;QACI,sDAA0B,GAAjC;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACvC,CAAC;QAED;;;;;WAKG;QACH,2CAAe,GAAf,UAAgB,OAAe;YAC3B,IAAI,IAAI,GAAI,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC;YAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;YAC5B,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;YAC9B,IAAI,IAAI,GAAG,KAAK,CAAC;YAEjB,QAAQ,IAAI,EAAE;gBACV,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE;oBAC9C,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,CAAC;wBAC9F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC,EACnG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE;oBAC1C,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,CAAC;wBAC9F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC;wBAChG,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC;wBAChG,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,eAAe,CAAC,CAAC,EACrG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE;oBAC9C,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,CAAC;wBAC9F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC;wBAChG,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC;wBAChG,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,eAAe,CAAC,CAAC,EACrG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE;oBAC7C,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,CAAC;wBAC9F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC,EACnG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE;oBAC5C,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,CAAC;wBAC9F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC,EACnG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE;oBAC/C,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,CAAC;wBAC9F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC;wBAChG,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC;wBAChG,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,eAAe,CAAC,CAAC,EACrG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE;oBAC5C,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,CAAC;wBAC9F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC,EACnG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE;oBAC5C,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,CAAC;wBAC9F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC,EACnG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;aACnB;QACL,CAAC;QAED;;;;WAIG;QACH,uCAAW,GAAX,UAAY,SAAc,EAAC,OAAY;YACnC,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE,CAAC;YAC1C,IAAI,GAAG,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC;YACtC,IAAI,QAAQ,GAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC,GAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACxD,OAAO,IAAI,GAAE,QAAQ,GAAE,GAAG,CAAC;QAC/B,CAAC;QACL,wBAAC;IAAD,CAAC,CA3csC,yBAAW,GA2cjD;IA3cY,8CAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICL9B;;;;OAIG;IACH;QAAoC,kCAAW;QAA/C;YAAA,qEAsXC;YArXW,cAAQ,GAAG,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAA9B,CAA8B,CAAC,CAAC;YACzE,kBAAY,GAAG,KAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAA9B,CAA8B,CAAC,CAAC;YACtF,0BAAoB,GAAG,KAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAA9B,CAA8B,CAAC,CAAC;YAClG,2BAAqB,GAAG,KAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAA9B,CAA8B,CAAC,CAAC;;QAkXhH,CAAC;QAhXG;;;;;;WAMG;QACI,yCAAgB,GAAvB,UAAwB,QAAgB;YACpC,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAChE,CAAC;QAED;;;;;WAKG;QACI,gCAAO,GAAd,UAAe,QAAgB;YAE3B,IAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,EAAE,IAAG,SAAS,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,KAAK,EAAE,IAAG,SAAS,EAAC;gBAC/H,IAAI,CAAC,KAAK,GAAE;oBACR,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE;oBAC5C,OAAO,EAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO;iBAC1D;gBAED,OAAO,IAAI,CAAC;aACf;iBAAM;gBACH,OAAO,CAAC,GAAG,CAAC,EAAC,OAAO,EAAC,kBAAkB,EAAC,CAAC,CAAC;gBAC1C,OAAO,KAAK,CAAC;aAChB;QACL,CAAC;QAED;;;;;;WAMG;QACI,6CAAoB,GAA3B,UAA4B,kBAA0B;YAClD,OAAO,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,kBAAkB,CAAC,iBAAiB,EAAE,CAAC;QACjG,CAAC;QAED;;;;;;;;WAQG;QACI,oCAAW,GAAlB,UAAmB,kBAA0B,EAAE,QAAgB,EAAE,cAAoB,EAAE,WAAmB;YACtG,kBAAkB,GAAG,kBAAkB,CAAC,WAAW,EAAE,CAAC;YACtD,QAAQ,GAAG,QAAQ,CAAC;YACpB,IAAI,UAAU,GAAI,UAAU,CAAC;YAE7B,IAAG,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,EAAC;gBAC7C,IAAG,cAAc,IAAI,EAAE,IAAI,cAAc,IAAI,SAAS,IAAG,cAAc,IAAI,EAAE,EAAE;oBAC3E,IAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,KAAK,CAAC,EAAC;wBACrC,IAAI,CAAC,SAAS,GAAC;4BACX,EAAE,EAAG,QAAQ;4BACb,UAAU,EAAG,UAAU;4BACvB,UAAU,EAAE;gCACR,IAAI,EAAG,cAAc;gCACrB,IAAI,EAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,kBAAkB,CAAC,CAAC,IAAI;6BAClE;yBACJ;qBACJ;yBAAM;wBACH,IAAI,CAAC,SAAS,GAAC;4BACX,EAAE,EAAG,QAAQ;4BACb,UAAU,EAAG,UAAU;4BACvB,UAAU,EAAE;gCACR,IAAI,EAAG,cAAc;gCACrB,IAAI,EAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,kBAAkB,CAAC,CAAC,IAAI;gCAC/D,WAAW,EAAG,WAAW;6BAC5B;yBACJ;qBACJ;iBACJ;gBAED,OAAO,IAAI,CAAC;aACf;iBAAM;gBACH,OAAO,CAAC,GAAG,CAAC,EAAC,OAAO,EAAC,sBAAsB,EAAC,CAAC,CAAC;gBAC9C,OAAO,KAAK,CAAC;aAChB;QACL,CAAC;QAED;;;;;WAKG;QACI,uCAAc,GAArB,UAAsB,MAAc;YAChC,IAAI,IAAI,GAAG,IAAI,CAAC;YAEhB,OAAO,IAAI,CAAC;QAChB,CAAC;QAED;;;;;;;WAOG;QACI,kCAAS,GAAhB,UAAiB,QAAgB,EAAE,MAAe,EAAE,SAAiB;YACjE,IAAI,IAAI,GAAG,KAAK,CAAC;YACjB,IAAI,GAAG,GAAG,EAAE,CAAC;YAEb,IAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,EAAC;gBACtC,OAAO,IAAI,CAAC;aACf;YAED,KAAI,IAAI,GAAG,IAAI,SAAS,EAAC;gBACrB,IAAG,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,EAAC;oBAC3D,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;iBACtE;aACJ;YAED,IAAG,MAAM,IAAI,SAAS,EAAC;gBACnB,MAAM,GAAG,EAAE,CAAC;aACf;YAED,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,MAAM,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC;YAC3B,IAAI,GAAG,IAAI,CAAC;YAEZ,OAAO,IAAI,CAAC;QAChB,CAAC;QAED;;;;;WAKG;QACI,4CAAmB,GAA1B,UAA2B,SAAkB;YACzC,IAAG,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,EAAC;gBACrC,OAAO,IAAI;aACd;YAED,OAAO,KAAK,CAAC;QACjB,CAAC;QAED;;;;;WAKG;QACI,mCAAU,GAAjB,UAAkB,SAAiB;YAC/B,IAAI,GAAG,GAAG,EAAE,CAAC;YAEb,IAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,EAAC;gBACtC,OAAO,KAAK,CAAC;aAChB;YAED,KAAI,IAAI,GAAG,IAAI,SAAS,EAAC;gBACrB,IAAG,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,EAAC;oBAC5D,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;iBACvE;aACJ;YAED,IAAI,CAAC,QAAQ,GAAG;gBACZ,UAAU,EAAG,GAAG;aACnB;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;QAED;;;;;WAKG;QACI,8CAAqB,GAA5B,UAA6B,UAAmB;YAC5C,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,kBAAkB;YAClB,IAAG,UAAU,CAAC,cAAc,CAAC,eAAe,CAAC,EAAC;gBAC1C,IAAG,OAAO,UAAU,CAAC,eAAe,CAAC,KAAK,QAAQ,EAAC;oBAC/C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,eAAe,CAAC,EAAC;gBAC1C,IAAI,OAAO,UAAU,CAAC,eAAe,CAAC,KAAK,QAAQ,EAAE;oBACjD,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,eAAe,CAAC,EAAC;gBAC1C,IAAI,OAAO,UAAU,CAAC,eAAe,CAAC,KAAK,QAAQ,EAAE;oBACjD,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,iBAAiB,CAAC,EAAC;gBAC5C,IAAI,OAAO,UAAU,CAAC,iBAAiB,CAAC,KAAK,QAAQ,EAAE;oBACnD,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,mBAAmB;YACnB,IAAG,UAAU,CAAC,cAAc,CAAC,YAAY,CAAC,EAAC;gBACvC,IAAI,OAAO,UAAU,CAAC,YAAY,CAAC,KAAK,QAAQ,EAAE;oBAC9C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,cAAc,CAAC,EAAC;gBACzC,IAAI,OAAO,UAAU,CAAC,cAAc,CAAC,KAAK,QAAQ,EAAE;oBAChD,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,YAAY,CAAC,EAAC;gBACvC,IAAI,OAAO,UAAU,CAAC,YAAY,CAAC,KAAK,QAAQ,EAAE;oBAC9C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,YAAY,CAAC,EAAC;gBACvC,IAAI,OAAO,UAAU,CAAC,YAAY,CAAC,KAAK,QAAQ,EAAE;oBAC9C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,YAAY,CAAC,EAAC;gBACvC,IAAI,OAAO,UAAU,CAAC,YAAY,CAAC,KAAK,QAAQ,EAAE;oBAC9C,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,IAAG,UAAU,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;gBACjC,IAAI,OAAO,UAAU,CAAC,MAAM,CAAC,KAAK,QAAQ,EAAE;oBACxC,IAAI,GAAG,KAAK,CAAC;iBAChB;aACJ;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;QAED;;;;WAIG;QACI,uCAAc,GAArB;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;QAED;;;;WAIG;QACI,2CAAkB,GAAzB;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;QAED;;;;WAIG;QACI,yCAAgB,GAAvB;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;QAED;;;;WAIG;QACI,0CAAiB,GAAxB;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;QAED;;;;WAIG;QACI,kDAAyB,GAAhC;YACI,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QACrC,CAAC;QAED;;;;WAIG;QACI,mDAA0B,GAAjC;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QACtC,CAAC;QAED;;;;;WAKG;QACI,wCAAe,GAAtB,UAAuB,OAAe;YAClC,IAAI,IAAI,GAAI,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC;YAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;YAC5B,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;YAC9B,IAAI,IAAI,GAAG,KAAK,CAAC;YAEjB,QAAQ,IAAI,EAAE;gBACV,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE;oBAC5C,IAAG,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,CAAC;wBAC3F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,CAAC,EACjG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,CAAC,EAAE;oBAC7C,IAAG,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,CAAC;wBAC3F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,CAAC,EAC/F;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE;oBAC5C,IAAG,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,CAAC,EAAC;wBAC5F,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE;oBACzC,IAAG,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,CAAC;wBAC3F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,CAAC,EAC/F;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE;oBAC1C,IAAG,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,CAAC;wBAC3F,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,CAAC,EACjG;wBACG,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE;oBAC5C,IAAG,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,eAAe,CAAC,CAAC,EAAC;wBAC7F,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE;oBAC1C,IAAG,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,CAAC,EAAC;wBAC9F,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE;oBACzC,IAAG,OAAO,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,CAAC,EAAC;wBAC5F,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE;oBAC3C,IAAG,MAAM,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,eAAe,CAAC,CAAC,EAAC;wBAC7F,IAAI,GAAG,IAAI,CAAC;qBACf;oBACD,OAAO,IAAI,CAAC;aACnB;QACL,CAAC;QACL,qBAAC;IAAD,CAAC,CAtXmC,yBAAW,GAsX9C;IAtXY,wCAAc;;;;;;;;;;;;;;ICP3B;;;OAGG;IACH;QAAA;YACI,SAAI,GAAG;gBACH;oBACI,OAAO,EAAE;wBACL,aAAa,EAAE;4BACX,IAAI,EAAE,+DAA+D;4BACrE,SAAS,EAAE;gCACP,OAAO,EAAE,aAAa;6BACzB;yBACJ;wBACD,QAAQ,EAAE;4BACN,IAAI,EAAG,0DAA0D;4BACjE,SAAS,EAAE;gCACP,OAAO,EAAE,QAAQ;6BACpB;yBACJ;wBACD,QAAQ,EAAE;4BACN,IAAI,EAAG,0DAA0D;4BACjE,SAAS,EAAE;gCACP,OAAO,EAAE,QAAQ;6BACpB;yBACJ;wBACD,QAAQ,EAAE;4BACN,IAAI,EAAG,0DAA0D;4BACjE,SAAS,EAAE;gCACP,OAAO,EAAE,QAAQ;6BACpB;yBACJ;wBACD,WAAW,EAAE;4BACT,IAAI,EAAG,6DAA6D;4BACpE,SAAS,EAAE;gCACP,OAAO,EAAE,WAAW;6BACvB;yBACJ;wBACD,YAAY,EAAE;4BACV,IAAI,EAAG,8DAA8D;4BACrE,SAAS,EAAE;gCACP,OAAO,EAAE,YAAY;6BACxB;yBACJ;wBACD,YAAY,EAAE;4BACV,IAAI,EAAG,8DAA8D;4BACrE,SAAS,EAAE;gCACP,OAAO,EAAE,YAAY;6BACxB;yBACJ;qBACJ;iBACJ;gBACD;oBACI,SAAS,EAAE;wBACP,WAAW,EAAE;4BACT,IAAI,EAAE,+DAA+D;4BACrE,SAAS,EAAE;gCACP,OAAO,EAAE,WAAW;6BACvB;yBACJ;wBACD,YAAY,EAAE;4BACV,IAAI,EAAE,gEAAgE;4BACtE,SAAS,EAAE;gCACP,OAAO,EAAE,YAAY;6BACxB;yBACJ;wBACD,WAAW,EAAE;4BACT,IAAI,EAAE,+DAA+D;4BACrE,SAAS,EAAE;gCACP,OAAO,EAAE,WAAW;6BACvB;yBACJ;wBACD,QAAQ,EAAE;4BACN,IAAI,EAAE,4DAA4D;4BAClE,SAAS,EAAE;gCACP,OAAO,EAAE,QAAQ;6BACpB;yBACJ;wBACD,SAAS,EAAE;4BACP,IAAI,EAAE,6DAA6D;4BACnE,SAAS,EAAE;gCACP,OAAO,EAAE,SAAS;6BACrB;yBACJ;wBACD,WAAW,EAAE;4BACT,IAAI,EAAE,+DAA+D;4BACrE,SAAS,EAAE;gCACP,OAAO,EAAE,WAAW;6BACvB;yBACJ;wBACD,SAAS,EAAE;4BACP,IAAI,EAAE,6DAA6D;4BACnE,SAAS,EAAE;gCACP,OAAO,EAAE,SAAS;6BACrB;yBACJ;wBACD,QAAQ,EAAE;4BACN,IAAI,EAAE,4DAA4D;4BAClE,SAAS,EAAE;gCACP,OAAO,EAAE,QAAQ;6BACpB;yBACJ;wBACD,UAAU,EAAE;4BACR,IAAI,EAAG,8DAA8D;4BACrE,SAAS,EAAE;gCACP,OAAO,EAAE,UAAU;6BACtB;yBACJ;qBACJ;iBACJ;gBACD;oBACI,YAAY,EAAE;wBACV,UAAU,EAAE;4BACR,IAAI,EAAE,iEAAiE;4BACvE,SAAS,EAAE;gCACP,OAAO,EAAE,UAAU;6BACtB;yBACJ;wBACD,MAAM,EAAE;4BACJ,IAAI,EAAG,6DAA6D;4BACpE,SAAS,EAAE;gCACP,OAAO,EAAE,MAAM;6BAClB;yBACJ;wBACD,UAAU,EAAE;4BACR,IAAI,EAAG,iEAAiE;4BACxE,SAAS,EAAE;gCACP,OAAO,EAAE,UAAU;6BACtB;yBACJ;wBACD,SAAS,EAAE;4BACP,IAAI,EAAG,gEAAgE;4BACvE,SAAS,EAAE;gCACP,OAAO,EAAE,SAAS;6BACrB;yBACJ;wBACD,QAAQ,EAAE;4BACN,IAAI,EAAG,+DAA+D;4BACtE,SAAS,EAAE;gCACP,OAAO,EAAE,QAAQ;6BACpB;yBACJ;wBACD,WAAW,EAAE;4BACT,IAAI,EAAG,kEAAkE;4BACzE,SAAS,EAAE;gCACP,OAAO,EAAE,WAAW;6BACvB;yBACJ;wBACD,QAAQ,EAAE;4BACN,IAAI,EAAG,+DAA+D;4BACtE,SAAS,EAAE;gCACP,OAAO,EAAE,QAAQ;6BACpB;yBACJ;wBACD,QAAQ,EAAE;4BACN,IAAI,EAAG,+DAA+D;4BACtE,SAAS,EAAE;gCACP,OAAO,EAAE,QAAQ;6BACpB;yBACJ;qBACJ;iBACJ;aACJ;YACD,kBAAa,GAAG;gBACZ;oBACI,OAAO,EAAE;wBACL,OAAO,EAAE;4BACL,MAAM,EAAE,8CAA8C;4BACtD,UAAU,EAAE,mDAAmD;yBAClE;wBACD,OAAO,EAAE;4BACL,MAAM,EAAE,8CAA8C;4BACtD,UAAU,EAAE,mDAAmD;yBAClE;qBACJ;iBACJ;gBACD;oBACI,SAAS,EAAE;wBACP,sBAAsB,EAAE;4BACpB,MAAM,EAAE,6DAA6D;4BACrE,UAAU,EAAE,kEAAkE;yBACjF;wBACD,gBAAgB,EAAE;4BACd,MAAM,EAAE,uDAAuD;4BAC/D,UAAU,EAAE,4DAA4D;yBAC3E;qBACJ;iBACJ;gBACD;oBACI,YAAY,EAAE;wBACV,UAAU,EAAE;4BACR,MAAM,EAAE,iDAAiD;4BACzD,UAAU,EAAE,sDAAsD;yBACrE;wBACD,SAAS,EAAE;4BACP,MAAM,EAAE,gDAAgD;4BACxD,UAAU,EAAE,qDAAqD;yBACpE;wBACD,MAAM,EAAE;4BACJ,MAAM,EAAE,6CAA6C;4BACrD,UAAU,EAAE,kDAAkD;yBACjE;wBACD,KAAK,EAAE;4BACH,MAAM,EAAE,4CAA4C;4BACpD,UAAU,EAAE,iDAAiD;yBAChE;qBACJ;iBACJ;aACJ;YACD,eAAU,GAAG;gBACT,QAAQ,EAAE;oBACN;wBACI,OAAO,EAAE;4BACL,MAAM,EAAE,oEAAoE;4BAC5E,WAAW,EAAE,yEAAyE;4BACtF,SAAS,EAAE,uEAAuE;4BAClF,UAAU,EAAE,wEAAwE;4BACpF,iBAAiB,EAAE,+EAA+E;yBACrG;qBACJ;oBACD;wBACI,SAAS,EAAE;4BACP,eAAe,EAAE,+EAA+E;4BAChG,eAAe,EAAE,+EAA+E;4BAChG,iBAAiB,EAAE,iFAAiF;4BACpG,eAAe,EAAE,+EAA+E;yBACnG;qBACJ;oBACD;wBACI,YAAY,EAAE;4BACV,eAAe,EAAE,kFAAkF;4BACnG,aAAa,EAAE,gFAAgF;4BAC/F,mBAAmB,EAAE,sFAAsF;4BAC3G,iBAAiB,EAAE,oFAAoF;yBAC1G;qBACJ;iBACJ;gBACD,SAAS,EAAE;oBACP;wBACI,OAAO,EAAE;4BACL,kBAAkB,EAAE,iFAAiF;4BACrG,qBAAqB,EAAE,oFAAoF;4BAC3G,kBAAkB,EAAE,kFAAkF;4BACtG,YAAY,EAAE,2EAA2E;4BACzF,aAAa,EAAE,4EAA4E;4BAC3F,SAAS,EAAE,wEAAwE;4BACnF,aAAa,EAAE,4EAA4E;4BAC3F,qBAAqB,EAAE,oFAAoF;4BAC3G,OAAO,EAAE,sEAAsE;4BAC/E,OAAO,EAAE,sEAAsE;4BAC/E,YAAY,EAAE,2EAA2E;4BACzF,QAAQ,EAAE,uEAAuE;4BACjF,QAAQ,EAAE,uEAAuE;4BACjF,sBAAsB,EAAE,qFAAqF;4BAC7G,KAAK,EAAE,oEAAoE;yBAC9E;qBACJ;oBACD;wBACI,SAAS,EAAE;4BACP,YAAY,EAAE,6EAA6E;4BAC3F,cAAc,EAAE,+EAA+E;4BAC/F,YAAY,EAAE,6EAA6E;4BAC3F,YAAY,EAAE,6EAA6E;4BAC3F,YAAY,EAAE,6EAA6E;4BAC3F,MAAM,EAAE,uEAAuE;yBAClF;qBACJ;oBACD;wBACI,YAAY,EAAE;4BACV,WAAW,EAAE,+EAA+E;4BAC5F,aAAa,EAAE,iFAAiF;4BAChG,aAAa,EAAE,iFAAiF;4BAChG,aAAa,EAAE,iFAAiF;4BAChG,eAAe,EAAE,mFAAmF;4BACpG,eAAe,EAAE,mFAAmF;yBACvG;qBACJ;iBACJ;aACJ;QACL,CAAC;QAAD,qBAAC;IAAD,CAAC;IAnRY,wCAAc;;;;;;;;;;;;;;ICF3B;;;OAGG;IACH;QAAA;YAOK,gCAAgC;YACjC,SAAI,GAAG,IAAI,+BAAc,EAAE,CAAC;QAqKhC,CAAC;QAnKG;;;;;;WAMG;QACH,6BAAO,GAAP,UAAQ,QAAgB;YACpB,IAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,EAAC;gBAC7C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,CAAC;gBACrC,OAAO,IAAI,CAAC,KAAK,CAAC;aACrB;iBAAM;gBACH,OAAO,CAAC,GAAG,CAAC,EAAC,OAAO,EAAC,kBAAkB,EAAC,CAAC,CAAC;gBAC1C,OAAO,EAAC,OAAO,EAAC,kBAAkB,EAAC,CAAC;aACvC;QACL,CAAC;QAED;;;;;;;;;WASG;QACH,iCAAW,GAAX,UAAY,kBAA0B,EAAE,QAAgB,EAAE,cAAsB,EAAE,WAAmB;YACjG,IAAG,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,EAAC;gBAC7C,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,QAAQ,EAAE,cAAc,EAAE,WAAW,CAAC,CAAC;gBAE5E,OAAO,IAAI,CAAC,SAAS,CAAC;aACzB;iBAAM;gBACH,OAAO,CAAC,GAAG,CAAC,EAAC,OAAO,EAAC,sBAAsB,EAAC,CAAC,CAAC;gBAC9C,OAAO,EAAC,OAAO,EAAC,qBAAqB,EAAC,CAAC;aAC1C;QACL,CAAC;QAED;;;;;;;;WAQG;QACH,+BAAS,GAAT,UAAU,QAAgB,EAAE,MAAe,EAAE,SAAkB;YAC3D,IAAG,MAAM,IAAI,SAAS,EAAC;gBACnB,IAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;oBAC3B,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,iBAAiB,EAAE,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;oBAChE,OAAO,IAAI,CAAC,OAAO,CAAC;iBACvB;qBAAM;oBACH,OAAO,CAAC,GAAG,CAAC,EAAC,OAAO,EAAC,oBAAoB,EAAC,CAAC,CAAC;oBAC5C,OAAO,EAAC,OAAO,EAAC,qBAAqB,EAAC,CAAC;iBAC1C;aACJ;iBAAM;gBACC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,iBAAiB,EAAE,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;gBAChE,OAAO,IAAI,CAAC,OAAO,CAAC;aAC3B;QACL,CAAC;QAED;;;;;;WAMG;QACH,gCAAU,GAAV,UAAW,SAAkB;YACzB,IAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,EAAC;gBACnC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC3B,OAAO,IAAI,CAAC,QAAQ,CAAC;aACxB;iBAAM;gBACH,OAAO,CAAC,GAAG,CAAC,EAAC,OAAO,EAAC,qBAAqB,EAAC,CAAC,CAAC;gBAC7C,OAAO,EAAC,OAAO,EAAE,iBAAiB,EAAC,CAAC;aACvC;QACL,CAAC;QAsFL,kBAAC;IAAD,CAAC;IAmBM,kCAAW;IAhB4B,CAAC;IAE4B,CAAC;IAE2D,CAAC;IAEjD,CAAC;IAIjE,CAAC;IAEH,CAAC;IAEiG,CAAC;;;;;;;;;;;;;;IC7LxH;;;;;;;;;;;;;;OAcG;IACH;QAqCI;YAVA,wBAAwB;YAChB,oBAAe,GAAW,SAAM,EAAE,CAAC;YAOpC,gBAAW,GAAG,2JAA2J,CAAC;YAG7K,IAAI,CAAC,QAAQ,GAAG;gBACZ,EAAC,IAAI,EAAC,GAAG,EAAE,MAAM,EAAC,SAAS,EAAC;gBAC5B,EAAC,IAAI,EAAC,GAAG,EAAE,MAAM,EAAC,4BAA4B,EAAE,IAAI,EAAC,EAAE,EAAC;gBACxD,EAAC,IAAI,EAAC,GAAG,EAAE,MAAM,EAAC,2BAA2B,EAAE,IAAI,EAAC,EAAE,EAAC;gBACvD,EAAC,IAAI,EAAC,GAAG,EAAE,MAAM,EAAC,WAAW,EAAC;gBAC9B,EAAC,IAAI,EAAC,GAAG,EAAE,MAAM,EAAC,gBAAgB,EAAC;aACtC;YACD,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACxB,CAAC;QAED;;;;;;WAMG;QACI,oCAAc,GAArB,UAAsB,IAAY;YAC9B,IAAI;gBACA,IAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE,EAAC;oBAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;oBAClD,IAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,GAAG,EAAC;wBAC9B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,qBAAqB;wBAC1C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,uBAAuB;qBAEjD;iBACJ;aACJ;YAAC,OAAM,CAAC,EAAC;gBACN,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACnC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;aAC5B;YACD,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;QAED;;;;;;WAMG;QACK,0CAAoB,GAA5B,UAA6B,aAAsB;YAC/C,IAAI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAElC,gCAAgC;YAChC,IAAG,CAAC,aAAa,CAAC,cAAc,CAAC,OAAO,CAAC,EAAC;gBACtC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,4BAA4B,CAAC;aACrD;iBAAM,IAAG,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,EAAC;gBACxG,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,gDAAgD,CAAC;aACzE;iBAAM,IAAG,aAAa,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,EAAC;gBACvD,IAAG,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;oBAC1H,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,6EAA6E,CAAC;iBACtG;qBAAM;oBACH,IAAG,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,UAAU,CAAC,CAAC,EAAC;wBACjE,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;wBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,qDAAqD,CAAC;qBAC9E;iBACJ;aACJ;iBAAM,IAAG,aAAa,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC;gBAClD,IAAG,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,EAAC;oBACjK,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,uCAAuC,CAAC;iBAChE;aACJ;YAED,6CAA6C;YAC7C,IAAG,aAAa,CAAC,cAAc,CAAC,YAAY,CAAC,EAAC;gBAC1C,IAAG,aAAa,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC;oBAChD,IAAG,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,EAAC;wBAChL,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;wBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,4CAA4C,CAAC;qBACrE;iBACJ;qBAAM,IAAG,aAAa,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,EAAC;oBAC5D,IAAG,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;wBACpI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;wBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,uFAAuF,CAAC;qBAChH;yBAAM;wBACH,IAAG,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,UAAU,CAAC,CAAC,EAAC;4BACtE,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;4BAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,0DAA0D,CAAC;yBACnF;qBACJ;iBACJ;qBAAM;oBACH,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,0DAA0D,CAAC;iBACnF;aACJ;YAED,uCAAuC;YACvC,IAAG,aAAa,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;gBACpC,IAAG,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAC;oBAC/C,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,kCAAkC,CAAC;iBAC3D;gBACD,IAAG,aAAa,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAC;oBAC9C,KAAI,IAAI,IAAI,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,EAAC;wBAC5C,IAAG,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,EAAC;4BAC/H,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;4BAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,4DAA4D;yBACpF;qBACJ;oBAED,KAAI,IAAI,IAAI,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,EAAC;wBAC5C,IAAG,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,EAAC;4BAC9H,IAAG,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;gCACxJ,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gCAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,2DAA2D,CAAC;6BACpF;yBACJ;qBACJ;oBAED,KAAI,IAAI,IAAI,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,EAAC;wBAC5C,IAAG,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC;4BAC1D,IAAG,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAC;gCAC9M,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gCAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,0CAA0C,CAAC;6BACnE;yBACJ;qBACJ;iBACJ;aACJ;YAED,yCAAyC;YACzC,IAAG,aAAa,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAC;gBACtC,KAAI,IAAI,IAAI,IAAI,aAAa,CAAC,QAAQ,CAAC,EAAC;oBACpC,IAAG,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;wBAC5G,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;wBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,+CAA+C,CAAC;qBACxE;iBACJ;aACJ;YAED,2CAA2C;YAC3C,IAAG,aAAa,CAAC,cAAc,CAAC,UAAU,CAAC,EAAC;gBACxC,KAAI,IAAI,IAAI,IAAI,aAAa,CAAC,UAAU,CAAC,EAAC;oBACtC,IAAG,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;wBAChH,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;wBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,mDAAmD,CAAC;qBAC5E;iBACJ;aACJ;YAED,2CAA2C;YAC3C,IAAG,aAAa,CAAC,cAAc,CAAC,UAAU,CAAC,EAAC;gBACxC,KAAI,IAAI,IAAI,IAAI,aAAa,CAAC,UAAU,CAAC,EAAC;oBACtC,IAAG,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;wBAChH,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;wBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,mDAAmD,CAAC;qBAC5E;iBACJ;aACJ;YAED,wCAAwC;YACxC,IAAG,aAAa,CAAC,cAAc,CAAC,OAAO,CAAC,EAAC;gBACrC,KAAI,IAAI,IAAI,IAAI,aAAa,CAAC,OAAO,CAAC,EAAC;oBACnC,IAAG,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;wBAC1G,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;wBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,6CAA6C,CAAC;qBACtE;iBACJ;aACJ;YAED,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;YAEnC,OAAO,UAAU,CAAC;QACtB,CAAC;QAED;;;;WAIG;QACK,8BAAQ,GAAhB,UAAiB,aAAqB;YAClC,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,KAAK,GAAG,EAAE,CAAC;YACf,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,WAAW,GAAG,EAAE,CAAC;YACrB,IAAI,SAAS,GAAG,EAAE,CAAC;YAEnB,IAAI,CAAC,MAAM,GAAG;gBACV,UAAU,EAAE,OAAO;gBACnB,IAAI,EAAE,EAAE;aACX;YAED,IAAI,cAAc,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC;YACnD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,cAAc,CAAC;YAErC,4BAA4B;YAC5B,IAAG,aAAa,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC;gBAC3C,IAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,EAAC;oBACnD,KAAK,GAAG,SAAS,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC;oBACjD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;iBAC/B;qBAAM,IAAG,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE;oBAC5D,KAAK,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC;oBACrC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC;iBACvC;qBAAM,IAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC;oBAC9B,KAAK,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC;oBACrC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC;iBACjC;gBACL,iCAAiC;aAChC;iBAAM,IAAG,aAAa,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,EAAC;gBACvD,GAAG,GAAG,SAAS,CAAC;gBAChB,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC;gBAC5C,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;aAC9B;YAED,8BAA8B;YAC9B,IAAG,aAAa,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;gBAC7C,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,GAAE,OAAO,CAAC;gBAEnC,KAAI,IAAI,IAAI,IAAI,aAAa,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,EAAC;oBACrD,SAAS,GAAG;wBACR,IAAI,EAAE,EAAE;qBACX,CAAC;oBACF,SAAS,CAAC,YAAY,CAAC,GAAG,OAAO,CAAC;oBAClC,IAAG,aAAa,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC;wBACnE,IAAI,mBAAmB,GAAG,IAAI,CAAC,MAAM,CAAC;wBAEtC,IAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAC;4BAC3E,KAAK,GAAG,SAAS,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;4BACzE,SAAS,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;4BAC1B,SAAS,CAAC,MAAM,CAAC,GAAG,mBAAmB,CAAC;yBAC3C;6BAAM,IAAG,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE;4BACpF,KAAK,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;4BAC7D,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC;4BAClC,SAAS,CAAC,MAAM,CAAC,GAAG,mBAAmB,CAAC;yBAC3C;6BAAM,IAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC;4BAC9B,KAAK,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;4BAC7D,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC;4BAC5B,SAAS,CAAC,MAAM,CAAC,GAAG,mBAAmB,CAAC;yBAC3C;qBACJ;yBAAM,IAAG,aAAa,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,EAAC;wBAC/E,IAAI,gBAAgB,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC;wBAExF,GAAG,GAAG,SAAS,CAAC;wBAChB,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC;wBACpE,SAAS,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;wBACzB,SAAS,CAAC,MAAM,CAAC,GAAG,gBAAgB,CAAC;qBACxC;oBAED,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBAC/B;gBAED,GAAG,GAAG,QAAQ,CAAC;gBACf,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC;aAClC;QACL,CAAC;QAED;;;;WAIG;QACK,gCAAU,GAAlB,UAAmB,aAAqB;YACpC,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,KAAK,GAAG,EAAE,CAAC;YACf,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,aAAa,GAAG,EAAE,CAAC;YACvB,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,WAAW,GAAG,EAAE,CAAC;YACrB,IAAI,SAAS,GAAG,EAAE,CAAC;YACnB,IAAI,oBAAoB,GAAG,EAAE,CAAC;YAC9B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YAEnB,wDAAwD;YACxD,IAAG,CAAC,aAAa,CAAC,cAAc,CAAC,WAAW,CAAC,EAAC;gBAC1C,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC;aACxD;iBAAM;gBACH,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,aAAa,CAAC,WAAW,CAAC,CAAC;aAC9D;YAED,sCAAsC;YACtC,IAAG,aAAa,CAAC,cAAc,CAAC,YAAY,CAAC,EAAC;gBAC1C,aAAa,GAAG;oBACZ,UAAU,EAAE,OAAO;oBACnB,IAAI,EAAE,EAAE;iBACX;gBAED,IAAG,aAAa,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;oBAClD,IAAI,mBAAmB,GAAG,aAAa,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC;oBAC9D,aAAa,CAAC,MAAM,CAAC,GAAG,mBAAmB,CAAC;iBAC/C;gBAED,IAAG,aAAa,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC;oBAChD,IAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,EAAC;wBACxD,KAAK,GAAG,SAAS,GAAG,aAAa,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC;wBACtD,aAAa,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;qBACjC;yBAAM,IAAG,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE;wBACjE,KAAK,GAAG,aAAa,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC;wBAC1C,aAAa,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC;qBACzC;yBAAM;wBACH,KAAK,GAAG,aAAa,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC;wBAC1C,aAAa,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC;qBACnC;iBACJ;qBAAM,IAAG,aAAa,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,EAAC;oBAC5D,GAAG,GAAG,SAAS,CAAC;oBAChB,OAAO,GAAG,aAAa,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC;oBACjD,aAAa,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;iBAChC;gBAED,GAAG,GAAG,YAAY,CAAC;gBACnB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC;aACtC;YAED,gCAAgC;YAChC,IAAG,aAAa,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;gBACpC,OAAO,GAAG;oBACN,UAAU,EAAE,OAAO;oBACnB,IAAI,EAAE,EAAE;iBACX,CAAC;gBAEF,IAAI,aAAa,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC;gBAClD,OAAO,CAAC,MAAM,CAAC,GAAG,aAAa,CAAC;gBAEhC,KAAI,IAAI,IAAI,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,EAAC;oBAC5C,SAAS,GAAG;wBACR,IAAI,EAAE,EAAE;qBACX,CAAC;oBACF,IAAI,mBAAmB,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC;oBAExE,IAAG,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC;wBAC1D,IAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAC;4BAClE,KAAK,GAAG,SAAS,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;4BAChE,SAAS,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;4BAC1B,SAAS,CAAC,MAAM,CAAC,GAAG,mBAAmB,CAAC;yBAC3C;6BAAM,IAAG,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE;4BAC3E,KAAK,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;4BACpD,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC;4BAClC,SAAS,CAAC,MAAM,CAAC,GAAG,mBAAmB,CAAC;yBAC3C;6BAAM;4BACH,KAAK,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;4BACpD,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC;4BAC5B,SAAS,CAAC,MAAM,CAAC,GAAG,mBAAmB,CAAC;yBAC3C;qBACJ;yBAAM,IAAG,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,EAAC;wBACtE,IAAI,cAAc,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC;wBAC/E,IAAI,gBAAgB,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC;wBAE9E,GAAG,GAAG,SAAS,CAAC;wBAChB,OAAO,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC;wBAC3D,SAAS,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;wBACzB,SAAS,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,GAAG,gBAAgB,CAAC;wBACrD,SAAS,CAAC,MAAM,CAAC,GAAG,mBAAmB,CAAC;qBAC3C;oBACD,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBAC/B;gBAED,OAAO,CAAC,QAAQ,CAAC,GAAG,WAAW,CAAC;gBAEhC,GAAG,GAAG,MAAM,CAAC;gBACb,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;aAChC;YAED,kCAAkC;YAClC,IAAG,aAAa,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAC;gBACtC,IAAI,WAAW,GAAG,EAAE,CAAC;gBAErB,KAAI,IAAI,IAAI,IAAI,aAAa,CAAC,QAAQ,CAAC,EAAC;oBACpC,IAAI,aAAa,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC;oBACtE,IAAI,eAAe,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC;oBAErE,IAAI,oBAAoB,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,CAAC;oBACpF,IAAI,sBAAsB,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC;oBAEnF,IAAI,cAAc,GAAG;wBACjB,EAAE,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;wBACvC,UAAU,EAAE,UAAU;wBACtB,UAAU,EAAE;4BACR,IAAI,EAAE,EAAE;4BACR,WAAW,EAAE,EAAE;yBAClB;qBACJ,CAAC;oBAEF,cAAc,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,GAAG,eAAe,CAAC;oBACtE,cAAc,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAAC,GAAG,sBAAsB,CAAC;oBAE3F,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;iBACpC;gBAED,GAAG,GAAG,QAAQ,CAAC;gBACf,oBAAoB,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC;aAC3C;YAED,oCAAoC;YACpC,IAAG,aAAa,CAAC,cAAc,CAAC,UAAU,CAAC,EAAC;gBACxC,IAAI,aAAa,GAAG,EAAE,CAAC;gBAEvB,KAAI,IAAI,IAAI,IAAI,aAAa,CAAC,UAAU,CAAC,EAAC;oBACtC,IAAI,eAAe,GAAG,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC;oBAC1E,IAAI,iBAAiB,GAAG,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC;oBAEzE,IAAI,sBAAsB,GAAG,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,CAAC;oBACxF,IAAI,wBAAwB,GAAG,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC;oBAEvF,IAAI,gBAAgB,GAAG;wBACnB,EAAE,EAAE,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;wBACzC,UAAU,EAAE,UAAU;wBACtB,UAAU,EAAE;4BACR,IAAI,EAAE,EAAE;4BACR,WAAW,EAAE,EAAE;yBAClB;qBACJ,CAAC;oBAEF,gBAAgB,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,GAAG,iBAAiB,CAAC;oBAC5E,gBAAgB,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC,sBAAsB,CAAC,GAAG,wBAAwB,CAAC;oBAEjG,aAAa,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;iBACxC;gBAED,GAAG,GAAG,UAAU,CAAC;gBACjB,oBAAoB,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC;aAC7C;YAED,iCAAiC;YACjC,IAAG,aAAa,CAAC,cAAc,CAAC,OAAO,CAAC,EAAC;gBACrC,IAAI,UAAU,GAAG,EAAE,CAAC;gBAEpB,KAAI,IAAI,IAAI,IAAI,aAAa,CAAC,OAAO,CAAC,EAAC;oBACnC,IAAI,YAAY,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC;oBACpE,IAAI,cAAc,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC;oBAEnE,IAAI,mBAAmB,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,CAAC;oBAClF,IAAI,qBAAqB,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC;oBAEjF,IAAI,aAAa,GAAG;wBAChB,EAAE,EAAE,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;wBACtC,UAAU,EAAE,UAAU;wBACtB,UAAU,EAAE;4BACR,IAAI,EAAE,EAAE;4BACR,WAAW,EAAE,EAAE;yBAClB;qBACJ,CAAC;oBAEF,aAAa,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,GAAG,cAAc,CAAC;oBACnE,aAAa,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC,mBAAmB,CAAC,GAAG,qBAAqB,CAAC;oBAExF,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAClC;gBAED,GAAG,GAAG,OAAO,CAAC;gBACd,oBAAoB,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC;aAC1C;YAED,IAAG,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,MAAM,KAAK,CAAC,EAAC;gBAC9C,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,GAAG,oBAAoB,CAAC;aAC7D;YAED,oCAAoC;YACpC,IAAG,aAAa,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;gBACzC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC,CAAC;aACzD;QACL,CAAC;QAED;;;;;;WAMG;QACI,iCAAW,GAAlB,UAAmB,WAAmB;YAClC,IAAI,IAAI,GAAG,IAAI,+BAAc,EAAE,CAAC;YAChC,IAAI,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAA9B,CAA8B,CAAC,CAAC;YAC/E,IAAI,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,YAAY,CAAC,EAAjC,CAAiC,CAAC,CAAC;YACrF,IAAI,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAA5B,CAA4B,CAAC,CAAC;YAE3E,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC;YACvD,IAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,GAAG,EAAC;gBAC9B,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;gBAC7B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBAE3D,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC3C,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;gBAE1E,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;gBAEjC,IAAG,IAAI,CAAC,OAAO,IAAI,SAAS,EAAC;oBACzB,IAAI,SAAS,GAAG,QAAQ,CAAC;oBACzB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;iBAC7C;gBAED,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;gBACxD,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,mBAAM,CAAC,OAAO,CAAC;gBAE5C,QAAQ,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE;oBACnC,KAAK,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC;oBACnD,KAAK,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC;oBACpD,KAAK,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC;oBACnD,KAAK,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC;oBAChD,KAAK,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC;oBACjD,KAAK,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC;oBACnD,KAAK,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC;oBACjD,KAAK,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC;oBAChD,KAAK,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE;wBAC7C,IAAG,IAAI,CAAC,yBAAyB,KAAK,SAAS,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,SAAS,EAAE;4BAC/G,IAAG,IAAI,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,EAAC;gCAC7E,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;6BACtC;iCAAM;gCACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gCACnC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,2BAA2B,CAAC;6BACzD;yBACJ;wBACD,MAAM;oBAEV,KAAK,kBAAkB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC;oBACxD,KAAK,kBAAkB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC;oBACpD,KAAK,kBAAkB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC;oBACxD,KAAK,kBAAkB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC;oBACvD,KAAK,kBAAkB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC;oBACtD,KAAK,kBAAkB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC;oBACzD,KAAK,kBAAkB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC;oBACtD,KAAK,kBAAkB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE;wBACjD,IAAG,IAAI,CAAC,4BAA4B,KAAK,SAAS,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,YAAY,EAAE;4BACxH,IAAG,IAAI,CAAC,4BAA4B,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,EAAC;gCACnF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;6BACtC;iCAAM;gCACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gCACnC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,2BAA2B,CAAC;6BACzD;yBACJ;wBACD,MAAM;oBAEV,KAAK,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,EAAE,CAAC;oBAC9C,KAAK,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC;oBACzC,KAAK,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC;oBACzC,KAAK,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC;oBACzC,KAAK,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC;oBAC5C,KAAK,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;oBAC7C,KAAK,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,EAAE;wBACxC,IAAG,IAAI,CAAC,uBAAuB,KAAK,SAAS,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,OAAO,EAAE;4BACzG,IAAG,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,EAAC;gCACzE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;6BACtC;iCAAM;gCACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gCACnC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,2BAA2B,CAAC;6BACzD;yBACJ;wBACD,MAAM;iBACb;aACJ;YAED,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;QAED;;;;WAIG;QACI,mCAAa,GAApB;YACI,IAAI,UAAU,GAAG;gBACb,QAAQ,EAAE,mBAAM,CAAC,QAAQ;gBACzB,QAAQ,EAAE,mBAAM,CAAC,GAAG;gBACpB,QAAQ,EAAE,mBAAM,CAAC,MAAM;aAC1B;YAED,OAAO,UAAU,CAAC;QACtB,CAAC;QAED;;;;UAIE;QACK,qCAAe,GAAtB;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;QAED;;;;;;WAMG;QACK,wCAAkB,GAA1B,UAA2B,WAAW;YAClC,IAAI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAElC,IAAG,CAAC,WAAW,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,EAAC;gBACrI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,+CAA+C,CAAC;aACxE;iBAAM,IAAG,CAAC,WAAW,CAAC,cAAc,CAAC,MAAM,CAAC,EAAC;gBAC1C,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC9B,UAAU,CAAC,MAAM,CAAC,GAAG,2BAA2B,CAAC;aACpD;YAED,OAAO,UAAU,CAAC;QACtB,CAAC;QAED;;;;;;WAMG;QACK,gCAAU,GAAlB,UAAmB,WAAW;YAC1B,IAAI,WAAW,GAAG,EAAE,CAAC;YAErB,IAAI;gBACA,QAAQ,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,EAAC;oBAChD,oBAAoB;oBACpB,KAAK,OAAO,CAAC;oBACb,KAAK,OAAO;wBACR,IAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAA5B,CAA4B,CAAC,CAAC,MAAM,IAAI,CAAC,EAAC;4BACvE,IAAI,eAAe,GAAG,IAAI,2BAAY,EAAE,CAAC;4BACzC,WAAW,CAAC,OAAO,CAAC,GAAG,eAAe,CAAC;4BACvC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;yBACpC;wBAED,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAA5B,CAA4B,CAAC,CAAC;wBAE3F,IAAI,kBAAkB,GAAG,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;wBAC/F,IAAI,CAAC,KAAK,GAAG,kBAAkB,CAAC;wBAEhC,IAAI,sBAAsB,GAAG,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,CAC7E,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,EAC7B,WAAW,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,EAC3B,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,EAC7B,WAAW,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CACnC,CAAC;wBAEN,IAAI,CAAC,SAAS,GAAG,sBAAsB,CAAC;wBAExC,IAAI,wBAAwB,GAAG,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC;wBAE7G,IAAI,CAAC,WAAW,GAAG,wBAAwB,CAAC;wBAE5C,IAAG,WAAW,CAAC,QAAQ,CAAC,IAAI,SAAS,EAAC;4BAClC,IAAI,oBAAoB,GAAG,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CACzE,WAAW,CAAC,MAAM,CAAC,EACnB,WAAW,CAAC,QAAQ,CAAC,EACrB,WAAW,CAAC,WAAW,CAAC,CACvB,CAAC;4BACN,IAAG,oBAAoB,IAAI,SAAS,EAAC;gCACjC,IAAI,CAAC,OAAO,GAAG,oBAAoB,CAAC;6BACvC;yBACJ;6BAAM,IAAG,WAAW,CAAC,MAAM,CAAC,IAAI,aAAa,EAAC;4BAC3C,IAAI,oBAAoB,GAAG,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CACzE,WAAW,CAAC,MAAM,CAAC,EACnB,WAAW,CAAC,QAAQ,CAAC,EACrB,WAAW,CAAC,WAAW,CAAC,CACvB,CAAC;4BAEN,IAAG,oBAAoB,IAAI,SAAS,EAAC;gCACjC,IAAI,CAAC,OAAO,GAAG,oBAAoB,CAAC;6BACvC;yBACJ;wBAED,MAAM;oBAEV,sBAAsB;oBACtB,KAAK,sBAAsB,CAAC;oBAC5B,KAAK,gBAAgB;wBACjB,IAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAA9B,CAA8B,CAAC,CAAC,MAAM,IAAI,CAAC,EAAC;4BACzE,IAAI,iBAAiB,GAAG,IAAI,+BAAc,EAAE,CAAC;4BAC7C,WAAW,CAAC,SAAS,CAAC,GAAG,iBAAiB,CAAC;4BAC3C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;yBACpC;wBAED,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAA9B,CAA8B,CAAC,CAAC;wBAE/F,IAAI,oBAAoB,GAAG,IAAI,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;wBACrG,IAAI,CAAC,KAAK,GAAG,oBAAoB,CAAC;wBAElC,IAAI,wBAAwB,GAAG,IAAI,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,WAAW,CACnF,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,EAC7B,WAAW,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,EAC3B,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,EAC7B,WAAW,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CACnC,CAAC;wBAEN,IAAI,CAAC,SAAS,GAAG,wBAAwB,CAAC;wBAE1C,IAAI,0BAA0B,GAAG,IAAI,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC;wBAEnH,IAAI,CAAC,WAAW,GAAG,0BAA0B,CAAC;wBAE9C,IAAG,WAAW,CAAC,QAAQ,CAAC,IAAI,SAAS,EAAC;4BAClC,IAAI,sBAAsB,GAAG,IAAI,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,CAC/E,WAAW,CAAC,MAAM,CAAC,EACnB,WAAW,CAAC,QAAQ,CAAC,EACrB,WAAW,CAAC,WAAW,CAAC,CACvB,CAAC;4BACN,IAAG,sBAAsB,IAAI,SAAS,EAAC;gCACnC,IAAI,CAAC,OAAO,GAAG,sBAAsB,CAAC;6BACzC;yBACJ;6BAAM;4BACH,IAAI,sBAAsB,GAAG,IAAI,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,CAC/E,WAAW,CAAC,MAAM,CAAC,EACnB,WAAW,CAAC,QAAQ,CAAC,EACrB,WAAW,CAAC,WAAW,CAAC,CACvB,CAAC;4BAEN,IAAG,sBAAsB,IAAI,SAAS,EAAC;gCACnC,IAAI,CAAC,OAAO,GAAG,sBAAsB,CAAC;6BACzC;yBACJ;wBAED,MAAM;oBAEV,yBAAyB;oBACzB,KAAK,UAAU,CAAC;oBAChB,KAAK,SAAS,CAAC;oBACf,KAAK,MAAM,CAAC;oBACZ,KAAK,KAAK;wBACN,IAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,YAAY,CAAC,EAAjC,CAAiC,CAAC,CAAC,MAAM,IAAI,CAAC,EAAC;4BAC5E,IAAI,oBAAoB,GAAG,IAAI,qCAAiB,EAAE,CAAC;4BACnD,WAAW,CAAC,YAAY,CAAC,GAAG,oBAAoB,CAAC;4BACjD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;yBACpC;wBAED,IAAI,CAAC,4BAA4B,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,cAAc,CAAC,YAAY,CAAC,EAAjC,CAAiC,CAAC,CAAC;wBAErG,IAAI,uBAAuB,GAAG,IAAI,CAAC,4BAA4B,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;wBAC9G,IAAI,CAAC,KAAK,GAAG,uBAAuB,CAAC;wBAErC,IAAI,2BAA2B,GAAG,IAAI,CAAC,4BAA4B,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAC5F,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,EAC7B,WAAW,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,EAC3B,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,EAC7B,WAAW,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CACnC,CAAC;wBAEN,IAAI,CAAC,SAAS,GAAG,2BAA2B,CAAC;wBAE7C,IAAI,6BAA6B,GAAG,IAAI,CAAC,4BAA4B,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC;wBAE5H,IAAI,CAAC,WAAW,GAAG,6BAA6B,CAAC;wBAEjD,IAAG,WAAW,CAAC,QAAQ,CAAC,IAAI,SAAS,EAAC;4BAClC,IAAI,yBAAyB,GAAG,IAAI,CAAC,4BAA4B,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,SAAS,CACxF,WAAW,CAAC,MAAM,CAAC,EACnB,WAAW,CAAC,QAAQ,CAAC,EACrB,WAAW,CAAC,WAAW,CAAC,CACvB,CAAC;4BACN,IAAG,yBAAyB,IAAI,SAAS,EAAC;gCACtC,IAAI,CAAC,OAAO,GAAG,yBAAyB,CAAC;6BAC5C;yBACJ;6BAAM;4BACH,IAAI,yBAAyB,GAAG,IAAI,CAAC,4BAA4B,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,SAAS,CACxF,WAAW,CAAC,MAAM,CAAC,EACnB,WAAW,CAAC,QAAQ,CAAC,EACrB,WAAW,CAAC,WAAW,CAAC,CACvB,CAAC;4BAEN,IAAG,yBAAyB,IAAI,SAAS,EAAC;gCACtC,IAAI,CAAC,OAAO,GAAG,yBAAyB,CAAC;6BAC5C;yBACJ;wBAED,MAAM;iBACb;aACJ;YAAC,OAAM,CAAC,EAAC;gBACN,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACnC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;aAC5B;YAED,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;QAED;;;;;;;WAOG;QACK,kCAAY,GAApB,UAAqB,MAAM,EAAE,KAAK,EAAE,SAAS;YACzC,IAAI,YAAY,GAAiB;gBAC7B,EAAE,EAAE,EAAE;gBACN,KAAK,EAAE;oBACH,UAAU,EAAE,OAAO;oBACnB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,EAAE;iBACX;gBACD,IAAI,EAAE;oBACF,EAAE,EAAE,EAAE;oBACN,OAAO,EAAE,EAAE;iBACd;gBACD,MAAM,EAAE;oBACJ,EAAE,EAAC,EAAE;oBACL,UAAU,EAAE,UAAU;iBACzB;aACJ,CAAC;YAEF,YAAY,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC;YAC/B,YAAY,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;YAC7B,YAAY,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC;YAEnC,IAAI,CAAC,UAAU,GAAG,YAAY,CAAC;YAE/B,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;QAED;;;;;WAKG;QACK,oCAAc,GAAtB,UAAuB,WAAW;YAC9B,IAAG,WAAW,CAAC,cAAc,CAAC,aAAa,CAAC,EAAC;gBACzC,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC,aAAa,CAAC,CAAC;aAChD;YAED,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;QAED;;;;WAIG;QACI,6BAAO,GAAd;YACI,OAAO,SAAM,EAAE,CAAC;QACpB,CAAC;QACL,kBAAC;IAAD,CAAC;IA51BY,kCAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBxB;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,C;;AClBA,4CAAe,cAAc,EAAE,UAAU,EAAE,eAAe,EAAE,gBAAgB,EAAE,UAAU,GAAG,yCAAyC,E;;ACArG;;AAE/B;AACA,qCAAqC,UAAU;AAC/C;;AAEA,2DAAe,QAAQ,E;;ACNc;AACrC;AACA;AACA;AACA;;AAEA;;AAEA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA,ygBAAygB;AACzgB;AACA;AACA;AACA;;AAEA,OAAO,oBAAQ;AACf;AACA;;AAEA;AACA;;AAEA,4DAAe,SAAS,E;;AC7BG;AACY;AACvC;AACA;AACA;;AAEA;;AAEA,cAAc;;;AAGd;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E;AACA;;AAEA;AACA,sDAAsD,GAAG;;AAEzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA,uEAAuE;AACvE;;AAEA,2EAA2E;;AAE3E,6DAA6D;;AAE7D;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;;AAEvB,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA,sBAAsB;;AAEtB,mCAAmC;;AAEnC,6BAA6B;;AAE7B,iCAAiC;;AAEjC,2BAA2B;;AAE3B,iBAAiB,OAAO;AACxB;AACA;;AAEA,gBAAgB,qBAAS;AACzB;;AAEA,qDAAe,EAAE,E;;AC9FoB;;AAErC;AACA,OAAO,oBAAQ;AACf;AACA;;AAEA;AACA,+BAA+B;;AAE/B;AACA;AACA;AACA,oBAAoB;;AAEpB;AACA,oBAAoB;;AAEpB;AACA,oBAAoB;;AAEpB;AACA,oBAAoB;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wDAAe,KAAK,E;;AClCmB;AACR;;AAE/B;AACA,0CAA0C;;AAE1C;;AAEA,iBAAiB,gBAAgB;AACjC;AACA;;AAEA;AACA;;AAEO;AACA;AACP,6BAAe,SAAS,IAAC;AACzB;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,iBAAK;AACvB;;AAEA;AACA;AACA,KAAK;AACL;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,QAAQ;AAC7B;AACA;;AAEA;AACA;;AAEA,WAAW,qBAAS;AACpB,GAAG;;;AAGH;AACA,6BAA6B;AAC7B,GAAG,eAAe;;;AAGlB;AACA;AACA;AACA,C;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;;AAElD;;AAEA,mBAAmB,gBAAgB;AACnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,aAAa;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sDAAe,GAAG,E;;ACtNS;AACA;AAC3B,SAAS,GAAG,aAAa,eAAG;AAC5B,qDAAe,EAAE,E;;ACHU;AACY;;AAEvC;AACA;AACA,+CAA+C,GAAG,IAAI;;AAEtD;AACA,kCAAkC;;AAElC;AACA;;AAEA,mBAAmB,QAAQ;AAC3B;AACA;;AAEA;AACA;;AAEA,SAAS,qBAAS;AAClB;;AAEA,qDAAe,EAAE,E;;ACvBjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAkD;;AAElD;;AAEA,mBAAmB,gBAAgB;AACnC;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kBAAkB,QAAQ;AAC1B;;AAEA,mBAAmB,QAAQ;AAC3B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,SAAS;AAC5B;;AAEA,mBAAmB,QAAQ;AAC3B;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uDAAe,IAAI,E;;AC/FQ;AACE;AAC7B,SAAS,GAAG,aAAa,gBAAI;AAC7B,qDAAe,EAAE,E;;ACHjB,0CAAe,sCAAsC,E;;ACAhB;;AAErC;AACA,OAAO,oBAAQ;AACf;AACA;;AAEA;AACA;;AAEA,0DAAe,OAAO,E;;ACVkB;AACA;AACA;AACA;AACE;AACQ;AACE;AACE;;;;;;;UCPtD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;UCNA;UACA;UACA;UACA","file":"BUILDER.js","sourcesContent":["/**\r\n * 공통으로 사용하는 환경 설정 내용\r\n */\r\nconst Config = {\r\n    /** LRS Endpoint */\r\n    endpoint: 'http://211.193.3.74/data/xAPI/',\r\n    /** LRS Clients Key */\r\n    key: \"e9e89d0d650135c288a3c4e50dae38276be7d495\",\r\n    /** LRS Clients secret */\r\n    secret: \"49c77874bb6ac77b68bf0c40a25d94c82843ba87\",\r\n    /** ADL Version */\r\n    version: \"1.0.3\"\r\n}\r\n\r\nexport default Config;","import { xAPIProfile,Profile } from '../xAPIProfile';\r\n\r\n/**\r\n * media profile\r\n * + verb, activity, result, context, extension property에 대한 validation 처리\r\n * + validation 후 verb, activty, result, context, extension property 구성\r\n */\r\nexport class MediaProfile extends xAPIProfile  {\r\n    /** media play record */\r\n    public mediaSessionId :object = {};\r\n    /** media start flag */\r\n    private started = false;\r\n    private verbDict = this.dict.verb.filter(data => data.hasOwnProperty('media'));\r\n    private activityDict = this.dict.activityNames.filter(data => data.hasOwnProperty('media'));\r\n    private resultExtensionsDict = this.dict.extensions.result.filter(data => data.hasOwnProperty('media'));\r\n    private contextExtensionsDict = this.dict.extensions.context.filter(data => data.hasOwnProperty('media'));\r\n\r\n    /**\r\n     * property validation\r\n     * + verb property validation\r\n     * + profile dictionary의 verb에 존재 여부 validation\r\n     * @param verbName \r\n     * @returns boolean\r\n     */\r\n    public validateVerbName(verbName: string) {\r\n        return this.verbDict[0]['media'].hasOwnProperty(verbName);\r\n    }\r\n\r\n    /**\r\n     * set property\r\n     * + validation 후 verb property 구성\r\n     * @param verbName \r\n     * @returns boolean\r\n     */\r\n    public setVerb(verbName: string) {\r\n        if(this.verbDict[0]['media'][verbName].id !== '' || undefined && this.verbDict[0]['media'][verbName].display !== '' || undefined){\r\n            this._verb = {\r\n                id: this.verbDict[0]['media'][verbName].id,\r\n                display: this.verbDict[0]['media'][verbName].display\r\n            }\r\n            return true;\r\n        } else {\r\n            console.log({\"error\":\"setVerb is fail.\"});\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * property validation\r\n     * + activity property validation\r\n     * + profile dictionary의 activity에 존재 여부 validation\r\n     * @param objectActivityName \r\n     * @returns boolean\r\n     */\r\n    public validateActivityName(objectActivityName: string) {\r\n        return this.activityDict[0]['media'].hasOwnProperty(objectActivityName.toLocaleLowerCase())\r\n    }\r\n    \r\n    /**\r\n     * set property\r\n     * + validation 후 activity property 구성\r\n     * @param objectActivityName\r\n     * @param objectID\r\n     * @param definitionName\r\n     * @param description\r\n     * @returns boolean\r\n     */\r\n    public setActivity(objectActivityName: string, objectID: string, definitionName: any, description: object) {\r\n        objectActivityName = objectActivityName.toLowerCase();\r\n        objectID = objectID;\r\n        let objectType =  \"Activity\";\r\n\r\n        if(this.validateActivityName(objectActivityName)){\r\n            if(definitionName != {} || definitionName != undefined ||definitionName != '' ){\r\n                if(Object.keys(description).length === 0){\r\n                    this._activity = {\r\n                        id: objectID,\r\n                        objectType: objectType,\r\n                        definition: {\r\n                            name: definitionName,\r\n                            type: this.activityDict[0]['media'][objectActivityName].type\r\n                        }\r\n                    }\r\n                } else {\r\n                    this._activity={\r\n                        id: objectID,\r\n                        objectType: objectType,\r\n                        definition: {\r\n                            name: definitionName,\r\n                            type: this.activityDict[0]['media'][objectActivityName].type,\r\n                            description: description\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return true;\r\n        } else {\r\n            console.log({\"error\":\"setActivity is fail.\"});\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * property validation\r\n     * + profile dictionary의 result에 존재 여부 validation\r\n     * @param result \r\n     * @returns boolean\r\n     */\r\n    public validateResult(result: object){\r\n        let flag = true;\r\n        if(result.hasOwnProperty(\"score\")){\r\n            if(result[\"score\"].hasOwnProperty(\"scaled\")){\r\n                if(-1 <= result[\"score\"][\"scaled\"] && result[\"score\"][\"scaled\"] <= 1){\r\n                    flag = true;\r\n                } else {\r\n                    flag = false;\r\n                }\r\n            }\r\n            if(result[\"score\"].hasOwnProperty(\"raw\")){\r\n                if(-1 <= result[\"score\"][\"raw\"] && result[\"score\"][\"raw\"] <= 1){\r\n                    flag = true;\r\n                } else {\r\n                    flag = false;\r\n                }\r\n            }\r\n            if(result[\"score\"].hasOwnProperty(\"min\")){\r\n                if(-1 <= result[\"score\"][\"min\"] && result[\"score\"][\"min\"] <= 1){\r\n                    flag = true;\r\n                } else {\r\n                    flag = false;\r\n                }\r\n            }\r\n            if(result[\"score\"].hasOwnProperty(\"max\")) {\r\n                if(-1 <= result[\"score\"][\"max\"] && result[\"score\"][\"max\"]<= 1){\r\n                    flag = true;\r\n                } else {\r\n                    flag = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        if(result.hasOwnProperty(\"completion\")){\r\n            if(typeof result[\"completion\"] === \"boolean\"){\r\n                flag = true;\r\n            } else {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(result.hasOwnProperty(\"duration\")){\r\n            if(typeof result[\"duration\"] === \"number\"){\r\n                flag = true;\r\n            } else {\r\n                flag = false;\r\n            }\r\n        }\r\n        \r\n        if(result.hasOwnProperty(\"success\")){\r\n            if(typeof result[\"success\"] === \"boolean\"){\r\n                flag = true;\r\n            } else {\r\n                flag = false;\r\n            }        \r\n        }\r\n        \r\n        if(result.hasOwnProperty(\"response\")){\r\n            if(typeof result[\"response\"] === \"string\"){\r\n                flag = true;\r\n            } else {\r\n                flag = false;\r\n            }        \r\n        }\r\n        return flag;\r\n    }\r\n\r\n    /**\r\n     * set property\r\n     * + validation 후 result property 구성\r\n     * @param verbName \r\n     * @param result \r\n     * @param extension \r\n     * @returns boolean\r\n     */\r\n    public setResult(verbName :string, result : object, extension: object) {\r\n        let flag = false;\r\n        let ext = {};\r\n\r\n        if(!this.mediaSessionId.hasOwnProperty(extension[\"media-session-id\"])){\r\n            this.mediaSessionId[extension[\"media-session-id\"]] = {};\r\n        }\r\n\r\n        if( !this.validateExtensionName(extension)){\r\n            return flag;\r\n        }\r\n\r\n        for (let key in extension){\r\n            if(this.resultExtensionsDict[0]['media'].hasOwnProperty(key)){\r\n                ext[this.resultExtensionsDict[0]['media'][key]] = extension[key];\r\n            }\r\n        }\r\n\r\n        if(result == undefined){\r\n            result = {};\r\n        }\r\n\r\n        if(verbName == \"terminated\"){\r\n            result[\"extensions\"] = ext;\r\n\r\n            if(this.started == true){\r\n                this.endPlayedSegment(extension[\"time\"], extension[\"media-session-id\"]);\r\n            }\r\n            if(result[\"duration\"] == undefined){\r\n               result[\"duration\"] =  this.setDuration(extension[\"media-session-id\"]);\r\n            } else {\r\n                result[\"duration\"] = \"PT\"+result[\"duration\"].toFixed(3)+\"S\"\r\n            }\r\n\r\n            result[\"extensions\"][this.resultExtensionsDict[0]['media'][\"played-segments\"]] = this.mediaSessionId[extension[\"media-session-id\"]][\"segments\"];\r\n            this._result = result;\r\n\r\n            flag = true;\r\n        } else if(verbName == \"paused\" || verbName == \"completed\"){\r\n            this.started = false;\r\n            this.endPlayedSegment(extension[\"time\"],extension[\"media-session-id\"]);\r\n\r\n            if(result[\"duration\"] == undefined){\r\n                result[\"duration\"] =  this.setDuration(extension[\"media-session-id\"]);\r\n            } else {\r\n                result[\"duration\"] = \"PT\"+result[\"duration\"].toFixed(3)+\"S\"\r\n            }\r\n\r\n            result[\"extensions\"] = ext;\r\n            result[\"extensions\"][this.resultExtensionsDict[0]['media'][\"played-segments\"]] = this.mediaSessionId[extension[\"media-session-id\"]][\"segments\"];\r\n            this._result = result;\r\n            \r\n            flag = true;\r\n        } else if(verbName == \"played\"){\r\n            this.started = true;\r\n            this.startPlayedSegment(extension[\"time\"],extension[\"media-session-id\"]);\r\n            result[\"extensions\"] = ext;\r\n            this._result = result;\r\n\r\n            flag = true;\r\n        } else if(verbName == \"seeked\"){\r\n            if(this.started){// if media started\r\n                result[\"extensions\"] = ext;\r\n                this._result = result;\r\n                this.endPlayedSegment(extension[\"time-from\"],extension[\"media-session-id\"]);\r\n                this.startPlayedSegment(extension[\"time-to\"],extension[\"media-session-id\"]);\r\n\r\n                flag = true;\r\n            } else {\r\n                result[\"extensions\"] = ext;\r\n                this._result = result;\r\n\r\n                flag = true;\r\n            }\r\n        } else {\r\n            this._result = result;\r\n            result[\"extensions\"] = ext;\r\n\r\n            flag = true;\r\n        }\r\n        \r\n        return flag;\r\n    }\r\n\r\n    /**\r\n     * property validation\r\n     * + profile dictionary의 context에 존재 여부 validation\r\n     * @param extension \r\n     * @returns boolean\r\n     */\r\n    public validateContextName(extension : object) {\r\n        if(this.validateExtensionName(extension)){\r\n            return true\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * set property\r\n     * + validation 후 context property 구성\r\n     * @param extension \r\n     * @returns boolean\r\n     */\r\n    public setContext(extension :object){\r\n        let ext = {};\r\n\r\n        if(!this.validateExtensionName(extension)){\r\n            return false;\r\n        }\r\n        \r\n        for (let key in extension){\r\n            if(this.contextExtensionsDict[0]['media'].hasOwnProperty(key)){\r\n                ext[this.contextExtensionsDict[0]['media'][key]] = extension[key];\r\n            }\r\n        }\r\n        \r\n        this._context = {\r\n            extensions: ext\r\n        }\r\n        \r\n        return true;\r\n    }\r\n    \r\n    /**\r\n     * property validation\r\n     * + profile dictionary의 extension에 존재 여부 validation\r\n     * @param extensions \r\n     * @returns boolean\r\n     */\r\n    public validateExtensionName(extensions : object){\r\n        let flag = true;\r\n\r\n        //result extention\r\n        if(extensions.hasOwnProperty(\"time\")){\r\n            if(typeof extensions[\"time\"] !== \"number\"){\r\n                flag = false;\r\n            }\r\n\r\n            extensions[\"time\"] = parseFloat(extensions[\"time\"].toFixed(3));\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"time-from\")){\r\n            if (typeof extensions[\"time-from\"] !== \"number\") {\r\n                flag = false;\r\n            }\r\n\r\n            extensions[\"time-from\"] = parseFloat(extensions[\"time-from\"].toFixed(3));\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"time-to\")){\r\n            if (typeof extensions[\"time-to\"] !== \"number\") {\r\n                flag = false;\r\n            }\r\n\r\n            extensions[\"time-to\"] = parseFloat(extensions[\"time-to\"].toFixed(3));\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"progress\")){\r\n            if (typeof extensions[\"progress\"] !== \"number\") {\r\n                flag = false;\r\n            }\r\n\r\n            extensions[\"progress\"] = parseFloat(extensions[\"progress\"].toFixed(3));\r\n        }\r\n\r\n        //context extention\r\n        if(extensions.hasOwnProperty(\"cc-subtitle-enabled\")){\r\n            if (typeof extensions[\"cc-subtitle-enabled\"] !== \"boolean\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"cc-subtitle-lang\")){\r\n            if (typeof extensions[\"cc-subtitle-lang\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"frame-rate\")){\r\n            if (typeof extensions[\"frame-rate\"] !== \"number\") {\r\n                flag = false;\r\n            }\r\n\r\n            extensions[\"frame-rate\"] = parseFloat(extensions[\"frame-rate\"].toFixed(3));\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"full-screen\")){\r\n            if (typeof extensions[\"full-screen\"] !== \"boolean\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"quality\")){\r\n            if (typeof extensions[\"quality\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"screen-size\")){\r\n            if (typeof extensions[\"screen-size\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"video-playback-size\")){\r\n            if (typeof extensions[\"video-playback-size\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"speed\")){\r\n            if (typeof extensions[\"speed\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"track\")){\r\n            if (typeof extensions[\"track\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"user-agent\")){\r\n            if (typeof extensions[\"user-agent\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"volume\")){\r\n            if (typeof extensions[\"volume\"] !== \"number\") {\r\n                flag = false;\r\n            } else if( 0 <= extensions[\"volume\"] && extensions[\"volume\"] <= 1){\r\n                extensions[\"volume\"] = parseFloat(extensions[\"volume\"].toFixed(3));\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"length\")){\r\n            if (typeof extensions[\"length\"] !== \"number\") {\r\n                flag = false;\r\n            }\r\n\r\n            extensions[\"length\"] = parseFloat(extensions[\"length\"].toFixed(3));\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"completion-threshold\")){\r\n            if (typeof extensions[\"completion-threshold\"] !== \"number\") {\r\n                flag = false;\r\n            }\r\n\r\n            extensions[\"completion-threshold\"] = parseFloat(extensions[\"completion-threshold\"].toFixed(3));\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"tag\")){\r\n            if (typeof extensions[\"tag\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"media-session-id\")){\r\n            if (typeof extensions[\"media-session-id\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        } else {\r\n            flag = false;\r\n        }\r\n\r\n        return flag;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + verb property return\r\n     * @returns _verb\r\n     */\r\n    public getCurrentVerb(){\r\n        return this._verb;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + activity property return\r\n     * @returns _activity\r\n     */\r\n    public getCurrentActivity(){\r\n        return this._activity;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + result property return\r\n     * @returns _result\r\n     */\r\n    public getCurrentResult(){\r\n        return this._result;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + context property return\r\n     * @returns _context\r\n     */\r\n    public getCurrentContext(){\r\n        return this._context;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + result extension property return\r\n     * @returns result extension\r\n     */\r\n    public getCurrentResultExtension(){\r\n        return this._result[\"extensions\"];\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + context extension property return\r\n     * @returns context extension\r\n     */\r\n    public getCurrentContextExtension(){\r\n        return this._context[\"extensions\"];\r\n    }\r\n    \r\n    /**\r\n     * property validation\r\n     * + result와 context property의 extension에 대한 validation\r\n     * @param profile \r\n     * @returns boolean\r\n     */\r\n    public validateProfile(profile : Profile){\r\n        let verb =  profile['verb']['id'];\r\n        let result = profile['result'];\r\n        let context = profile['context'];\r\n        let flag = false;\r\n        \r\n        switch (verb) {\r\n            case this.verbDict[0]['media'].initialized.id:\r\n                if( context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['media'][\"length\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['media'][\"media-session-id\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['media'].played.id:\r\n                if( result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['media'][\"time\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['media'][\"media-session-id\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['media'].paused.id:\r\n                if( result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['media'][\"time\"]) &&\r\n                    result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['media'][\"progress\"]) &&\r\n                    result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['media'][\"played-segments\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['media'][\"length\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['media'][\"media-session-id\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;        \r\n            case this.verbDict[0]['media'].seeked.id:\r\n                if( result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['media'][\"time-from\"]) &&\r\n                    result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['media'][\"time-to\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['media'][\"media-session-id\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['media'].completed.id:\r\n                if( result.hasOwnProperty(\"completion\") &&\r\n                    result.hasOwnProperty(\"duration\") &&\r\n                    result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['media'][\"time\"]) &&\r\n                    result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['media'][\"progress\"]) &&\r\n                    result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['media'][\"played-segments\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['media'][\"length\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['media'][\"media-session-id\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['media'].terminated.id:\r\n                if( result.hasOwnProperty(\"duration\") &&\r\n                    result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['media'][\"time\"]) &&\r\n                    result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['media'][\"progress\"]) &&\r\n                    result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['media'][\"played-segments\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['media'][\"length\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['media'][\"media-session-id\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['media'].interacted.id:\r\n                if( result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['media'][\"time\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['media'][\"media-session-id\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n        }\r\n    }\r\n\r\n    /** \r\n     * Set startSegments\r\n     * @param start ex) 0.000\r\n     * @returns void\r\n     */\r\n    private startPlayedSegment(start:number , mediaSessionId:string){\r\n        this.mediaSessionId[mediaSessionId][\"startSegments\"] = start;\r\n    }\r\n\r\n    /** \r\n     * Set endPlayedSegment and segments\r\n     * @param end ex) 1.000\r\n     * @returns void\r\n     */\r\n    private endPlayedSegment(end:number, mediaSessionId:string){\r\n        let arr :Array<any>;\r\n\r\n        arr = (this.mediaSessionId[mediaSessionId][\"segments\"] == undefined) ? [] : this.mediaSessionId[mediaSessionId][\"segments\"].split(\"[,]\");\r\n            arr.push(this.mediaSessionId[mediaSessionId][\"startSegments\"].toFixed(3) + \"[.]\" + end.toFixed(3));\r\n            this.mediaSessionId[mediaSessionId][\"segments\"] = arr.join(\"[,]\");\r\n            this.mediaSessionId[mediaSessionId][\"endSegments\"] = end;\r\n            this.mediaSessionId[mediaSessionId][\"startSegments\"] = null;\r\n    }\r\n    /** \r\n     * calculate duration\r\n     * @returns duration\r\n     */\r\n    private calculateDuration(mediaSessionId:string) {\r\n        let arr : any[] , arr2:  any[] ;\r\n        \r\n        //get played segments array\r\n        arr = (this.mediaSessionId[mediaSessionId][\"segments\"] == undefined) ? [] :this.mediaSessionId[mediaSessionId][\"segments\"].split(\"[,]\");\r\n\r\n        if (this.mediaSessionId[mediaSessionId][\"startSegments\"] != null) {\r\n            arr.push(this.mediaSessionId[mediaSessionId][\"startSegments\"].toFixed(3) + \"[.]\" + this.mediaSessionId[mediaSessionId][\"endSegments\"].toFixed(3));\r\n        }\r\n\r\n        arr2 = [];\r\n        let duration = 0;\r\n\r\n        arr.forEach(function (v, i) {\r\n            arr2[i] = v.split(\"[.]\");\r\n            arr2[i][0] *= 1;\r\n            arr2[i][1] *= 1;\r\n        \r\n            if(arr2[i][1] > arr2[i][0])\r\n                duration += arr2[i][1] - arr2[i][0];\r\n        });\r\n        \r\n        return duration;\r\n    }\r\n\r\n    /** \r\n     * Set duration\r\n     * + duration 계산 (ISO8601 기준)\r\n     * @returns duration\r\n     */\r\n    private setDuration(mediaSessionId:string){\r\n        let duration :number = 0;\r\n\r\n        duration = this.calculateDuration(mediaSessionId)\r\n\r\n        return \"PT\" + duration.toFixed(3) + \"S\";\r\n    }\r\n}","import { xAPIProfile,Profile } from '../xAPIProfile';\r\n\r\n/**\r\n * navigation profile\r\n * + verb, activity, result, context, extension property에 대한 validation 처리\r\n * + validation 후 verb, activty, result, context, extension property 구성\r\n */\r\nexport class NavigationProfile extends xAPIProfile  {  \r\n    iso8601RegExp = /^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$/;\r\n\r\n    private verbDict = this.dict.verb.filter(data => data.hasOwnProperty('navigation'));\r\n    private activityDict = this.dict.activityNames.filter(data => data.hasOwnProperty('navigation'));\r\n    private resultExtensionsDict = this.dict.extensions.result.filter(data => data.hasOwnProperty('navigation'));\r\n    private contextExtensionsDict = this.dict.extensions.context.filter(data => data.hasOwnProperty('navigation'));\r\n\r\n    /**\r\n     * property validation\r\n     * + verb property validation\r\n     * + profile dictionary의 verb에 존재 여부 validation\r\n     * @param verbName \r\n     * @returns boolean\r\n     */\r\n    public validateVerbName(verbName: string) {\r\n        return this.verbDict[0]['navigation'].hasOwnProperty(verbName);\r\n    }\r\n\r\n    /**\r\n     * set property\r\n     * + validation 후 verb property 구성\r\n     * @param verbName \r\n     * @returns boolean\r\n     */\r\n    public setVerb(verbName: string) {\r\n        if(this.verbDict[0]['navigation'][verbName].id !== '' || undefined && this.verbDict[0]['navigation'][verbName].display !== '' || undefined){\r\n            this._verb ={\r\n                id: this.verbDict[0]['navigation'][verbName].id,\r\n                display : this.verbDict[0]['navigation'][verbName].display\r\n            }\r\n\r\n            return true;\r\n        }else{\r\n            console.log({\"error\":\"setVerb is fail.\"});\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * property validation\r\n     * + activity property validation\r\n     * + profile dictionary의 activity에 존재 여부 validation\r\n     * @param objectActivityName \r\n     * @returns boolean\r\n     */\r\n    public validateActivityName(objectActivityName: string) {\r\n        return this.activityDict[0]['navigation'].hasOwnProperty(objectActivityName.toLocaleLowerCase())\r\n    }\r\n    \r\n    /**\r\n     * set property\r\n     * + validation 후 activity property 구성\r\n     * @param objectActivityName \r\n     * @param objectID \r\n     * @param definitionName \r\n     * @param description \r\n     * @returns boolean\r\n     */\r\n    public setActivity(objectActivityName: string, objectID: string, definitionName : any, description :object) {\r\n        objectActivityName = objectActivityName.toLowerCase();\r\n        objectID = objectID;\r\n        let objectType =  \"Activity\";\r\n\r\n        if(this.validateActivityName(objectActivityName)){\r\n            if(definitionName != {} || definitionName != undefined ||definitionName != '' ){\r\n                if(Object.keys(description).length === 0){\r\n                    this._activity={\r\n                        id : objectID,\r\n                        objectType : objectType,\r\n                        definition :{\r\n                            name : definitionName,\r\n                            type : this.activityDict[0]['navigation'][objectActivityName].type\r\n                        }\r\n                    }\r\n                } else {\r\n                    this._activity={\r\n                        id : objectID,\r\n                        objectType : objectType,\r\n                        definition :{\r\n                            name : definitionName,\r\n                            type : this.activityDict[0]['navigation'][objectActivityName].type,\r\n                            description : description\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return true;\r\n        } else {\r\n            console.log({\"error\":\"setActivity is fail.\"});\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * property validation\r\n     * + profile dictionary의 result에 존재 여부 validation\r\n     * @param result \r\n     * @returns boolean\r\n     */\r\n    public validateResult(result: object){\r\n        let flag = true;\r\n        if (result.hasOwnProperty(\"score\")) {\r\n            if(result[\"score\"].hasOwnProperty(\"scaled\")){\r\n                if(-1 <= result[\"score\"][\"scaled\"] && result[\"score\"][\"scaled\"] <= 1){\r\n                    flag = true;\r\n                } else {\r\n                    flag = false;\r\n                }\r\n            }\r\n\r\n            if(result[\"score\"].hasOwnProperty(\"raw\")){\r\n                if(-1 <= result[\"score\"][\"raw\"] && result[\"score\"][\"raw\"] <= 1){\r\n                    flag = true;\r\n                } else {\r\n                    flag = false;\r\n                }\r\n            }\r\n\r\n            if(result[\"score\"].hasOwnProperty(\"min\")){\r\n                if(-1 <= result[\"score\"][\"min\"] && result[\"score\"][\"min\"] <= 1){\r\n                    flag = true;\r\n                } else {\r\n                    flag = false;\r\n                }\r\n            }\r\n\r\n            if(result[\"score\"].hasOwnProperty(\"max\")){\r\n                if(-1 <= result[\"score\"][\"max\"] && result[\"score\"][\"max\"]<= 1){\r\n                    flag = true;\r\n                } else {\r\n                    flag = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        if(result.hasOwnProperty(\"completion\")){\r\n            if(typeof result[\"completion\"] === \"boolean\"){\r\n                flag = true;\r\n            } else {\r\n                flag = false;\r\n            }\r\n        }\r\n        \r\n        if(result.hasOwnProperty(\"success\")){\r\n            if(typeof result[\"success\"] === \"boolean\"){\r\n                flag = true;\r\n            } else {\r\n                flag = false;\r\n            }        \r\n        }\r\n\r\n        if(result.hasOwnProperty(\"response\")){\r\n            if(typeof result[\"response\"] === \"string\"){\r\n                flag = true;\r\n            } else {\r\n                flag = false;\r\n            }        \r\n        }\r\n\r\n        return flag;\r\n    }\r\n\r\n    /**\r\n     * set property\r\n     * + validation 후 result property 구성\r\n     * @param verbName \r\n     * @param result \r\n     * @param extension \r\n     * @returns boolean\r\n     */\r\n    public setResult(verbName :string, result : object, extension: object) {\r\n        let flag = false;\r\n        let ext = {};\r\n\r\n        if( !this.validateExtensionName(extension)){\r\n            return flag;\r\n        }\r\n\r\n        for (let key in extension){\r\n            if(this.resultExtensionsDict[0]['navigation'].hasOwnProperty(key)){\r\n                ext[this.resultExtensionsDict[0]['navigation'][key]] = extension[key];\r\n            }\r\n        }\r\n\r\n        if(result == undefined){\r\n            result = {};\r\n        }\r\n\r\n        if(verbName == \"viewed\"){\r\n            if(!result.hasOwnProperty(\"duration\")){\r\n                result[\"duration\"] = this.setDuration(extension[\"view-started-time\"],extension[\"view-ended-time\"]);\r\n            }\r\n\r\n            result[\"extensions\"] = ext;\r\n            this._result = result;\r\n            flag = true;\r\n        }\r\n\r\n        this._result = result;\r\n        result[\"extensions\"] = ext;\r\n        flag = true;\r\n\r\n        return flag;        \r\n    }\r\n\r\n    /**\r\n     * property validation\r\n     * + profile dictionary의 context에 존재 여부 validation\r\n     * @param extension \r\n     * @returns boolean\r\n     */\r\n    public validateContextName(extension : object) {\r\n        if(this.validateExtensionName(extension)){\r\n            return true\r\n        }\r\n        \r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * set property\r\n     * + validation 후 context property 구성\r\n     * @param extension \r\n     * @returns boolean\r\n     */\r\n    public setContext(extension :object){\r\n        let ext = {}; \r\n\r\n        if(!this.validateExtensionName(extension)){\r\n            return false;\r\n        }\r\n\r\n        for (let key in extension){\r\n            if(this.contextExtensionsDict[0]['navigation'].hasOwnProperty(key)){\r\n                ext[this.contextExtensionsDict[0]['navigation'][key]] = extension[key];\r\n            }\r\n        }\r\n\r\n        this._context = {\r\n            extensions : ext\r\n        }\r\n        \r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * property validation\r\n     * + profile dictionary의 extension에 존재 여부 validation\r\n     * @param extensions \r\n     * @returns boolean\r\n     */\r\n    public validateExtensionName(extensions : object) {\r\n        let flag = true;\r\n        //result extention\r\n        if(extensions.hasOwnProperty(\"current-index\")){\r\n            if(typeof extensions[\"current-index\"] !== \"string\"){\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"total-index\")){\r\n            if (typeof extensions[\"total-index\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"view-started-time\")){\r\n            extensions[\"view-started-time\"] = new Date(extensions[\"view-started-time\"]).toISOString();\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"view-ended-time\")){\r\n            extensions[\"view-ended-time\"] = new Date(extensions[\"view-ended-time\"]).toISOString();\r\n        }\r\n\r\n        //context extention\r\n        if(extensions.hasOwnProperty(\"target-id\")){\r\n            if (typeof extensions[\"target-id\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"target-type\")){\r\n            if (typeof extensions[\"target-type\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"target-name\")){\r\n            if (typeof extensions[\"target-name\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"referrer-id\")){\r\n            if (typeof extensions[\"referrer-id\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"referrer-type\")){\r\n            if (typeof extensions[\"referrer-type\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"referrer-name\")){\r\n            if (typeof extensions[\"referrer-name\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        return flag;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + verb property return\r\n     * @returns _verb\r\n     */\r\n    public getCurrentVerb(){\r\n        return this._verb;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + activity property return\r\n     * @returns _activity\r\n     */\r\n    public getCurrentActivity(){\r\n        return this._activity;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + result property return\r\n     * @returns _result\r\n     */\r\n    public getCurrentResult(){\r\n        return this._result;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + context property return\r\n     * @returns _context\r\n     */\r\n    public getCurrentContext(){\r\n        return this._context;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + result extension property return\r\n     * @returns result extension\r\n     */\r\n    public getCurrentResultExtension(){\r\n        return this._result[\"extensions\"];\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + context extension property return\r\n     * @returns context extension\r\n     */\r\n    public getCurrentContextExtension(){\r\n        return this._context[\"extensions\"];\r\n    }\r\n\r\n    /**\r\n     * property validation\r\n     * + result와 context property의 extension에 대한 validation\r\n     * @param profile \r\n     * @returns boolean\r\n     */\r\n    validateProfile(profile:Profile): boolean {\r\n        let verb =  profile.verb.id;\r\n        let result = profile.result;\r\n        let context = profile.context;\r\n        let flag = false;\r\n\r\n        switch (verb) {\r\n            case this.verbDict[0]['navigation'][\"moved-to\"].id:\r\n                if( context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-type\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['navigation'][\"next\"].id:\r\n                if( context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-type\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"referrer-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"referrer-type\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['navigation'][\"previous\"].id:\r\n                if( context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-type\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"referrer-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"referrer-type\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;        \r\n            case this.verbDict[0]['navigation'][\"clicked\"].id:\r\n                if( context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-type\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['navigation'][\"viewed\"].id:\r\n                if( context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-type\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['navigation'][\"popped-up\"].id:\r\n                if( context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-type\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"referrer-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"referrer-type\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['navigation'][\"opened\"].id:\r\n                if( context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-type\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['navigation'][\"closed\"].id:\r\n                if( context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['navigation'][\"target-type\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n        }\r\n    }\r\n\r\n    /** \r\n     * Set duration\r\n     * + duration 계산 (ISO8601 기준)\r\n     * @returns duration\r\n     */\r\n    setDuration(startDate:Date,endDate:Date){\r\n        let start = new Date(startDate).getTime();\r\n        let end = new Date(endDate).getTime();\r\n        let duration =Math.abs(((start - end)/1000)).toFixed(3);\r\n        return \"PT\"+ duration +\"S\";\r\n    }\r\n}","import { xAPIProfile,Profile } from '../xAPIProfile';\r\n\r\n/**\r\n * session profile\r\n * + verb, activity, result, context, extension property에 대한 validation 처리\r\n * + validation 후 verb, activty, result, context, extension property 구성\r\n */\r\nexport class SessionProfile extends xAPIProfile  {\r\n    private verbDict = this.dict.verb.filter(data => data.hasOwnProperty('session'));\r\n    private activityDict = this.dict.activityNames.filter(data => data.hasOwnProperty('session'));\r\n    private resultExtensionsDict = this.dict.extensions.result.filter(data => data.hasOwnProperty('session'));\r\n    private contextExtensionsDict = this.dict.extensions.context.filter(data => data.hasOwnProperty('session'));\r\n\r\n    /**\r\n     * property validation\r\n     * + verb property validation\r\n     * + profile dictionary의 verb에 존재 여부 validation\r\n     * @param verbName \r\n     * @returns boolean\r\n     */  \r\n    public validateVerbName(verbName: string) {\r\n        return this.verbDict[0]['session'].hasOwnProperty(verbName);\r\n    }\r\n    \r\n    /**\r\n     * set property\r\n     * + validation 후 verb property 구성\r\n     * @param verbName \r\n     * @returns boolean\r\n     */\r\n    public setVerb(verbName: string) {\r\n        \r\n        if(this.verbDict[0]['session'][verbName].id !== ''|| undefined && this.verbDict[0]['session'][verbName].display !== ''|| undefined){\r\n            this._verb ={\r\n                id: this.verbDict[0]['session'][verbName].id,\r\n                display : this.verbDict[0]['session'][verbName].display\r\n            }\r\n\r\n            return true;\r\n        } else {\r\n            console.log({\"error\":\"setVerb is fail.\"});\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * property validation\r\n     * + activity property validation\r\n     * + profile dictionary의 activity에 존재 여부 validation\r\n     * @param objectActivityName \r\n     * @returns boolean\r\n     */\r\n    public validateActivityName(objectActivityName: string) {\r\n        return this.activityDict[0]['session'].hasOwnProperty(objectActivityName.toLocaleLowerCase())\r\n    }\r\n    \r\n    /**\r\n     * set property\r\n     * + validation 후 activity property 구성\r\n     * @param objectActivityName \r\n     * @param objectID \r\n     * @param definitionName \r\n     * @param description \r\n     * @returns boolean\r\n     */\r\n    public setActivity(objectActivityName: string, objectID: string, definitionName : any, description :object) {\r\n        objectActivityName = objectActivityName.toLowerCase();\r\n        objectID = objectID;\r\n        let objectType =  \"Activity\";\r\n\r\n        if(this.validateActivityName(objectActivityName)){\r\n            if(definitionName != {} || definitionName != undefined ||definitionName != '' ){\r\n                if(Object.keys(description).length === 0){\r\n                    this._activity={\r\n                        id : objectID,\r\n                        objectType : objectType,\r\n                        definition :{\r\n                            name : definitionName,\r\n                            type : this.activityDict[0]['session'][objectActivityName].type\r\n                        }\r\n                    }\r\n                } else {\r\n                    this._activity={\r\n                        id : objectID,\r\n                        objectType : objectType,\r\n                        definition :{\r\n                            name : definitionName,\r\n                            type : this.activityDict[0]['session'][objectActivityName].type,\r\n                            description : description\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return true;\r\n        } else {\r\n            console.log({\"error\":\"setActivity is fail.\"});\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * property validation\r\n     * + profile dictionary의 result에 존재 여부 validation\r\n     * @param result \r\n     * @returns boolean\r\n     */\r\n    public validateResult(result: object){\r\n        let flag = true;\r\n        \r\n        return flag;\r\n    }\r\n\r\n    /**\r\n     * set property\r\n     * + validation 후 result property 구성\r\n     * @param verbName \r\n     * @param result \r\n     * @param extension \r\n     * @returns boolean\r\n     */\r\n    public setResult(verbName :string, result : object, extension: object) {\r\n        let flag = false;\r\n        let ext = {};\r\n\r\n        if(!this.validateExtensionName(extension)){\r\n            return flag;\r\n        }\r\n\r\n        for(let key in extension){\r\n            if(this.resultExtensionsDict[0]['session'].hasOwnProperty(key)){\r\n                ext[this.resultExtensionsDict[0]['session'][key]] = extension[key];\r\n            }\r\n        }\r\n\r\n        if(result == undefined){\r\n            result = {};\r\n        }\r\n\r\n        this._result = result;\r\n        result[\"extensions\"] = ext;\r\n        flag = true;\r\n\r\n        return flag;        \r\n    }\r\n\r\n    /**\r\n     * property validation\r\n     * + profile dictionary의 context에 존재 여부 validation\r\n     * @param extension \r\n     * @returns boolean\r\n     */\r\n    public validateContextName(extension : object) {\r\n        if(this.validateExtensionName(extension)){\r\n            return true\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * set property\r\n     * + validation 후 context property 구성\r\n     * @param extension \r\n     * @returns boolean\r\n     */\r\n    public setContext(extension :object){\r\n        let ext = {};\r\n\r\n        if(!this.validateExtensionName(extension)){\r\n            return false;\r\n        }\r\n\r\n        for(let key in extension){\r\n            if(this.contextExtensionsDict[0]['session'].hasOwnProperty(key)){\r\n                ext[this.contextExtensionsDict[0]['session'][key]] = extension[key];\r\n            }\r\n        }\r\n\r\n        this._context = {\r\n            extensions : ext\r\n        }\r\n        \r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * property validation\r\n     * + profile dictionary의 extension에 존재 여부 validation\r\n     * @param extensions \r\n     * @returns boolean\r\n     */\r\n    public validateExtensionName(extensions : object) {\r\n        let flag = true;\r\n        //result extention\r\n        if(extensions.hasOwnProperty(\"attempt-count\")){\r\n            if(typeof extensions[\"attempt-count\"] !== \"number\"){\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"attended-time\")){\r\n            if (typeof extensions[\"attended-time\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"leaved-reason\")){\r\n            if (typeof extensions[\"leaved-reason\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"attended-reason\")){\r\n            if (typeof extensions[\"attended-reason\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        //context extention\r\n        if(extensions.hasOwnProperty(\"session-id\")){\r\n            if (typeof extensions[\"session-id\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"started-time\")){\r\n            if (typeof extensions[\"started-time\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"ended-time\")){\r\n            if (typeof extensions[\"ended-time\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"user-agent\")){\r\n            if (typeof extensions[\"user-agent\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"ip-address\")){\r\n            if (typeof extensions[\"ip-address\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        if(extensions.hasOwnProperty(\"host\")){\r\n            if (typeof extensions[\"host\"] !== \"string\") {\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        return flag;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + verb property return\r\n     * @returns _verb\r\n     */\r\n    public getCurrentVerb(){\r\n        return this._verb;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + activity property return\r\n     * @returns _activity\r\n     */\r\n    public getCurrentActivity(){\r\n        return this._activity;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + result property return\r\n     * @returns _result\r\n     */\r\n    public getCurrentResult(){\r\n        return this._result;\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + context property return\r\n     * @returns _context\r\n     */\r\n    public getCurrentContext(){\r\n        return this._context;\r\n    }\r\n    \r\n    /**\r\n     * property return\r\n     * + result extension property return\r\n     * @returns result extension\r\n     */\r\n    public getCurrentResultExtension(){\r\n        return this._result[\"extension\"];\r\n    }\r\n\r\n    /**\r\n     * property return\r\n     * + context extension property return\r\n     * @returns context extension\r\n     */\r\n    public getCurrentContextExtension(){\r\n        return this._context[\"extension\"];\r\n    }\r\n\r\n    /**\r\n     * property validation\r\n     * + result와 context property의 extension에 대한 validation\r\n     * @param profile \r\n     * @returns boolean\r\n     */\r\n    public validateProfile(profile:Profile): boolean {\r\n        let verb =  profile.verb.id;\r\n        let result = profile.result;\r\n        let context = profile.context;\r\n        let flag = false;\r\n\r\n        switch (verb) {\r\n            case this.verbDict[0]['session'][\"logged-in\"].id:\r\n                if(context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['session'][\"session-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['session'][\"started-time\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['session'][\"logged-out\"].id:\r\n                if(context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['session'][\"session-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['session'][\"ended-time\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['session'][\"timed-out\"].id:\r\n                if(context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['session'][\"session-id\"])){\r\n                    flag = true;\r\n                }\r\n                return flag;        \r\n            case this.verbDict[0]['session'][\"paused\"].id:\r\n                if(context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['session'][\"session-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['session'][\"ended-time\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['session'][\"resumed\"].id:\r\n                if(context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['session'][\"session-id\"]) &&\r\n                    context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['session'][\"started-time\"])\r\n                ){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['session'][\"attempted\"].id:\r\n                if(result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['session'][\"attempt-count\"])){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['session'][\"entered\"].id:\r\n                if(context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['session'][\"started-time\"])){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['session'][\"leaved\"].id:\r\n                if(context[\"extensions\"].hasOwnProperty(this.contextExtensionsDict[0]['session'][\"ended-time\"])){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n            case this.verbDict[0]['session'][\"attended\"].id:\r\n                if(result[\"extensions\"].hasOwnProperty(this.resultExtensionsDict[0]['session'][\"attended-time\"])){\r\n                    flag = true;\r\n                }\r\n                return flag;\r\n        }\r\n    }\r\n}","/**\r\n * verb별 profile dictionary\r\n * + verb, activity, result extensions, context extensions로 구성\r\n */\r\nexport class xAPIDictionary {\r\n    verb = [\r\n        {\r\n            \"media\": {\r\n                \"initialized\": {\r\n                    \"id\": \"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/initialized\",\r\n                    \"display\": {\r\n                        \"en-US\": \"initialized\"\r\n                    }\r\n                },\r\n                \"played\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/played\",\r\n                    \"display\": {\r\n                        \"en-US\": \"played\"\r\n                    }\r\n                },\r\n                \"paused\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/paused\",\r\n                    \"display\": {\r\n                        \"en-US\": \"paused\"\r\n                    }\r\n                },\r\n                \"seeked\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/seeked\",\r\n                    \"display\": {\r\n                        \"en-US\": \"seeked\"\r\n                    }\r\n                },\r\n                \"completed\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/completed\",\r\n                    \"display\": {\r\n                        \"en-US\": \"completed\"\r\n                    }\r\n                },\r\n                \"terminated\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/terminated\",\r\n                    \"display\": {\r\n                        \"en-US\": \"terminated\"\r\n                    }\r\n                },\r\n                \"interacted\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/media/1.0/verbs/interacted\",\r\n                    \"display\": {\r\n                        \"en-US\": \"interacted\"\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"session\": {\r\n                \"logged-in\": {\r\n                    \"id\": \"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/logged-in\",\r\n                    \"display\": {\r\n                        \"en-US\": \"logged-in\"\r\n                    }\r\n                },\r\n                \"logged-out\": {\r\n                    \"id\": \"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/logged-out\",\r\n                    \"display\": {\r\n                        \"en-US\": \"logged-out\"\r\n                    }\r\n                },\r\n                \"timed-out\": {\r\n                    \"id\": \"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/timed-out\",\r\n                    \"display\": {\r\n                        \"en-US\": \"timed-out\"\r\n                    }\r\n                },\r\n                \"paused\": {\r\n                    \"id\": \"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/paused\",\r\n                    \"display\": {\r\n                        \"en-US\": \"paused\"\r\n                    }\r\n                },\r\n                \"resumed\": {\r\n                    \"id\": \"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/resumed\",\r\n                    \"display\": {\r\n                        \"en-US\": \"resumed\"\r\n                    }\r\n                },\r\n                \"attempted\": {\r\n                    \"id\": \"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/attempted\",\r\n                    \"display\": {\r\n                        \"en-US\": \"attempted\"\r\n                    }\r\n                },\r\n                \"entered\": {\r\n                    \"id\": \"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/entered\",\r\n                    \"display\": {\r\n                        \"en-US\": \"entered\"\r\n                    }\r\n                },\r\n                \"leaved\": {\r\n                    \"id\": \"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/leaved\",\r\n                    \"display\": {\r\n                        \"en-US\": \"leaved\"\r\n                    }\r\n                },\r\n                \"attended\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/session/1.0/verbs/attended\",\r\n                    \"display\": {\r\n                        \"en-US\": \"attended\"\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"navigation\": {\r\n                \"moved-to\": {\r\n                    \"id\": \"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/moved-to\",\r\n                    \"display\": {\r\n                        \"en-US\": \"moved-to\"\r\n                    }\r\n                },\r\n                \"next\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/next\",\r\n                    \"display\": {\r\n                        \"en-US\": \"next\"\r\n                    }\r\n                },\r\n                \"previous\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/previous\",\r\n                    \"display\": {\r\n                        \"en-US\": \"previous\"\r\n                    }\r\n                },\r\n                \"clicked\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/clicked\",\r\n                    \"display\": {\r\n                        \"en-US\": \"clicked\"\r\n                    }\r\n                },\r\n                \"viewed\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/viewed\",\r\n                    \"display\": {\r\n                        \"en-US\": \"viewed\"\r\n                    }\r\n                },\r\n                \"popped-up\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/popped-up\",\r\n                    \"display\": {\r\n                        \"en-US\": \"popped-up\"\r\n                    }\r\n                },\r\n                \"opened\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/opened\",\r\n                    \"display\": {\r\n                        \"en-US\": \"opened\"\r\n                    }\r\n                },\r\n                \"closed\": {\r\n                    \"id\":  \"https://ubion.co.kr/xapi/profiles/navigation/1.0/verbs/closed\",\r\n                    \"display\": {\r\n                        \"en-US\": \"closed\"\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    ]\r\n    activityNames = [\r\n        {\r\n            \"media\": {\r\n                \"video\": {\r\n                    \"type\": \"https://ubion.co.kr/xapi/activity-type/video\", \r\n                    \"moreInfo\": \"https://ubion.co.kr/xapi/activity-type/video/info\"\r\n                },\r\n                \"audio\": {\r\n                    \"type\": \"https://ubion.co.kr/xapi/activity-type/audio\", \r\n                    \"moreInfo\": \"https://ubion.co.kr/xapi/activity-type/audio/info\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"session\": {\r\n                \"software-application\": {\r\n                    \"type\": \"https://ubion.co.kr/xapi/activity-type/software-application\", \r\n                    \"moreInfo\": \"https://ubion.co.kr/xapi/activity-type/software-application/info\"\r\n                },\r\n                \"group-activity\": {\r\n                    \"type\": \"https://ubion.co.kr/xapi/activity-type/group-activity\", \r\n                    \"moreInfo\": \"https://ubion.co.kr/xapi/activity-type/group-activity/info\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"navigation\": {\r\n                \"document\": {\r\n                    \"type\": \"https://ubion.co.kr/xapi/activity-type/document\", \r\n                    \"moreInfo\": \"https://ubion.co.kr/xapi/activity-type/document/info\"\r\n                },\r\n                \"webpage\": {\r\n                    \"type\": \"https://ubion.co.kr/xapi/activity-type/webpage\", \r\n                    \"moreInfo\": \"https://ubion.co.kr/xapi/activity-type/webpage/info\"\r\n                },\r\n                \"menu\": {\r\n                    \"type\": \"https://ubion.co.kr/xapi/activity-type/menu\", \r\n                    \"moreInfo\": \"https://ubion.co.kr/xapi/activity-type/menu/info\"\r\n                },\r\n                \"toc\": {\r\n                    \"type\": \"https://ubion.co.kr/xapi/activity-type/toc\", \r\n                    \"moreInfo\": \"https://ubion.co.kr/xapi/activity-type/toc/info\"\r\n                }\r\n            }\r\n        }\r\n    ]\r\n    extensions = {\r\n        \"result\": [\r\n            {\r\n                \"media\": {\r\n                    \"time\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/time\",\r\n                    \"time-from\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/time-from\",\r\n                    \"time-to\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/time-to\",\r\n                    \"progress\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/progress\",\r\n                    \"played-segments\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/result/played-segments\"\r\n                }\r\n            },\r\n            {\r\n                \"session\": {\r\n                    \"attempt-count\": \"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/result/attempt-count\",\r\n                    \"attended-time\": \"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/result/attended-time\",\r\n                    \"attended-reason\": \"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/result/attended-reason\",\r\n                    \"leaved-reason\": \"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/result/leaved-reason\"\r\n                }\r\n            },\r\n            {\r\n                \"navigation\": {\r\n                    \"current-index\": \"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/result/current-index\",\r\n                    \"total-index\": \"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/result/total-index\",\r\n                    \"view-started-time\": \"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/result/view-started-time\",\r\n                    \"view-ended-time\": \"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/result/view-ended-time\"\r\n                }\r\n            }\r\n        ],\r\n        \"context\": [\r\n            {\r\n                \"media\": {\r\n                    \"media-session-id\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/media-session-id\",\r\n                    \"cc-subtitle-enabled\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/cc-subtitle-enabled\",\r\n                    \"cc-subtitle-lang\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/cc-subbtitle-lang\",\r\n                    \"frame-rate\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/frame-rate\",\r\n                    \"full-screen\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/full-screen\",\r\n                    \"quality\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/quality\",\r\n                    \"screen-size\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/screen-size\",\r\n                    \"video-playback-size\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/video-playback-size\",\r\n                    \"speed\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/speed\",\r\n                    \"track\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/track\",\r\n                    \"user-agent\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/user-agent\",\r\n                    \"volume\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/volume\",\r\n                    \"length\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/length\",\r\n                    \"completion-threshold\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/completion-threshold\",\r\n                    \"tag\": \"https://ubion.co.kr/xapi/profiles/media/1.0/extensions/context/tag\"\r\n                }\r\n            },\r\n            {\r\n                \"session\": {\r\n                    \"session-id\": \"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/session-id\",\r\n                    \"started-time\": \"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/started-time\",\r\n                    \"ended-time\": \"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/ended-time\",\r\n                    \"user-agent\": \"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/user-agent\",\r\n                    \"ip-address\": \"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/ip-address\",\r\n                    \"host\": \"https://ubion.co.kr/xapi/profiles/session/1.0/extensions/context/host\"\r\n                }\r\n            },\r\n            {\r\n                \"navigation\": {\r\n                    \"target-id\": \"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/target-id\",\r\n                    \"target-type\": \"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/target-type\",\r\n                    \"target-name\": \"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/target-name\",\r\n                    \"referrer-id\": \"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/referrer-id\",\r\n                    \"referrer-type\": \"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/referrer-type\",\r\n                    \"referrer-name\": \"https://ubion.co.kr/xapi/profiles/navigation/1.0/extensions/context/referrer-name\"\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}","import { xAPIDictionary } from \"./xAPIDictionary\";\r\n\r\n/**\r\n * XapiProfile class\r\n * extend only\r\n */\r\nabstract class xAPIProfile{\r\n     /** XAPI property */\r\n    _verb : Verb;\r\n    _activity : Activity;\r\n    _result : Result;\r\n    _context : Extension;   \r\n    _extension : Extension;\r\n     /** XAPI NAMESPACE DICTIONARY */\r\n    dict = new xAPIDictionary();\r\n\r\n    /** \r\n     * Get Verb\r\n     * + profile dictionary에 해당 verb의 property가 있는지 validation\r\n     * + validation 후 setVerb를 호출하여 verb property 구성\r\n     * @param verbName Verb name\r\n     * @returns _verb or error object\r\n     */\r\n    getVerb(verbName: string) : Verb | object{\r\n        if(this.validateVerbName(verbName.toLowerCase())){\r\n            this.setVerb(verbName.toLowerCase());\r\n            return this._verb;\r\n        } else {\r\n            console.log({\"error\":\"setVerb is fail.\"});\r\n            return {\"error\":\"getVerb is fail.\"};\r\n        }        \r\n    }\r\n\r\n    /** \r\n     * Get Activity\r\n     * + profile dictionary에 해당 activity의 property가 있는지 validation\r\n     * + validation 후 setActivity를 호출하여 activity property 구성\r\n     * @param objectActivityName Activity Name ex) audio video\r\n     * @param objectId obejct Id ex) https://example.com/videos/b6a98d52-1e52-4d45-a14t-a15f97e63d25\r\n     * @param definitionName ex) Ocean Life\r\n     * @param description ex) {\"en-US\":\"some string awsome video\"}\r\n     * @return _activity\r\n     */\r\n    getActivity(objectActivityName: string, objectId: string, definitionName :string, description :object) {\r\n        if(this.validateActivityName(objectActivityName)){\r\n            this.setActivity(objectActivityName, objectId, definitionName, description);\r\n            \r\n            return this._activity;\r\n        } else {\r\n            console.log({\"error\":\"getActivity is fail.\"});\r\n            return {\"error\":\"getActivity is fail\"};\r\n        }\r\n    }\r\n\r\n    /** \r\n     * Get Result\r\n     * + profile dictionary에 해당 result의 property가 있는지 validation\r\n     * + validation 후 setResult를 호출하여 activity property 구성\r\n     * @param verbName verb name ex) played, initialized, etc...\r\n     * @param result result ex) score,completion,duration, etc...\r\n     * @param extension ex) length, time-from, time-to, etc...\r\n     * @return _result\r\n     */\r\n    getResult(verbName: string ,result : object, extension : object){\r\n        if(result != undefined){\r\n            if(this.validateResult(result)){\r\n                this.setResult(verbName.toLocaleLowerCase(), result, extension);\r\n                return this._result;\r\n            } else {\r\n                console.log({\"error\":\"getResult is fail.\"});\r\n                return {\"error\":\" setResult is fails\"};\r\n            }\r\n        } else {\r\n                this.setResult(verbName.toLocaleLowerCase(), result, extension);\r\n                return this._result;\r\n        }\r\n    }\r\n\r\n    /** \r\n     * Get Context\r\n     * + profile dictionary에 해당 context의 property가 있는지 validation\r\n     * + validation 후 setContext를 호출하여 activity property 구성\r\n     * @param extension extensions ex) time, time-to ,etc...\r\n     * @return _context\r\n     */\r\n    getContext(extension : object){\r\n        if(this.validateContextName(extension)){\r\n            this.setContext(extension);\r\n            return this._context;\r\n        } else {\r\n            console.log({\"error\":\"getContext is fail.\"});\r\n            return {'error': 'getContext fail'};\r\n        }\r\n    }\r\n    \r\n    /** \r\n     * Validation Verb Name\r\n     * + profile dictionary에 해당 verb의 property가 있는지 validation\r\n     * @param verbName verb name\r\n     * @return boolean\r\n     */\r\n    abstract validateVerbName(verbName: string): boolean;\r\n\r\n    /** \r\n     * Validation ActivityName\r\n     * + profile dictionary에 해당 activity의 property가 있는지 validation\r\n     * @param objectActivityName activityName\r\n     * @return boolean\r\n     */\r\n    abstract validateActivityName(objectActivityName: string): boolean;\r\n\r\n    /** \r\n     * Validation Result\r\n     * + profile dictionary에 해당 Result의 property가 있는지 validation\r\n     * @param result Result\r\n     * @return boolean\r\n     */\r\n    abstract validateResult(result: object) : boolean;\r\n\r\n    /** \r\n     * Validation Context extensions\r\n     * + profile dictionary에 해당 context의 property가 있는지 validation\r\n     * @param extension Context extensions\r\n     * @return boolean\r\n     */\r\n    abstract validateContextName(extension:object) : boolean;\r\n\r\n    /** \r\n     * Validation ExtensionName\r\n     * + profile dictionary에 해당 extension의 property가 있는지 validation\r\n     * @param extensions Extension \r\n     * @return boolean\r\n     */\r\n    abstract validateExtensionName(extensions:object) : boolean;\r\n\r\n    /** \r\n     * Set _verb\r\n     * + validation 완료 후 statement의 verb 구성\r\n     * @param extensions verbName \r\n     * @return boolean\r\n     */\r\n    abstract setVerb(verbName: string) : boolean;\r\n\r\n    /** \r\n     * Set _activity\r\n     * + validation 완료 후 statement의 activity 구성\r\n     * @param objectActivityName Activity Name ex) audio video\r\n     * @param objectId obejct Id ex) https://example.com/videos/b6a98d52-1e52-4d45-a14t-a15f97e63d25\r\n     * @param definitionName ex) Ocean Life\r\n     * @param description ex) {\"en-US\":\"some string awsome video\"}\r\n     * @return boolean\r\n     */\r\n    abstract setActivity(objectActivityName: string, objectID: string, definitionName :string, description :object) :boolean;\r\n    \r\n    /** \r\n     * Set _result\r\n     * + validation 완료 후 statement의 result 구성\r\n     * @param verbName verb name ex) played, initialized, etc...\r\n     * @param result result ex) score,completion,duration, etc...\r\n     * @param extension ex) length, time-from, time-to, etc...\r\n     * @return boolean\r\n     */\r\n    abstract setResult(verbName: string , result: object,extension:object) : boolean;\r\n    \r\n    /** \r\n     * Set _context\r\n     * + validation 완료 후 statement의 context 구성\r\n     * @param extension extensions ex) time, time-to ,etc...\r\n     * @return boolean\r\n     */\r\n    abstract setContext(extension : object) : boolean;\r\n    \r\n    /** \r\n     * Validation Profile\r\n     * + verb별 result와 context property의 extension property validation\r\n     * @param proifile statement object  {verb:Verb, activity: Activity, result: Result , context: Extension}\r\n     * @return boolean\r\n     */\r\n    abstract validateProfile(proifile :Profile): boolean;\r\n}\r\n\r\n/** verb type */\r\ninterface Verb  {id: string, display: Display};\r\n/** activity type */\r\ninterface Activity  {id: string, definition: Definition, objectType:string};\r\n/** result type */\r\ninterface Result  {score?: Score, success?: boolean, completion?: boolean, response?: string, duration?: string, extension?: Extension};\r\n/** profile type */\r\ninterface Profile  {verb:Verb, activity: Activity, result: Result , context: Extension};\r\n/** score type */\r\ninterface Score  {scaled?: number, raw?: number,min?:number,max?:number}\r\n/** extension type */\r\ninterface Extension  {};\r\n/** display type */\r\ninterface Display  {};\r\n/** definition type */\r\ninterface Definition  {name: object| string, description? : object, type: string, moreInfo?: string, extension?:object};\r\n\r\nexport{xAPIProfile,Verb,Result,Activity,Extension,Profile}","import {xAPIDictionary} from \"./xAPIDictionary\";\r\nimport {MediaProfile} from './Profiles/MediaProfile';\r\nimport {SessionProfile} from './Profiles/SessionProfile';\r\nimport {NavigationProfile} from './Profiles/NavigationProfile';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport Config from './Config';\r\n\r\n/**\r\n * XAPI Builder Class\r\n *  하위 function별 기능 정의\r\n *  + initializeXAPI : activity data 초기화 처리\r\n *  + validateActivityData : activity data validation (필수값과 format 체크)\r\n *  + setActor : XAPI의 actor property set\r\n *  + setContext : XAPI의 context property set\r\n *  + setXAPIData : profile별 action data set\r\n *  + getProfile : profile별 객체 생성 및 관리, verb, activity, context, result property set\r\n *  + validateActionData : action data validation (필수값과 format 체크)\r\n *  + getStatement : statement set\r\n *  + getConfigData : config data (LRS Connection info. 등) return\r\n *  + getUuid : uuid 생성 및 return\r\n *  + getStatementObj : set된 statement return\r\n */\r\nexport class xAPIBuilder {\r\n    /** status Code */\r\n    public RET_CODE: object;\r\n\r\n    /** XAPI property */\r\n    public Actor: ActorObj;\r\n    public Context: ContextObj;\r\n    public Attachment: AttachmentObj;\r\n    public Profile: object;    \r\n    \r\n    private _profiles : Array<object>;\r\n    private _actor : ActorObj;\r\n    private _context : ContextObj;\r\n    private _activity : object;\r\n    private _verb : VerbObj;\r\n    private _extensions : object;\r\n    private _result : ResultObj;\r\n    private _attachments : AttachmentObj;\r\n    private _statement : StatementObj;\r\n\r\n    /** 전달받는 Object Data */\r\n    private _activityData  : object;\r\n    private _actionData  : object;\r\n\r\n    /** 처리 결과 코드 */\r\n    private resultCode: object;\r\n\r\n    /** registration 초기 값 */\r\n    private registrationVal: string = uuidv4();\r\n\r\n    /** profile별 Obejct */\r\n    private mediaProfileObjInMember: object;\r\n    private sessionProfileObjInMember: object;\r\n    private navigationProfileObjInMember: object;\r\n\r\n    public emailRegExp = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n    constructor(){\r\n        this.RET_CODE = [\r\n            {code:200, status:\"SUCCESS\"},\r\n            {code:300, status:\"MISSING_PARAMETER_REQUIRED\", data:\"\"},\r\n            {code:310, status:\"MISMATCH_PARAMETER_FORMAT\", data:\"\"},\r\n            {code:404, status:\"NOT_FOUND\"},\r\n            {code:500, status:\"INTERNAL_ERROR\"}\r\n        ]\r\n        this._profiles = [];\r\n    }\r\n\r\n    /** \r\n     * XAPI initialize\r\n     * + activity data validation\r\n     * + statement 데이터 중 actor와 context 구성\r\n     * @param data activity data\r\n     * @returns resultCode\r\n     */\r\n    public initializeXAPI(data: object){\r\n        try {\r\n            if(data != null && data != {}){\r\n                this.resultCode = this.RET_CODE[0];\r\n                this.resultCode = this.validateActivityData(data);\r\n                if(this.resultCode['code'] == 200){\r\n                    this.setActor(data); // set actor Property\r\n                    this.setContext(data); // set context Property\r\n\r\n                }\r\n            }\r\n        } catch(e){\r\n            this.resultCode = this.RET_CODE[4];\r\n            console.log('Error:', e);\r\n        }\r\n        return this.resultCode;\r\n    }\r\n\r\n    /** \r\n     * Activity Data Validation\r\n     * + required property에 대한 validation\r\n     * + property의 존재 여부와 format 체크\r\n     * @param data activity data\r\n     * @returns resultCode\r\n     */\r\n    private validateActivityData(_activityData : object): object {\r\n        let resultCode = this.RET_CODE[0];\r\n\r\n        /** actor Property Validation */\r\n        if(!_activityData.hasOwnProperty('actor')){\r\n            resultCode = this.RET_CODE[1];\r\n            resultCode['data'] = \"parameter actor is missing\";\r\n        } else if(!_activityData['actor'].hasOwnProperty('id') && !_activityData['actor'].hasOwnProperty('account')){\r\n            resultCode = this.RET_CODE[1];\r\n            resultCode['data'] = \"parameter actor.id or actor.account is missing\";\r\n        } else if(_activityData['actor'].hasOwnProperty('account')){\r\n            if(!_activityData['actor']['account'].hasOwnProperty('homePage') || !_activityData['actor']['account'].hasOwnProperty('name')){\r\n                resultCode = this.RET_CODE[1];\r\n                resultCode['data'] = \"parameter actor.account.homePage or parameter actor.account.name is missing\";\r\n            } else {\r\n                if(!/^http[s]?:/.test(_activityData['actor']['account']['homePage'])){\r\n                    resultCode = this.RET_CODE[2];\r\n                    resultCode['data'] = \"parameter actor.account.homePage format is mismatch\";\r\n                }\r\n            }\r\n        } else if(_activityData['actor'].hasOwnProperty('id')){\r\n            if(!this.emailRegExp.test(_activityData['actor']['id']) && !/^[0-9a-f]{40}$/i.test(_activityData['actor']['id']) && !/^http[s]?:/.test(_activityData['actor']['id'])){\r\n                resultCode = this.RET_CODE[2];\r\n                resultCode['data'] = \"parameter actor.id format is mismatch\";\r\n            }\r\n        }\r\n\r\n        /** Context instructor Property validation */\r\n        if(_activityData.hasOwnProperty('instructor')){\r\n            if(_activityData['instructor'].hasOwnProperty('id')){\r\n                if(!this.emailRegExp.test(_activityData['instructor']['id']) && !/^[0-9a-f]{40}$/i.test(_activityData['instructor']['id']) && !/^http[s]?:/.test(_activityData['instructor']['id'])){\r\n                    resultCode = this.RET_CODE[2];\r\n                    resultCode['data'] = \"parameter instructor.id format is mismatch\";\r\n                }\r\n            } else if(_activityData['instructor'].hasOwnProperty('account')){\r\n                if(!_activityData['instructor']['account'].hasOwnProperty('homePage') || !_activityData['instructor']['account'].hasOwnProperty('name')){\r\n                    resultCode = this.RET_CODE[1];\r\n                    resultCode['data'] = \"parameter instructor.account.homePage or parameter instructor.account.name is missing\";\r\n                } else {\r\n                    if(!/^http[s]?:/.test(_activityData['instructor']['account']['homePage'])){\r\n                        resultCode = this.RET_CODE[2];\r\n                        resultCode['data'] = \"parameter instructor.account.homePage format is mismatch\";\r\n                    }\r\n                }\r\n            } else {\r\n                resultCode = this.RET_CODE[1];\r\n                resultCode['data'] = \"parameter instructor.id or instructor.account is missing\";\r\n            }\r\n        }\r\n\r\n        /** Context team Property validation */\r\n        if(_activityData.hasOwnProperty('team')){\r\n            if(!_activityData['team'].hasOwnProperty('member')){\r\n                resultCode = this.RET_CODE[1];\r\n                resultCode['data'] = \"parameter team.member is missing\";\r\n            }\r\n            if(_activityData['team'].hasOwnProperty('member')){\r\n                for(var item in _activityData['team']['member']){\r\n                    if(!_activityData['team']['member'][item].hasOwnProperty('id') && !_activityData['team']['member'][item].hasOwnProperty('account')){\r\n                        resultCode = this.RET_CODE[1];\r\n                        resultCode['data'] = \"parameter team.member.id or team.member.account is missing\"\r\n                    }\r\n                }\r\n\r\n                for(var item in _activityData['team']['member']){\r\n                    if(!_activityData['team']['member'][item].hasOwnProperty('id') && _activityData['team']['member'][item].hasOwnProperty('account')){\r\n                        if(!_activityData['team']['member'][item]['account'].hasOwnProperty('homePage') || !_activityData['team']['member'][item]['account'].hasOwnProperty('name')){\r\n                            resultCode = this.RET_CODE[1];\r\n                            resultCode['data'] = \"parameter team.member.account.homePage or name is missing\";\r\n                        }\r\n                    }\r\n                }\r\n\r\n                for(var item in _activityData['team']['member']){\r\n                    if(_activityData['team']['member'][item].hasOwnProperty('id')){\r\n                        if(!this.emailRegExp.test(_activityData['team']['member'][item]['id']) && !/^[0-9a-f]{40}$/i.test(_activityData['team']['member'][item]['id']) && !/^http[s]?:/.test(_activityData['team']['member'][item]['id'])){\r\n                            resultCode = this.RET_CODE[2];\r\n                            resultCode['data'] = \"parameter team.member format is mismatch\";\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /** Context parent Property validation */\r\n        if(_activityData.hasOwnProperty('parent')){\r\n            for(var item in _activityData['parent']){\r\n                if(!_activityData['parent'][item].hasOwnProperty('id') || !_activityData['parent'][item].hasOwnProperty('name')){\r\n                    resultCode = this.RET_CODE[1];\r\n                    resultCode['data'] = \"parameter parent.id or parent.name is missing\";\r\n                }\r\n            }\r\n        }\r\n        \r\n        /** Context grouping Property validation */\r\n        if(_activityData.hasOwnProperty('grouping')){\r\n            for(var item in _activityData['grouping']){\r\n                if(!_activityData['grouping'][item].hasOwnProperty('id') || !_activityData['grouping'][item].hasOwnProperty('name')){\r\n                    resultCode = this.RET_CODE[1];\r\n                    resultCode['data'] = \"parameter grouping.id or grouping.name is missing\";\r\n                }\r\n            }\r\n        }\r\n\r\n        /** Context category Property validation */\r\n        if(_activityData.hasOwnProperty('category')){\r\n            for(var item in _activityData['category']){\r\n                if(!_activityData['category'][item].hasOwnProperty('id') || !_activityData['category'][item].hasOwnProperty('name')){\r\n                    resultCode = this.RET_CODE[1];\r\n                    resultCode['data'] = \"parameter category.id or category.name is missing\";\r\n                }\r\n            }\r\n        }\r\n        \r\n        /** Context other Property validation */\r\n        if(_activityData.hasOwnProperty('other')){\r\n            for(var item in _activityData['other']){\r\n                if(!_activityData['other'][item].hasOwnProperty('id') || !_activityData['other'][item].hasOwnProperty('name')){\r\n                    resultCode = this.RET_CODE[1];\r\n                    resultCode['data'] = \"parameter other.id or other.name is missing\";\r\n                }\r\n            }\r\n        }\r\n\r\n        this._activityData = _activityData;\r\n        \r\n        return resultCode;\r\n    }\r\n\r\n    /**\r\n     * statement의 actor property 구성\r\n     * + validation 처리 후 activity data로 actor property set\r\n     * @param _activityData\r\n     */\r\n    private setActor(_activityData: object){\r\n        let key = \"\";\r\n        let value = \"\";\r\n        let account = {};\r\n        let memberArray = [];\r\n        let memberObj = {};\r\n\r\n        this._actor = {\r\n            objectType: \"Agent\",\r\n            name: \"\"\r\n        }\r\n\r\n        let actorNameValue = _activityData['actor']['name']\r\n        this._actor['name'] = actorNameValue;\r\n\r\n        /** set actor id Property */\r\n        if(_activityData['actor'].hasOwnProperty('id')){\r\n            if(this.emailRegExp.test(_activityData['actor']['id'])){\r\n                value = \"mailto:\" + _activityData['actor']['id'];\r\n                this._actor['mbox'] = value;\r\n            } else if(/^[0-9a-f]{40}$/i.test(_activityData['actor']['id']) ){\r\n                value = _activityData['actor']['id'];\r\n                this._actor['mbox_sha1sum'] = value;\r\n            } else if(/^http[s]?:/.test('id')){\r\n                value = _activityData['actor']['id'];\r\n                this._actor['openid'] = value;\r\n            }\r\n        /** set actor account Property */\r\n        } else if(_activityData['actor'].hasOwnProperty('account')){\r\n            key = \"account\";\r\n            account = _activityData['actor']['account'];\r\n            this._actor[key] = account;\r\n        }\r\n\r\n        /** set actor team Property */\r\n        if(_activityData['actor'].hasOwnProperty('team')){\r\n            this._actor['objectType'] =\"Group\";\r\n\r\n            for(var item in _activityData['actor']['team']['member']){\r\n                memberObj = {\r\n                    name: {}\r\n                };\r\n                memberObj['objectType'] = \"Agent\";\r\n                if(_activityData['actor']['team']['member'][item].hasOwnProperty('id')){\r\n                    let teamMemberNamevalue = item['name']\r\n                    \r\n                    if(this.emailRegExp.test(_activityData['actor']['team']['member'][item]['id'])){\r\n                        value = \"mailto:\" + _activityData['actor']['team']['member'][item]['id'];\r\n                        memberObj['mbox'] = value;\r\n                        memberObj['name'] = teamMemberNamevalue;\r\n                    } else if(/^[0-9a-f]{40}$/i.test(_activityData['actor']['team']['member'][item]['id']) ){\r\n                        value = _activityData['actor']['team']['member'][item]['id'];\r\n                        memberObj['mbox_sha1sum'] = value;\r\n                        memberObj['name'] = teamMemberNamevalue;\r\n                    } else if(/^http[s]?:/.test('id')){\r\n                        value = _activityData['actor']['team']['member'][item]['id'];\r\n                        memberObj['openid'] = value;\r\n                        memberObj['name'] = teamMemberNamevalue;\r\n                    }\r\n                } else if(_activityData['actor']['team']['member'][item].hasOwnProperty('account')){\r\n                    let accountNameValue = _activityData['actor']['team']['member'][item]['account']['name']\r\n                    \r\n                    key = \"account\";\r\n                    account = _activityData['actor']['team']['member'][item]['account'];\r\n                    memberObj[key] = account;\r\n                    memberObj['name'] = accountNameValue;\r\n                }\r\n\r\n                memberArray.push(memberObj);\r\n            }\r\n            \r\n            key = \"member\";\r\n            this._actor[key] = memberArray;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * statement의 context property 구성\r\n     * + validation 처리 후 activity data로 context property set\r\n     * @param _activityData\r\n     */\r\n    private setContext(_activityData: object){\r\n        let key = \"\";\r\n        let value = \"\";\r\n        let account = {};\r\n        let instructorObj = {};\r\n        let teamObj = {};\r\n        let memberArray = [];\r\n        let memberObj = {};\r\n        let contextActivitiesObj = {};\r\n        this._context = {};\r\n        \r\n        /** sessionId가 있는 경우 registration data를 sessionId로 교체 */\r\n        if(!_activityData.hasOwnProperty('sessionId')){\r\n            this._context['registration'] = this.registrationVal;\r\n        } else {\r\n            this._context['registration'] = _activityData['sessionId'];\r\n        }\r\n\r\n        /** set context instructor Property */\r\n        if(_activityData.hasOwnProperty('instructor')){\r\n            instructorObj = {\r\n                objectType: \"Agent\",\r\n                name: \"\"\r\n            }\r\n\r\n            if(_activityData['instructor'].hasOwnProperty('name')){\r\n                let instructorNameValue = _activityData['instructor']['name'];\r\n                instructorObj['name'] = instructorNameValue;\r\n            }\r\n\r\n            if(_activityData['instructor'].hasOwnProperty('id')){\r\n                if(this.emailRegExp.test(_activityData['instructor']['id'])){\r\n                    value = \"mailto:\" + _activityData['instructor']['id'];\r\n                    instructorObj['mbox'] = value;\r\n                } else if(/^[0-9a-f]{40}$/i.test(_activityData['instructor']['id']) ){\r\n                    value = _activityData['instructor']['id'];\r\n                    instructorObj['mbox_sha1sum'] = value;\r\n                } else {\r\n                    value = _activityData['instructor']['id'];\r\n                    instructorObj['openid'] = value;\r\n                }\r\n            } else if(_activityData['instructor'].hasOwnProperty('account')){\r\n                key = \"account\";\r\n                account = _activityData['instructor']['account'];\r\n                instructorObj[key] = account;\r\n            }\r\n\r\n            key = \"instructor\";\r\n            this._context[key] = instructorObj;\r\n        }\r\n\r\n        /** set context team Property */\r\n        if(_activityData.hasOwnProperty('team')){\r\n            teamObj = {\r\n                objectType: \"Group\",\r\n                name: {}\r\n            };\r\n\r\n            let teamNameValue = _activityData['team']['name'];\r\n            teamObj['name'] = teamNameValue;\r\n\r\n            for(var item in _activityData['team']['member']){\r\n                memberObj = {\r\n                    name: {}\r\n                };\r\n                let teamMemberNameValue = _activityData['team']['member'][item]['name'];\r\n\r\n                if(_activityData['team']['member'][item].hasOwnProperty('id')){\r\n                    if(this.emailRegExp.test(_activityData['team']['member'][item]['id'])){\r\n                        value = \"mailto:\" + _activityData['team']['member'][item]['id'];\r\n                        memberObj['mbox'] = value;\r\n                        memberObj['name'] = teamMemberNameValue;\r\n                    } else if(/^[0-9a-f]{40}$/i.test(_activityData['team']['member'][item]['id']) ){\r\n                        value = _activityData['team']['member'][item]['id'];\r\n                        memberObj['mbox_sha1sum'] = value;\r\n                        memberObj['name'] = teamMemberNameValue;\r\n                    } else {\r\n                        value = _activityData['team']['member'][item]['id'];\r\n                        memberObj['openid'] = value;\r\n                        memberObj['name'] = teamMemberNameValue;\r\n                    }\r\n                } else if(_activityData['team']['member'][item].hasOwnProperty('account')){\r\n                    let accountNameKey = _activityData['team']['member'][item]['name']['language'];\r\n                    let accountNameValue = _activityData['team']['member'][item]['name']['value'];\r\n                    \r\n                    key = \"account\";\r\n                    account = _activityData['team']['member'][item]['account'];\r\n                    memberObj[key] = account;\r\n                    memberObj['name'][accountNameKey] = accountNameValue;\r\n                    memberObj['name'] = teamMemberNameValue;\r\n                }\r\n                memberArray.push(memberObj);\r\n            }\r\n            \r\n            teamObj['member'] = memberArray;\r\n\r\n            key = \"team\";\r\n            this._context[key] = teamObj;\r\n        }\r\n\r\n        /** set context parent Property */\r\n        if(_activityData.hasOwnProperty('parent')){\r\n            let parentArray = [];\r\n\r\n            for(var item in _activityData['parent']){\r\n                let parentNameKey = _activityData['parent'][item]['name']['language'];\r\n                let parentNameValue = _activityData['parent'][item]['name']['value'];\r\n    \r\n                let parentDescriptionKey = _activityData['parent'][item]['description']['language'];\r\n                let parentDescriptionValue = _activityData['parent'][item]['description']['value'];\r\n                \r\n                let parentArrayObj = {\r\n                    id: _activityData['parent'][item]['id'],\r\n                    objectType: \"Activity\",\r\n                    definition: {\r\n                        name: {},\r\n                        description: {}\r\n                    }\r\n                };\r\n                \r\n                parentArrayObj['definition']['name'][parentNameKey] = parentNameValue;\r\n                parentArrayObj['definition']['description'][parentDescriptionKey] = parentDescriptionValue;\r\n\r\n                parentArray.push(parentArrayObj);\r\n            }\r\n            \r\n            key = \"parent\";\r\n            contextActivitiesObj[key] = parentArray;\r\n        }\r\n\r\n        /** set context grouping Property */\r\n        if(_activityData.hasOwnProperty('grouping')){\r\n            let groupingArray = [];\r\n\r\n            for(var item in _activityData['grouping']){\r\n                let groupingNameKey = _activityData['grouping'][item]['name']['language'];\r\n                let groupingNameValue = _activityData['grouping'][item]['name']['value'];\r\n    \r\n                let groupingDescriptionKey = _activityData['grouping'][item]['description']['language'];\r\n                let groupingDescriptionValue = _activityData['grouping'][item]['description']['value'];\r\n                \r\n                let groupingArrayObj = {\r\n                    id: _activityData['grouping'][item]['id'],\r\n                    objectType: \"Activity\",\r\n                    definition: {\r\n                        name: {},\r\n                        description: {}\r\n                    }\r\n                };\r\n                \r\n                groupingArrayObj['definition']['name'][groupingNameKey] = groupingNameValue;\r\n                groupingArrayObj['definition']['description'][groupingDescriptionKey] = groupingDescriptionValue;\r\n\r\n                groupingArray.push(groupingArrayObj);\r\n            }\r\n\r\n            key = \"grouping\";\r\n            contextActivitiesObj[key] = groupingArray;\r\n        }\r\n\r\n        /** set context other Property */\r\n        if(_activityData.hasOwnProperty('other')){\r\n            let otherArray = [];\r\n\r\n            for(var item in _activityData['other']){\r\n                let otherNameKey = _activityData['other'][item]['name']['language'];\r\n                let otherNameValue = _activityData['other'][item]['name']['value'];\r\n    \r\n                let otherDescriptionKey = _activityData['other'][item]['description']['language'];\r\n                let otherDescriptionValue = _activityData['other'][item]['description']['value'];\r\n                \r\n                let otherArrayObj = {\r\n                    id: _activityData['other'][item]['id'],\r\n                    objectType: \"Activity\",\r\n                    definition: {\r\n                        name: {},\r\n                        description: {}\r\n                    }\r\n                };\r\n                \r\n                otherArrayObj['definition']['name'][otherNameKey] = otherNameValue;\r\n                otherArrayObj['definition']['description'][otherDescriptionKey] = otherDescriptionValue;\r\n\r\n                otherArray.push(otherArrayObj);\r\n            }\r\n\r\n            key = \"other\";\r\n            contextActivitiesObj[key] = otherArray;\r\n        }\r\n        \r\n        if(Object.keys(contextActivitiesObj).length !== 0){\r\n            this._context['contextActivities'] = contextActivitiesObj;\r\n        }\r\n\r\n        /** set context platform Property */\r\n        if(_activityData.hasOwnProperty('platform')) {\r\n            this._context['platform'] = _activityData['platform'];\r\n        }\r\n    }\r\n\r\n    /** \r\n     * profile별 action data 구성\r\n     * + profile의 getProfile과 getStatement을 호출하여 statement 구성\r\n     * + profile의 validateProfile을 호출하여 statement의 property들을 검증\r\n     * @param _actionData\r\n     * @returns resultCode\r\n     */\r\n    public setXAPIData(_actionData: object): object {\r\n        let dict = new xAPIDictionary();\r\n        let verbDictSession = dict.verb.filter(data => data.hasOwnProperty('session'));\r\n        let verbDictNavigation = dict.verb.filter(data => data.hasOwnProperty('navigation'));\r\n        let verbDictMedia = dict.verb.filter(data => data.hasOwnProperty('media'));\r\n\r\n        this.resultCode = this.validateActionData(_actionData);\r\n        if(this.resultCode['code'] == 200){\r\n            this.getProfile(_actionData);\r\n            this.getStatement(this._actor, this._verb, this._activity);\r\n\r\n            this._statement['context'] = this._context;\r\n            this._statement['context']['extensions'] = this._extensions['extensions'];\r\n            \r\n            this.setAttachments(_actionData);\r\n            \r\n            if(this._result != undefined){\r\n                let resultKey = 'result';\r\n                this._statement[resultKey] = this._result;\r\n            }\r\n\r\n            this._statement['timestamp'] = new Date().toISOString();\r\n            this._statement['version'] = Config.version;\r\n            \r\n            switch (this._statement['verb']['id']) {\r\n                case verbDictSession[0]['session'][\"logged-in\"].id:\r\n                case verbDictSession[0]['session'][\"logged-out\"].id:\r\n                case verbDictSession[0]['session'][\"timed-out\"].id:\r\n                case verbDictSession[0]['session'][\"paused\"].id:\r\n                case verbDictSession[0]['session'][\"resumed\"].id:\r\n                case verbDictSession[0]['session'][\"attempted\"].id:\r\n                case verbDictSession[0]['session'][\"entered\"].id:\r\n                case verbDictSession[0]['session'][\"leaved\"].id:\r\n                case verbDictSession[0]['session'][\"attended\"].id:\r\n                    if(this.sessionProfileObjInMember !== undefined && Object.keys(this.sessionProfileObjInMember[0])[0] == 'session') {\r\n                        if(this.sessionProfileObjInMember[0]['session'].validateProfile(this._statement)){\r\n                            this.resultCode = this.RET_CODE[0];\r\n                        } else {\r\n                            this.resultCode = this.RET_CODE[1];\r\n                            this.resultCode['data'] = \"validation statement Fail\";\r\n                        }\r\n                    }\r\n                    break;\r\n\r\n                case verbDictNavigation[0]['navigation'][\"moved-to\"].id:\r\n                case verbDictNavigation[0]['navigation'][\"next\"].id:\r\n                case verbDictNavigation[0]['navigation'][\"previous\"].id:\r\n                case verbDictNavigation[0]['navigation'][\"clicked\"].id:\r\n                case verbDictNavigation[0]['navigation'][\"viewed\"].id:\r\n                case verbDictNavigation[0]['navigation'][\"popped-up\"].id:\r\n                case verbDictNavigation[0]['navigation'][\"opened\"].id:\r\n                case verbDictNavigation[0]['navigation'][\"closed\"].id:\r\n                    if(this.navigationProfileObjInMember !== undefined && Object.keys(this.navigationProfileObjInMember[0])[0] == 'navigation') {\r\n                        if(this.navigationProfileObjInMember[0]['navigation'].validateProfile(this._statement)){\r\n                            this.resultCode = this.RET_CODE[0];\r\n                        } else {\r\n                            this.resultCode = this.RET_CODE[1];\r\n                            this.resultCode['data'] = \"validation statement Fail\";\r\n                        }\r\n                    }\r\n                    break;\r\n                \r\n                case verbDictMedia[0]['media'].initialized.id:\r\n                case verbDictMedia[0]['media'].played.id:\r\n                case verbDictMedia[0]['media'].paused.id:\r\n                case verbDictMedia[0]['media'].seeked.id:\r\n                case verbDictMedia[0]['media'].completed.id:\r\n                case verbDictMedia[0]['media'].terminated.id:\r\n                case verbDictMedia[0]['media'].interacted.id:\r\n                    if(this.mediaProfileObjInMember !== undefined && Object.keys(this.mediaProfileObjInMember[0])[0] == 'media') {\r\n                        if(this.mediaProfileObjInMember[0]['media'].validateProfile(this._statement)){\r\n                            this.resultCode = this.RET_CODE[0];\r\n                        } else {\r\n                            this.resultCode = this.RET_CODE[1];\r\n                            this.resultCode['data'] = \"validation statement Fail\";\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return this.resultCode;\r\n    }\r\n\r\n    /**\r\n     * 데이터 제공\r\n     * + 호출 시 config 설정 데이터 return\r\n     * @returns configData\r\n     */\r\n    public getConfigData(){\r\n        let configData = {\r\n            endpoint: Config.endpoint,\r\n            username: Config.key,\r\n            password: Config.secret\r\n        }\r\n        \r\n        return configData;\r\n    }\r\n\r\n    /**\r\n     * 데이터 제공\r\n     * + 호출 시 전체 statement return\r\n     * @returns _statement\r\n    */\r\n    public getStatementObj(){\r\n        return this._statement;\r\n    }\r\n\r\n    /**\r\n     * Action Data Validation\r\n     * + required property에 대한 validation\r\n     * + property의 존재 여부와 format 체크\r\n     * @param _actionData \r\n     * @returns resultCode\r\n     */\r\n    private validateActionData(_actionData): object {\r\n        let resultCode = this.RET_CODE[0];\r\n\r\n        if(!_actionData.hasOwnProperty('object') && !_actionData.hasOwnProperty['object']('type') && !_actionData.hasOwnProperty['object']('id')){\r\n            resultCode = this.RET_CODE[1];\r\n            resultCode['data'] = \"parameter object.type or object.id is missing\";\r\n        } else if(!_actionData.hasOwnProperty('verb')){\r\n            resultCode = this.RET_CODE[1];\r\n            resultCode['data'] = \"parameter verb is missing\";\r\n        }\r\n\r\n        return resultCode;\r\n    }\r\n    \r\n    /**\r\n     * profile별로 object life cycle 관리\r\n     * + profile의 object 존재 여부 체크 후 object 생성 관리\r\n     * + profile의 getVerb, getActivity, getContext, getResult를 호출하여 XAPI property 구성\r\n     * @param _actionData \r\n     * @returns _profiles\r\n     */\r\n    private getProfile(_actionData): object {\r\n        let profilesObj = {};\r\n\r\n        try {\r\n            switch (_actionData['object']['type'].toLowerCase()){\r\n                /** media profile */\r\n                case 'video':\r\n                case 'audio':\r\n                    if(this._profiles.filter(data => data.hasOwnProperty('media')).length == 0){\r\n                        let mediaProfileObj = new MediaProfile();\r\n                        profilesObj['media'] = mediaProfileObj;\r\n                        this._profiles.push(profilesObj);\r\n                    }\r\n                    \r\n                    this.mediaProfileObjInMember = this._profiles.filter(data => data.hasOwnProperty('media'));\r\n\r\n                    let getMediaVerbReturn = this.mediaProfileObjInMember[0]['media'].getVerb(_actionData['verb']);\r\n                    this._verb = getMediaVerbReturn;\r\n\r\n                    let getMediaActivityReturn = this.mediaProfileObjInMember[0]['media'].getActivity(\r\n                        _actionData['object']['type'],\r\n                        _actionData['object']['id'],\r\n                        _actionData['object']['name'],\r\n                        _actionData['object']['description']\r\n                        );\r\n                    \r\n                    this._activity = getMediaActivityReturn;\r\n                    \r\n                    let getMediaExtensionsReturn = this.mediaProfileObjInMember[0]['media'].getContext(_actionData['extension']);\r\n\r\n                    this._extensions = getMediaExtensionsReturn;\r\n                    \r\n                    if(_actionData['result'] != undefined){\r\n                        let getMediaResultReturn = this.mediaProfileObjInMember[0]['media'].getResult(\r\n                            _actionData['verb'],\r\n                            _actionData['result'],\r\n                            _actionData['extension']\r\n                            );\r\n                        if(getMediaResultReturn != undefined){\r\n                            this._result = getMediaResultReturn;\r\n                        }\r\n                    } else if(_actionData['verb'] != 'initialized'){\r\n                        let getMediaResultReturn = this.mediaProfileObjInMember[0]['media'].getResult(\r\n                            _actionData['verb'],\r\n                            _actionData['result'],\r\n                            _actionData['extension']\r\n                            );\r\n                        \r\n                        if(getMediaResultReturn != undefined){\r\n                            this._result = getMediaResultReturn;\r\n                        }\r\n                    }\r\n                    \r\n                    break;\r\n                \r\n                /** session profile */\r\n                case 'software-application':\r\n                case 'group-activity':\r\n                    if(this._profiles.filter(data => data.hasOwnProperty('session')).length == 0){\r\n                        let sessionProfileObj = new SessionProfile();\r\n                        profilesObj['session'] = sessionProfileObj;\r\n                        this._profiles.push(profilesObj);\r\n                    }\r\n                    \r\n                    this.sessionProfileObjInMember = this._profiles.filter(data => data.hasOwnProperty('session'));\r\n                    \r\n                    let getSessionVerbReturn = this.sessionProfileObjInMember[0]['session'].getVerb(_actionData['verb']);\r\n                    this._verb = getSessionVerbReturn;\r\n\r\n                    let getSessionActivityReturn = this.sessionProfileObjInMember[0]['session'].getActivity(\r\n                        _actionData['object']['type'],\r\n                        _actionData['object']['id'],\r\n                        _actionData['object']['name'],\r\n                        _actionData['object']['description']\r\n                        );\r\n                    \r\n                    this._activity = getSessionActivityReturn;\r\n                    \r\n                    let getSessionExtensionsReturn = this.sessionProfileObjInMember[0]['session'].getContext(_actionData['extension']);\r\n\r\n                    this._extensions = getSessionExtensionsReturn;\r\n                    \r\n                    if(_actionData['result'] != undefined){\r\n                        let getSessionResultReturn = this.sessionProfileObjInMember[0]['session'].getResult(\r\n                            _actionData['verb'],\r\n                            _actionData['result'],\r\n                            _actionData['extension']\r\n                            );\r\n                        if(getSessionResultReturn != undefined){\r\n                            this._result = getSessionResultReturn;\r\n                        }\r\n                    } else {\r\n                        let getSessionResultReturn = this.sessionProfileObjInMember[0]['session'].getResult(\r\n                            _actionData['verb'],\r\n                            _actionData['result'],\r\n                            _actionData['extension']\r\n                            );\r\n                        \r\n                        if(getSessionResultReturn != undefined){\r\n                            this._result = getSessionResultReturn;\r\n                        }\r\n                    }\r\n                    \r\n                    break;\r\n                \r\n                /** navigation profile */\r\n                case 'document':\r\n                case 'webpage':\r\n                case 'menu':\r\n                case 'toc':\r\n                    if(this._profiles.filter(data => data.hasOwnProperty('navigation')).length == 0){\r\n                        let navigationProfileObj = new NavigationProfile();\r\n                        profilesObj['navigation'] = navigationProfileObj;\r\n                        this._profiles.push(profilesObj);\r\n                    }\r\n                    \r\n                    this.navigationProfileObjInMember = this._profiles.filter(data => data.hasOwnProperty('navigation'));\r\n\r\n                    let getNavigationVerbReturn = this.navigationProfileObjInMember[0]['navigation'].getVerb(_actionData['verb']);\r\n                    this._verb = getNavigationVerbReturn;\r\n\r\n                    let getNavigationActivityReturn = this.navigationProfileObjInMember[0]['navigation'].getActivity(\r\n                        _actionData['object']['type'],\r\n                        _actionData['object']['id'],\r\n                        _actionData['object']['name'],\r\n                        _actionData['object']['description']\r\n                        );\r\n                    \r\n                    this._activity = getNavigationActivityReturn;\r\n                    \r\n                    let getNavigationExtensionsReturn = this.navigationProfileObjInMember[0]['navigation'].getContext(_actionData['extension']);\r\n\r\n                    this._extensions = getNavigationExtensionsReturn;\r\n                    \r\n                    if(_actionData['result'] != undefined){\r\n                        let getNavigationResultReturn = this.navigationProfileObjInMember[0]['navigation'].getResult(\r\n                            _actionData['verb'],\r\n                            _actionData['result'],\r\n                            _actionData['extension']\r\n                            );\r\n                        if(getNavigationResultReturn != undefined){\r\n                            this._result = getNavigationResultReturn;\r\n                        }\r\n                    } else {\r\n                        let getNavigationResultReturn = this.navigationProfileObjInMember[0]['navigation'].getResult(\r\n                            _actionData['verb'],\r\n                            _actionData['result'],\r\n                            _actionData['extension']\r\n                            );\r\n                        \r\n                        if(getNavigationResultReturn != undefined){\r\n                            this._result = getNavigationResultReturn;\r\n                        }\r\n                    }\r\n                    \r\n                    break;\r\n            }\r\n        } catch(e){\r\n            this.resultCode = this.RET_CODE[4];\r\n            console.log('Error:', e);\r\n        }\r\n\r\n        return this._profiles;\r\n    }\r\n\r\n    /**\r\n     * statement 구성\r\n     * + statement 중 actor, verb, object property 구성\r\n     * @param _actor \r\n     * @param _verb \r\n     * @param _activity \r\n     * @returns _statement\r\n     */\r\n    private getStatement(_actor, _verb, _activity): object {\r\n        let statementObj: StatementObj = {\r\n            id: \"\",\r\n            actor: {\r\n                objectType: \"Agent\",\r\n                name: \"\",\r\n                mbox: \"\"\r\n            },\r\n            verb: {\r\n                id: \"\",\r\n                display: {}\r\n            },\r\n            object: {\r\n                id:\"\",\r\n                objectType: \"Activity\"\r\n            }\r\n        };\r\n        \r\n        statementObj['actor'] = _actor;\r\n        statementObj['verb'] = _verb;\r\n        statementObj['object'] = _activity;\r\n\r\n        this._statement = statementObj;\r\n\r\n        return this._statement;\r\n    }\r\n\r\n    /**\r\n     * statement 구성\r\n     * + statement 중 attachments property 구성\r\n     * @param _actionData \r\n     * @returns _statement\r\n     */\r\n    private setAttachments(_actionData): object {\r\n        if(_actionData.hasOwnProperty('attachments')){\r\n            this._statement = _actionData['attachments'];\r\n        }\r\n\r\n        return this._statement;\r\n    }\r\n\r\n    /**\r\n     * uuid 생성\r\n     * + 호출 시 생성된 uuid return\r\n     * @returns uuid\r\n     */\r\n    public getUuid(){\r\n        return uuidv4();\r\n    }\r\n}\r\n\r\n/** actor type */\r\ninterface ActorObj {\r\n    objectType: string,\r\n    name: string,\r\n    member?: MemberObj\r\n    mbox?: string,\r\n    mbox_sha1sum?:string,\r\n    openid?: string,\r\n    account?: {\r\n        homePage: string,\r\n        name: object\r\n    }\r\n}\r\n\r\n/** member type */\r\ninterface MemberObj {\r\n    objectType: string,\r\n    name: string,\r\n    mbox?: string,\r\n    mbox_sha1sum?:string,\r\n    openid?: string,\r\n    account?: {\r\n        homePage: string,\r\n        name: object\r\n    }\r\n}\r\n\r\n/** verb type */\r\ninterface VerbObj {\r\n    id: string,\r\n    display: object //Language Map\r\n}\r\n\r\n/** object type */\r\ninterface ObjectObj { //The Object of a Statement can be an Activity, Agent/Group, SubStatement, or Statement\r\n    objectType?: string,\r\n    id: string,\r\n    definition?: {\r\n        name?: object,\r\n        description?: object, //Language Map\r\n        type?: string,\r\n        moreInfo?: string,\r\n        extensions?: object\r\n    }\r\n}\r\n\r\n/** result type */\r\ninterface ResultObj {\r\n    score?: {\r\n        scaled?: number,\r\n        raw?: number,\r\n        min?: number,\r\n        max?: number\r\n    },\r\n    success?: boolean,\r\n    completion?: boolean,\r\n    response?: string,\r\n    duration?: string,\r\n    extensions?: object\r\n}\r\n\r\n/** context type */\r\ninterface ContextObj {\r\n    registration?: string,\r\n    instructor?: ActorObj,\r\n    team?: MemberObj,\r\n    contextActivities?: ContextActivitiesObj,\r\n    revision?: string,\r\n    platform?: string,\r\n    language?: string,\r\n    statement?: string,\r\n    extensions?: object\r\n}\r\n\r\n/** contextActivities type */\r\ninterface ContextActivitiesObj {\r\n    parent?: ContextActivitiesTypesObj,\r\n    grouping?: ContextActivitiesTypesObj,\r\n    category?: ContextActivitiesTypesObj,\r\n    other?: ContextActivitiesTypesObj\r\n}\r\n\r\n/** contextActivities child type */\r\ninterface ContextActivitiesTypesObj {\r\n    id?: string,\r\n    objectType?: string,\r\n    definition?: {\r\n        name: object,\r\n        description: object, //Language Map\r\n        type?: string\r\n    }\r\n}\r\n\r\n/** attachment type */\r\ninterface AttachmentObj {\r\n    usageType: string,\r\n    display: object //Language Map\r\n    description?: object,\r\n    contentType: string,\r\n    length: number,\r\n    sha2: string\r\n    fileUrl?: string\r\n}\r\n\r\n/** statement type */\r\ninterface StatementObj {\r\n    id: string,\r\n    actor: ActorObj,\r\n    verb: VerbObj,\r\n    object: ObjectObj,\r\n    result?: ResultObj,\r\n    context?: ContextObj,\r\n    timestamp?: string,\r\n    version?: string,\r\n    attachments?: AttachmentObj\r\n}","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","export { default as v1 } from './v1.js';\nexport { default as v3 } from './v3.js';\nexport { default as v4 } from './v4.js';\nexport { default as v5 } from './v5.js';\nexport { default as NIL } from './nil.js';\nexport { default as version } from './version.js';\nexport { default as validate } from './validate.js';\nexport { default as stringify } from './stringify.js';\nexport { default as parse } from './parse.js';","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(304);\n"],"sourceRoot":""}