<!DOCTYPE html>
<html>
	<head>
    <meta charset="utf-8">
		<script src="../lib/cryptojs_v3.1.2.js"></script>
		<script src="../lib/utf8-text-encoding.js"></script>
		<!-- <script src="../src/activitytypes.js"></script>
		<script src="../src/verbs.js"></script> -->
		<script src="../src/xapiwrapper.js"></script>
		<script src="../src/xapistatement.js"></script>
		<!-- <script src="../src/xapi-util.js"></script>
		<script src="../src/xapi-launch.js"></script> -->
		<script src="../../xapi-profile/media-profile.js"></script>
		<script src="../../xapi-profile/media-profile copy.js"></script>
		
		<script src="../../xapi-profile/session-profile.js"></script>
		<script src="../../xapi-profile/navigation-profile.js"></script>

		<script type="text/javascript">
		ADL.XAPIWrapper.log.debug = true;
		function init()
        {	
			ADL.XAPIWrapper.changeConfig({
				'endpoint': 'https://lrs.adlnet.gov/xapi/'
			});
			function test (verb){
				return {"id":"verbs","display":"testddddd"}
			}
			var stmt = new ADL.XAPIStatement(
				new ADL.XAPIStatement.Agent(ADL.XAPIWrapper.hash('mailto:steve.vergenz.ctr@adlnet.gov'), 'Steven Vergenz'),
				new ADL.XAPIStatement.Verb(test(), test()),
				new ADL.XAPIStatement.Activity('Video', 'Ocean Life',
					'A short video clip of ocean lifeforms, used by videojs.com as part of their demo.')//object{id, definition.name , definition.description}
			);
			stmt.generateId();
			stmt.addOtherContextActivity( new ADL.XAPIStatement.Activity('https://ubion.co.kr/xapi/video/activity-type/video') );
			stmt.generateRegistration();
			stmt.result = { 
				'extentsion': {
					"time": UBION.media.resultExtenstion["time"],
					"time-to": UBION.media.resultExtenstion["time-to"],                                      
					"time-from": UBION.media.resultExtenstion["time-from"],                                              
					"progress": UBION.media.resultExtenstion["progress"]         
				}
			 };
			console.log("======result :"+ typeof(stmt.result));
			stmt.context = {
				'extentsion': {
					"session-id" : UBION.media.contextExtenstion["session-id"],
					"cc-subtitle-enabled": UBION.media.contextExtenstion["cc-subtitle-enabled"],
					"cc-subtitle-lang": UBION.media.contextExtenstion["cc-subtitle-lang"],
					"frame-rate": UBION.media.contextExtenstion["frame-rate"],
					"full-screen": UBION.media.contextExtenstion["full-screen"],
					"quality": UBION.media.contextExtenstion["quality"],
					"screen-size": UBION.media.contextExtenstion["screen-size"],      
				}
			}
			console.log("======context :"+ typeof(stmt.context));
			ADL.XAPIWrapper.sendStatement(stmt, function(resp, obj){  
  				  ADL.XAPIWrapper.log("[" + obj.id + "]: " + resp.status + " - " + resp.statusText);});
			var o = document.getElementById('output');
			o.innerText = JSON.stringify(stmt, null, '    ');
		}
		test = {
			"abandoned" : {
				"id" : "https://w3id.org/xapi/adl/verbs/abandoned",
				"display" : {"en-US" : "abandoned"}
			}
		};
		function getVerbName(a){
			console.log("test[a]     "+ test[a])
			return test[a]
		}  
		getVerbName(abandoned);
		</script>
	</head>
	<body onload='init()'>
		<code><pre id='output'></pre></code>
	</body>
</html>
